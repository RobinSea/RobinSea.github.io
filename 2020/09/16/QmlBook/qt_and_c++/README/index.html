<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Qt and C++ | 我的博客</title>
  <meta name="keywords" content=" QmlBook ">
  <meta name="description" content="Qt and C++ | 我的博客">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="description" content="关于本人知识结构 1.语言： Qt，C，C++，golang。  2.IDE： Visual studio、Visual studio Code、Qt Creator。  3.系统： 做过android、windows、linux、QNX、Centos等平台软件或系统开发。  4.托管： GitHub、Gitee、SVN进行代码管理。  5.行业：  流媒体行业后台业务音视频转码、截断等开发、运维">
<meta property="og:type" content="website">
<meta property="og:title" content="关于">
<meta property="og:url" content="http://yoursite.com/about/index.html">
<meta property="og:site_name" content="我的博客">
<meta property="og:description" content="关于本人知识结构 1.语言： Qt，C，C++，golang。  2.IDE： Visual studio、Visual studio Code、Qt Creator。  3.系统： 做过android、windows、linux、QNX、Centos等平台软件或系统开发。  4.托管： GitHub、Gitee、SVN进行代码管理。  5.行业：  流媒体行业后台业务音视频转码、截断等开发、运维">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2020-09-02T11:19:21.000Z">
<meta property="article:modified_time" content="2020-09-02T11:50:43.070Z">
<meta property="article:author" content="安联康">
<meta name="twitter:card" content="summary">


<link rel="icon" href="/img/avatar.jpg">

<link href="/css/style.css?v=1.1.0" rel="stylesheet">

<link href="/css/hl_theme/darcula.css?v=1.1.0" rel="stylesheet">

<link href="//cdn.jsdelivr.net/npm/animate.css@4.1.0/animate.min.css" rel="stylesheet">

<script src="//cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
<script src="/js/titleTip.js?v=1.1.0" ></script>

<script src="//cdn.jsdelivr.net/npm/highlightjs@9.16.2/highlight.pack.min.js"></script>
<script>
    hljs.initHighlightingOnLoad();
</script>

<script src="//cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js"></script>



<script src="//cdn.jsdelivr.net/npm/jquery.cookie@1.4.1/jquery.cookie.min.js" ></script>

<script src="/js/iconfont.js?v=1.1.0" ></script>

<meta name="generator" content="Hexo 5.0.2"></head>
<div style="display: none">
  <input class="theme_disqus_on" value="false">
  <input class="theme_preload_comment" value="">
  <input class="theme_blog_path" value="">
  <input id="theme_shortcut" value="true" />
  <input id="theme_highlight_on" value="true" />
  <input id="theme_code_copy" value="true" />
</div>



<body>
<aside class="nav">
    <div class="nav-left">
        <a href="/" class="avatar_target">
    <img class="avatar" src="/img/avatar.jpg" />
</a>
<div class="author">
    <span>安联康</span>
</div>

<div class="icon">
    
        
        <a title="rss" href="/atom.xml" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-rss"></use>
                </svg>
            
        </a>
        
    
        
        <a title="github" href="https://github.com/RobinSea" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-github"></use>
                </svg>
            
        </a>
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
        <a title="email" href="mailto:2291184112@qq.com" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-email"></use>
                </svg>
            
        </a>
        
    
        
        <a title="qq" href="http://wpa.qq.com/msgrd?v=3&uin=2291184112&site=qq&menu=yes" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-qq"></use>
                </svg>
            
        </a>
        
    
        
        <a title="kugou" href="https://www.kugou.com/" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-kugou"></use>
                </svg>
            
        </a>
        
    
        
    
</div>




<ul>
    <li><div class="all active" data-rel="全部文章">全部文章<small>(90)</small></div></li>
    
        
            
            <li><div data-rel="读书"><i class="fold iconfont icon-right"></i>读书<small>(34)</small></div>
                
                    <ul class="sub hide">
                        
                        <li><div data-rel="读书<--->PyQt5">PyQt5<small>(14)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="读书<--->QmlBook">QmlBook<small>(19)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="读书<--->金刚经">金刚经<small>(1)</small></div>
                            
                        </li>
                            
                    </ul>
                
            </li>
            
        
    
        
            
            <li><div data-rel="工具"><i class="fold iconfont icon-right"></i>工具<small>(37)</small></div>
                
                    <ul class="sub hide">
                        
                        <li><div data-rel="工具<--->git">git<small>(8)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="工具<--->hexo">hexo<small>(23)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="工具<--->软件记录">软件记录<small>(5)</small></div>
                            
                        </li>
                            
                    </ul>
                
            </li>
            
        
    
        
            
            <li><div data-rel="运维"><i class="fold iconfont icon-right"></i>运维<small>(9)</small></div>
                
                    <ul class="sub hide">
                        
                        <li><div data-rel="运维<--->docker">docker<small>(1)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="运维<--->golang">golang<small>(3)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="运维<--->kubernetes">kubernetes<small>(4)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="运维<--->ubantu">ubantu<small>(1)</small></div>
                            
                        </li>
                            
                    </ul>
                
            </li>
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
            <li><div data-rel="QML"><i class="fold iconfont icon-right"></i>QML<small>(5)</small></div>
                
                    <ul class="sub hide">
                        
                        <li><div data-rel="QML<--->ComboBox">ComboBox<small>(1)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="QML<--->Gif">Gif<small>(1)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="QML<--->GridView">GridView<small>(1)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="QML<--->ListView">ListView<small>(1)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="QML<--->跑马灯">跑马灯<small>(1)</small></div>
                            
                        </li>
                            
                    </ul>
                
            </li>
            
        
    
        
            
        
    
        
            
        
    
        
            
            <li><div data-rel="使用"><i class="fold iconfont icon-right"></i>使用<small>(3)</small></div>
                
                    <ul class="sub hide">
                        
                        <li><div data-rel="使用<--->Makedown">Makedown<small>(2)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="使用<--->建站">建站<small>(1)</small></div>
                            
                        </li>
                            
                    </ul>
                
            </li>
            
        
    
        
            
            <li><div data-rel="学习"><i class="fold iconfont icon-right"></i>学习<small>(2)</small></div>
                
                    <ul class="sub hide">
                        
                        <li><div data-rel="学习<--->Crank学习">Crank学习<small>(1)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="学习<--->Lua学习">Lua学习<small>(1)</small></div>
                            
                        </li>
                            
                    </ul>
                
            </li>
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
</ul>
<div class="left-bottom">
    <div class="menus">
    
    
    
    
    </div>
    <div><a class="about  hasFriend  site_url"  href="/about">关于</a><a style="width: 50%"  class="friends">友链</a></div>
</div>
<input type="hidden" id="yelog_site_posts_number" value="90">
<input type="hidden" id="yelog_site_word_count" value="150.9k">
<div style="display: none">
    <span id="busuanzi_value_site_uv"></span>
    <span id="busuanzi_value_site_pv"></span>
</div>

    </div>
    <div class="nav-right">
        <div class="friends-area">
    <div class="friends-title">
        友情链接
        <i class="iconfont icon-left"></i>
    </div>
    <div class="friends-content">
        <ul>
            
            <li><a target="_blank" href="http://yelog.org/">叶落阁</a></li>
            
        </ul>
    </div>
</div>
        <div class="title-list">
    <div class="right-top">
        <div id="default-panel">
            <i class="iconfont icon-search" data-title="搜索 快捷键 i"></i>
            <div class="right-title">全部文章</div>
            <i class="iconfont icon-file-tree" data-title="切换到大纲视图 快捷键 w"></i>
        </div>
        <div id="search-panel">
            <i class="iconfont icon-left" data-title="返回"></i>
            <input id="local-search-input" />
            <label class="border-line" for="input"></label>
            <i class="iconfont icon-case-sensitive" data-title="大小写敏感"></i>
            <i class="iconfont icon-tag" data-title="标签"></i>
        </div>
        <div id="outline-panel" style="display: none">
            <div class="right-title">大纲</div>
            <i class="iconfont icon-list" data-title="切换到文章列表"></i>
        </div>
    </div>

    <div class="tags-list">
    <input id="tag-search" />
    <div class="tag-wrapper">
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>3-hexo</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>AnimatedImage</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Arya</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Button</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>ComboBox</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Crank学习</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>deepin</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>docker</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>efficiency</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>ffmpeg</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>fragment_cache</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Gif</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>git</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Git</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>GitHub</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>golang</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>GridView</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>hexo</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>IntellijIDEA</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>k8s</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>kubectl</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>kubernetes</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>ListView</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Lua学习</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>mac</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Makedown</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>mathjax</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>MdEditor</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>MouseArea</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>pjax</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>PropertyAnimation</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>PyQt5</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>QmlBook</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>regex</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Row</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>SequentialAnimation</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>tale</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>terminal</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>vim</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>vscode</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>建站</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>文字跑马灯</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>运维</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>选择框下拉菜单</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>金刚经</a>
            </li>
        
    </div>

</div>

    
    <nav id="title-list-nav">
        
        <a id="top" class="全部文章 工具 hexo "
           href="/3-hexo-logs"
           data-tag="hexo,3-hexo"
           data-author="" >
            <span class="post-title" title="3-hexo开发日志-持续更新">3-hexo开发日志-持续更新</span>
            <span class="post-date" title="2017-03-13 15:44:57">2017/03/13</span>
        </a>
        
        <a id="top" class="全部文章 工具 hexo "
           href="/3-hexo-instruction"
           data-tag="hexo,3-hexo"
           data-author="" >
            <span class="post-title" title="3-hexo使用说明">3-hexo使用说明</span>
            <span class="post-date" title="2017-03-23 15:13:47">2017/03/23</span>
        </a>
        
        <a  class="全部文章 读书 金刚经 "
           href="/2022/10/13/%E9%87%91%E5%88%9A%E7%BB%8F/"
           data-tag="金刚经"
           data-author="" >
            <span class="post-title" title="金刚经">金刚经</span>
            <span class="post-date" title="2022-10-13 10:25:00">2022/10/13</span>
        </a>
        
        <a  class="全部文章 学习 Crank学习 "
           href="/2020/11/29/study/Crank%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"
           data-tag="Crank学习"
           data-author="" >
            <span class="post-title" title="Crank学习">Crank学习</span>
            <span class="post-date" title="2020-11-29 21:07:12">2020/11/29</span>
        </a>
        
        <a  class="全部文章 学习 Lua学习 "
           href="/2020/11/29/study/Lua%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"
           data-tag="Lua学习"
           data-author="" >
            <span class="post-title" title="Lua学习">Lua学习</span>
            <span class="post-date" title="2020-11-29 21:07:12">2020/11/29</span>
        </a>
        
        <a  class="全部文章 读书 PyQt5 "
           href="/2020/09/19/PyQt5/SUMMARY/"
           data-tag="PyQt5"
           data-author="" >
            <span class="post-title" title="目录">目录</span>
            <span class="post-date" title="2020-09-19 21:11:13">2020/09/19</span>
        </a>
        
        <a  class="全部文章 读书 PyQt5 "
           href="/2020/09/19/PyQt5/README/"
           data-tag="PyQt5"
           data-author="" >
            <span class="post-title" title="前言">前言</span>
            <span class="post-date" title="2020-09-19 21:11:12">2020/09/19</span>
        </a>
        
        <a  class="全部文章 读书 PyQt5 "
           href="/2020/09/19/PyQt5/%E4%BB%8B%E7%BB%8D/"
           data-tag="PyQt5"
           data-author="" >
            <span class="post-title" title="PyQt5 简介">PyQt5 简介</span>
            <span class="post-date" title="2020-09-19 21:11:11">2020/09/19</span>
        </a>
        
        <a  class="全部文章 读书 PyQt5 "
           href="/2020/09/19/PyQt5/hello_world/"
           data-tag="PyQt5"
           data-author="" >
            <span class="post-title" title="Hello World">Hello World</span>
            <span class="post-date" title="2020-09-19 21:11:10">2020/09/19</span>
        </a>
        
        <a  class="全部文章 读书 PyQt5 "
           href="/2020/09/19/PyQt5/%E8%8F%9C%E5%8D%95%E5%92%8C%E5%B7%A5%E5%85%B7%E6%A0%8F/"
           data-tag="PyQt5"
           data-author="" >
            <span class="post-title" title="菜单和工具栏">菜单和工具栏</span>
            <span class="post-date" title="2020-09-19 21:11:09">2020/09/19</span>
        </a>
        
        <a  class="全部文章 读书 PyQt5 "
           href="/2020/09/19/PyQt5/%E5%B8%83%E5%B1%80%E7%AE%A1%E7%90%86/"
           data-tag="PyQt5"
           data-author="" >
            <span class="post-title" title="布局管理">布局管理</span>
            <span class="post-date" title="2020-09-19 21:11:08">2020/09/19</span>
        </a>
        
        <a  class="全部文章 读书 PyQt5 "
           href="/2020/09/19/PyQt5/%E4%BA%8B%E4%BB%B6%E5%92%8C%E4%BF%A1%E5%8F%B7/"
           data-tag="PyQt5"
           data-author="" >
            <span class="post-title" title="事件和信号">事件和信号</span>
            <span class="post-date" title="2020-09-19 21:11:07">2020/09/19</span>
        </a>
        
        <a  class="全部文章 读书 PyQt5 "
           href="/2020/09/19/PyQt5/%E5%AF%B9%E8%AF%9D%E6%A1%86/"
           data-tag="PyQt5"
           data-author="" >
            <span class="post-title" title="对话框">对话框</span>
            <span class="post-date" title="2020-09-19 21:11:06">2020/09/19</span>
        </a>
        
        <a  class="全部文章 读书 PyQt5 "
           href="/2020/09/19/PyQt5/%E6%8E%A7%E4%BB%B61/"
           data-tag="PyQt5"
           data-author="" >
            <span class="post-title" title="控件1">控件1</span>
            <span class="post-date" title="2020-09-19 21:11:05">2020/09/19</span>
        </a>
        
        <a  class="全部文章 读书 PyQt5 "
           href="/2020/09/19/PyQt5/%E6%8E%A7%E4%BB%B62/"
           data-tag="PyQt5"
           data-author="" >
            <span class="post-title" title="控件2">控件2</span>
            <span class="post-date" title="2020-09-19 21:11:04">2020/09/19</span>
        </a>
        
        <a  class="全部文章 读书 PyQt5 "
           href="/2020/09/19/PyQt5/%E6%8B%96%E6%8B%BD/"
           data-tag="PyQt5"
           data-author="" >
            <span class="post-title" title="拖拽">拖拽</span>
            <span class="post-date" title="2020-09-19 21:11:03">2020/09/19</span>
        </a>
        
        <a  class="全部文章 读书 PyQt5 "
           href="/2020/09/19/PyQt5/%E7%BB%98%E5%9B%BE/"
           data-tag="PyQt5"
           data-author="" >
            <span class="post-title" title="绘图">绘图</span>
            <span class="post-date" title="2020-09-19 21:11:02">2020/09/19</span>
        </a>
        
        <a  class="全部文章 读书 PyQt5 "
           href="/2020/09/19/PyQt5/%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BB%84%E4%BB%B6/"
           data-tag="PyQt5"
           data-author="" >
            <span class="post-title" title="自定义控件">自定义控件</span>
            <span class="post-date" title="2020-09-19 21:11:01">2020/09/19</span>
        </a>
        
        <a  class="全部文章 读书 PyQt5 "
           href="/2020/09/19/PyQt5/%E4%BF%84%E7%BD%97%E6%96%AF%E6%96%B9%E5%9D%97%E6%B8%B8%E6%88%8F/"
           data-tag="PyQt5"
           data-author="" >
            <span class="post-title" title="俄罗斯方块游戏">俄罗斯方块游戏</span>
            <span class="post-date" title="2020-09-19 21:11:00">2020/09/19</span>
        </a>
        
        <a  class="全部文章 读书 QmlBook "
           href="/2020/09/16/QmlBook/README/"
           data-tag="QmlBook"
           data-author="" >
            <span class="post-title" title="前言">前言</span>
            <span class="post-date" title="2020-09-16 23:00:18">2020/09/16</span>
        </a>
        
        <a  class="全部文章 读书 QmlBook "
           href="/2020/09/16/QmlBook/SUMMARY/"
           data-tag="QmlBook"
           data-author="" >
            <span class="post-title" title="目录">目录</span>
            <span class="post-date" title="2020-09-16 23:00:17">2020/09/16</span>
        </a>
        
        <a  class="全部文章 读书 QmlBook "
           href="/2020/09/16/QmlBook/meet_qt_5/README/"
           data-tag="QmlBook"
           data-author="" >
            <span class="post-title" title="初识Qt5">初识Qt5</span>
            <span class="post-date" title="2020-09-16 23:00:16">2020/09/16</span>
        </a>
        
        <a  class="全部文章 读书 QmlBook "
           href="/2020/09/16/QmlBook/get_start/README/"
           data-tag="QmlBook"
           data-author="" >
            <span class="post-title" title="开始学习（Get Start）">开始学习（Get Start）</span>
            <span class="post-date" title="2020-09-16 23:00:15">2020/09/16</span>
        </a>
        
        <a  class="全部文章 读书 QmlBook "
           href="/2020/09/16/QmlBook/qt_creator_ide/README/"
           data-tag="QmlBook"
           data-author="" >
            <span class="post-title" title="Qt Creator集成开发环境（Qt Creator IDE）">Qt Creator集成开发环境（Qt Creator IDE）</span>
            <span class="post-date" title="2020-09-16 23:00:14">2020/09/16</span>
        </a>
        
        <a  class="全部文章 读书 QmlBook "
           href="/2020/09/16/QmlBook/quick_starter/README/"
           data-tag="QmlBook"
           data-author="" >
            <span class="post-title" title="QML快速入门（Quick Starter）">QML快速入门（Quick Starter）</span>
            <span class="post-date" title="2020-09-16 23:00:13">2020/09/16</span>
        </a>
        
        <a  class="全部文章 读书 QmlBook "
           href="/2020/09/16/QmlBook/fluid_elements/README/"
           data-tag="QmlBook"
           data-author="" >
            <span class="post-title" title="动态元素（Fluid Elements）">动态元素（Fluid Elements）</span>
            <span class="post-date" title="2020-09-16 23:00:12">2020/09/16</span>
        </a>
        
        <a  class="全部文章 读书 QmlBook "
           href="/2020/09/16/QmlBook/model-view-delegate/README/"
           data-tag="QmlBook"
           data-author="" >
            <span class="post-title" title="模型-视图-代理（Model-View-Delegate）">模型-视图-代理（Model-View-Delegate）</span>
            <span class="post-date" title="2020-09-16 23:00:11">2020/09/16</span>
        </a>
        
        <a  class="全部文章 读书 QmlBook "
           href="/2020/09/16/QmlBook/canvas_element/README/"
           data-tag="QmlBook"
           data-author="" >
            <span class="post-title" title="画布元素（Canvas Element）">画布元素（Canvas Element）</span>
            <span class="post-date" title="2020-09-16 23:00:10">2020/09/16</span>
        </a>
        
        <a  class="全部文章 读书 QmlBook "
           href="/2020/09/16/QmlBook/particle_simulations/README/"
           data-tag="QmlBook"
           data-author="" >
            <span class="post-title" title="粒子模拟（Particle Simulations）">粒子模拟（Particle Simulations）</span>
            <span class="post-date" title="2020-09-16 23:00:09">2020/09/16</span>
        </a>
        
        <a  class="全部文章 读书 QmlBook "
           href="/2020/09/16/QmlBook/shader_effect/README/"
           data-tag="QmlBook"
           data-author="" >
            <span class="post-title" title="着色器效果（Shader Effect）">着色器效果（Shader Effect）</span>
            <span class="post-date" title="2020-09-16 23:00:08">2020/09/16</span>
        </a>
        
        <a  class="全部文章 读书 QmlBook "
           href="/2020/09/16/QmlBook/multimedia/README/"
           data-tag="QmlBook"
           data-author="" >
            <span class="post-title" title="多媒体（Multimedia）">多媒体（Multimedia）</span>
            <span class="post-date" title="2020-09-16 23:00:07">2020/09/16</span>
        </a>
        
        <a  class="全部文章 读书 QmlBook "
           href="/2020/09/16/QmlBook/networking/README/"
           data-tag="QmlBook"
           data-author="" >
            <span class="post-title" title="网络（Networking）">网络（Networking）</span>
            <span class="post-date" title="2020-09-16 23:00:06">2020/09/16</span>
        </a>
        
        <a  class="全部文章 读书 QmlBook "
           href="/2020/09/16/QmlBook/storage/README/"
           data-tag="QmlBook"
           data-author="" >
            <span class="post-title" title="存储（Storage）">存储（Storage）</span>
            <span class="post-date" title="2020-09-16 23:00:05">2020/09/16</span>
        </a>
        
        <a  class="全部文章 读书 QmlBook "
           href="/2020/09/16/QmlBook/dynamic_qml/README/"
           data-tag="QmlBook"
           data-author="" >
            <span class="post-title" title="动态QML（Dynamic QML）">动态QML（Dynamic QML）</span>
            <span class="post-date" title="2020-09-16 23:00:04">2020/09/16</span>
        </a>
        
        <a  class="全部文章 读书 QmlBook "
           href="/2020/09/16/QmlBook/javascript/README/"
           data-tag="QmlBook"
           data-author="" >
            <span class="post-title" title="JavaScript">JavaScript</span>
            <span class="post-date" title="2020-09-16 23:00:03">2020/09/16</span>
        </a>
        
        <a  class="全部文章 读书 QmlBook "
           href="/2020/09/16/QmlBook/qt_and_c++/README/"
           data-tag="QmlBook"
           data-author="" >
            <span class="post-title" title="Qt and C++">Qt and C++</span>
            <span class="post-date" title="2020-09-16 23:00:02">2020/09/16</span>
        </a>
        
        <a  class="全部文章 读书 QmlBook "
           href="/2020/09/16/QmlBook/extending_qml_with_c++/README/"
           data-tag="QmlBook"
           data-author="" >
            <span class="post-title" title="C++扩展QML（Extending QML with C++）">C++扩展QML（Extending QML with C++）</span>
            <span class="post-date" title="2020-09-16 23:00:01">2020/09/16</span>
        </a>
        
        <a  class="全部文章 读书 QmlBook "
           href="/2020/09/16/QmlBook/other/README/"
           data-tag="QmlBook"
           data-author="" >
            <span class="post-title" title="其它（Other）">其它（Other）</span>
            <span class="post-date" title="2020-09-16 23:00:00">2020/09/16</span>
        </a>
        
        <a  class="全部文章 QML Gif "
           href="/2020/08/29/qml/gif%E8%B0%83%E7%94%A8/"
           data-tag="Gif,Row,Button,AnimatedImage"
           data-author="" >
            <span class="post-title" title="Gif调用">Gif调用</span>
            <span class="post-date" title="2020-08-29 23:11:51">2020/08/29</span>
        </a>
        
        <a  class="全部文章 QML ListView "
           href="/2020/08/29/qml/ListView%E4%BD%BF%E7%94%A8MouseArea/"
           data-tag="MouseArea,ListView"
           data-author="" >
            <span class="post-title" title="ListView使用MouseArea">ListView使用MouseArea</span>
            <span class="post-date" title="2020-08-29 22:32:51">2020/08/29</span>
        </a>
        
        <a  class="全部文章 QML ComboBox "
           href="/2020/08/29/qml/ComboBox/"
           data-tag="ComboBox,选择框下拉菜单"
           data-author="" >
            <span class="post-title" title="ComboBox">ComboBox</span>
            <span class="post-date" title="2020-08-29 21:11:51">2020/08/29</span>
        </a>
        
        <a  class="全部文章 QML 跑马灯 "
           href="/2020/08/29/qml/%E8%B7%91%E9%A9%AC%E7%81%AF%E5%AE%9E%E7%8E%B0/"
           data-tag="文字跑马灯,SequentialAnimation,PropertyAnimation"
           data-author="" >
            <span class="post-title" title="跑马灯实现">跑马灯实现</span>
            <span class="post-date" title="2020-08-29 20:12:51">2020/08/29</span>
        </a>
        
        <a  class="全部文章 使用 建站 "
           href="/2020/08/28/guidance/%E5%BB%BA%E7%AB%99/"
           data-tag="建站"
           data-author="" >
            <span class="post-title" title="建站参考">建站参考</span>
            <span class="post-date" title="2020-08-28 22:32:51">2020/08/28</span>
        </a>
        
        <a  class="全部文章 QML GridView "
           href="/2020/08/28/qml/GridView%E4%BD%BF%E7%94%A8MouseArea/"
           data-tag="GridView,MouseArea"
           data-author="" >
            <span class="post-title" title="GridView使用MouseArea">GridView使用MouseArea</span>
            <span class="post-date" title="2020-08-28 21:00:51">2020/08/28</span>
        </a>
        
        <a  class="全部文章 使用 Makedown "
           href="/2020/08/20/guidance/Makedown/"
           data-tag="MdEditor,Makedown"
           data-author="" >
            <span class="post-title" title="MdEditor">MdEditor</span>
            <span class="post-date" title="2020-08-20 22:32:51">2020/08/20</span>
        </a>
        
        <a  class="全部文章 使用 Makedown "
           href="/2020/08/20/guidance/mk/"
           data-tag="Makedown,Arya"
           data-author="" >
            <span class="post-title" title="Arya">Arya</span>
            <span class="post-date" title="2020-08-20 21:30:51">2020/08/20</span>
        </a>
        
        <a  class="全部文章 工具 hexo "
           href="/3-hexo-comment"
           data-tag="3-hexo"
           data-author="" >
            <span class="post-title" title="3-hexo评论设置">3-hexo评论设置</span>
            <span class="post-date" title="2020-05-23 22:26:23">2020/05/23</span>
        </a>
        
        <a  class="全部文章 工具 hexo "
           href="/3-hexo-support-mermaid"
           data-tag="hexo,3-hexo"
           data-author="" >
            <span class="post-title" title="3-hexo支持mermaid图表">3-hexo支持mermaid图表</span>
            <span class="post-date" title="2019-11-12 09:55:37">2019/11/12</span>
        </a>
        
        <a  class="全部文章 工具 hexo "
           href="/3-hexo-add-music"
           data-tag="hexo,3-hexo"
           data-author="" >
            <span class="post-title" title="3-hexo 添加音乐插件">3-hexo 添加音乐插件</span>
            <span class="post-date" title="2019-10-08 10:44:30">2019/10/08</span>
        </a>
        
        <a  class="全部文章 工具 hexo "
           href="/3-hexo-jsfiddle"
           data-tag="hexo,3-hexo"
           data-author="" >
            <span class="post-title" title="3-hexo支持jsfiddle渲染">3-hexo支持jsfiddle渲染</span>
            <span class="post-date" title="2019-09-24 09:59:37">2019/09/24</span>
        </a>
        
        <a  class="全部文章 工具 hexo "
           href="/3-hexo-toc"
           data-tag="hexo,3-hexo"
           data-author="" >
            <span class="post-title" title="3-hexo文章内toc生成">3-hexo文章内toc生成</span>
            <span class="post-date" title="2019-09-24 09:48:20">2019/09/24</span>
        </a>
        
        <a  class="全部文章 运维 golang "
           href="/2019/01/25/back-end/golang%E4%BD%BF%E7%94%A8ffmpeg%E7%9A%84%E9%82%A3%E4%BA%9B%E5%9D%91(%E6%95%B4%E7%90%86%E5%90%8E)/"
           data-tag="golang,ffmpeg"
           data-author="" >
            <span class="post-title" title="golang使用ffmpeg的那些坑(整理后)">golang使用ffmpeg的那些坑(整理后)</span>
            <span class="post-date" title="2019-01-25 09:35:25">2019/01/25</span>
        </a>
        
        <a  class="全部文章 运维 golang "
           href="/2018/12/26/back-end/golang%E7%BB%8F%E9%AA%8C%E6%80%BB%E7%BB%93/"
           data-tag="golang"
           data-author="" >
            <span class="post-title" title="经验总结">经验总结</span>
            <span class="post-date" title="2018-12-26 15:59:03">2018/12/26</span>
        </a>
        
        <a  class="全部文章 运维 kubernetes "
           href="/2018/10/16/back-end/kubenetes1.8.15%E4%BA%8C%E8%BF%9B%E5%88%B6%E6%96%87%E4%BB%B6%E9%83%A8%E7%BD%B2/"
           data-tag="kubernetes,k8s"
           data-author="" >
            <span class="post-title" title="kubenetes1.8.15二进制文件部署">kubenetes1.8.15二进制文件部署</span>
            <span class="post-date" title="2018-10-16 14:00:03">2018/10/16</span>
        </a>
        
        <a  class="全部文章 运维 ubantu "
           href="/2018/10/12/back-end/terminal&&vim&&vscode%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/"
           data-tag="vim,terminal,vscode"
           data-author="" >
            <span class="post-title" title="经验总结">经验总结</span>
            <span class="post-date" title="2018-10-12 09:17:10">2018/10/12</span>
        </a>
        
        <a  class="全部文章 运维 kubernetes "
           href="/2018/10/10/back-end/k8s%E5%85%B3%E9%94%AE%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%EF%BC%88%E4%B8%80%EF%BC%89/"
           data-tag="kubernetes,k8s"
           data-author="" >
            <span class="post-title" title="k8s关键知识点汇总（一）">k8s关键知识点汇总（一）</span>
            <span class="post-date" title="2018-10-10 16:46:28">2018/10/10</span>
        </a>
        
        <a  class="全部文章 运维 kubernetes "
           href="/2018/10/10/back-end/k8s%E5%85%B3%E9%94%AE%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%EF%BC%88%E4%B8%89%EF%BC%89----%E5%BF%AB%E9%80%9F%E9%83%A8%E7%BD%B2k8s%E9%9B%86%E7%BE%A4/"
           data-tag="kubernetes,k8s,kubectl"
           data-author="" >
            <span class="post-title" title="k8s关键知识点汇总（二）- kubectl操作命令">k8s关键知识点汇总（二）- kubectl操作命令</span>
            <span class="post-date" title="2018-10-10 16:46:28">2018/10/10</span>
        </a>
        
        <a  class="全部文章 运维 docker "
           href="/2018/10/10/back-end/%E9%95%9C%E5%83%8F%E5%88%B6%E4%BD%9C%EF%BC%88%E4%B8%80%EF%BC%89/"
           data-tag="docker"
           data-author="" >
            <span class="post-title" title="镜像制作（一）">镜像制作（一）</span>
            <span class="post-date" title="2018-10-10 16:46:28">2018/10/10</span>
        </a>
        
        <a  class="全部文章 运维 kubernetes "
           href="/2018/10/09/back-end/k8s%E5%85%B3%E9%94%AE%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%EF%BC%88%E4%BA%8C%EF%BC%89----k8s%E4%B9%8Bkubectl%E6%93%8D%E4%BD%9C%E5%91%BD%E4%BB%A4/"
           data-tag="kubernetes,k8s,kubectl"
           data-author="" >
            <span class="post-title" title="k8s关键知识点汇总（二）- kubectl操作命令">k8s关键知识点汇总（二）- kubectl操作命令</span>
            <span class="post-date" title="2018-10-09 16:54:49">2018/10/09</span>
        </a>
        
        <a  class="全部文章 运维 golang "
           href="/2018/10/09/back-end/go&&docker&&kubernetes(k8s)&&git%20%20%20%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93/"
           data-tag="golang,docker,kubernetes,k8s,git"
           data-author="" >
            <span class="post-title" title="go&amp;&amp;docker&amp;&amp;kubernetes(k8s)&amp;&amp;git   学习总结">go&amp;&amp;docker&amp;&amp;kubernetes(k8s)&amp;&amp;git   学习总结</span>
            <span class="post-date" title="2018-10-09 13:35:18">2018/10/09</span>
        </a>
        
        <a  class="全部文章 工具 软件记录 "
           href="/Mac-BetterTouchTool"
           data-tag="mac,efficiency"
           data-author="" >
            <span class="post-title" title="Mac神器-BTT(BetterTouchTool)不完全教程">Mac神器-BTT(BetterTouchTool)不完全教程</span>
            <span class="post-date" title="2017-12-13 17:04:25">2017/12/13</span>
        </a>
        
        <a  class="全部文章 工具 hexo "
           href="/hexo-fragment_cache"
           data-tag="hexo,fragment_cache"
           data-author="" >
            <span class="post-title" title="Hexo加速渲染速度之fragment_cache">Hexo加速渲染速度之fragment_cache</span>
            <span class="post-date" title="2017-09-21 19:34:37">2017/09/21</span>
        </a>
        
        <a  class="全部文章 工具 hexo "
           href="/MathJax-pjax"
           data-tag="mathjax,pjax"
           data-author="" >
            <span class="post-title" title="MathJax适配Pjax">MathJax适配Pjax</span>
            <span class="post-date" title="2017-07-05 19:24:10">2017/07/05</span>
        </a>
        
        <a  class="全部文章 工具 hexo "
           href="/3-hexo-mathjax"
           data-tag="mathjax"
           data-author="" >
            <span class="post-title" title="3-hexo配置MathJax数学公式渲染">3-hexo配置MathJax数学公式渲染</span>
            <span class="post-date" title="2017-07-05 15:09:42">2017/07/05</span>
        </a>
        
        <a  class="全部文章 工具 hexo "
           href="/gitment"
           data-tag="hexo"
           data-author="" >
            <span class="post-title" title="完美替代多说-gitment">完美替代多说-gitment</span>
            <span class="post-date" title="2017-06-26 12:08:13">2017/06/26</span>
        </a>
        
        <a  class="全部文章 工具 软件记录 "
           href="/tale-build-experience"
           data-tag="tale"
           data-author="" >
            <span class="post-title" title="tale博客搭建及体验">tale博客搭建及体验</span>
            <span class="post-date" title="2017-05-24 11:29:30">2017/05/24</span>
        </a>
        
        <a  class="全部文章 工具 git "
           href="/Git%E7%BB%9F%E8%AE%A1%E6%93%8D%E4%BD%9C"
           data-tag="git"
           data-author="" >
            <span class="post-title" title="Git统计操作">Git统计操作</span>
            <span class="post-date" title="2017-05-16 09:26:11">2017/05/16</span>
        </a>
        
        <a  class="全部文章 工具 软件记录 "
           href="/deepin-linux"
           data-tag="deepin,运维"
           data-author="" >
            <span class="post-title" title="deepin系统使用记录">deepin系统使用记录</span>
            <span class="post-date" title="2017-03-30 18:58:50">2017/03/30</span>
        </a>
        
        <a  class="全部文章 工具 hexo "
           href="/hexo-error-collection"
           data-tag="hexo"
           data-author="" >
            <span class="post-title" title="hexo报错合集">hexo报错合集</span>
            <span class="post-date" title="2017-03-27 19:40:42">2017/03/27</span>
        </a>
        
        <a  class="全部文章 工具 hexo "
           href="/3-hexo-shortcuts"
           data-tag="hexo,3-hexo"
           data-author="" >
            <span class="post-title" title="3-hexo快捷键说明">3-hexo快捷键说明</span>
            <span class="post-date" title="2017-03-24 16:45:31">2017/03/24</span>
        </a>
        
        <a  class="全部文章 工具 "
           href="/the-third-comment"
           data-tag="hexo"
           data-author="" >
            <span class="post-title" title="关于第三方评论系统">关于第三方评论系统</span>
            <span class="post-date" title="2017-03-23 11:59:50">2017/03/23</span>
        </a>
        
        <a  class="全部文章 工具 hexo "
           href="/windows-hexo"
           data-tag="hexo"
           data-author="" >
            <span class="post-title" title="windows环境下使用hexo搭建blog平台">windows环境下使用hexo搭建blog平台</span>
            <span class="post-date" title="2017-03-17 14:02:55">2017/03/17</span>
        </a>
        
        <a  class="全部文章 工具 hexo "
           href="/Hexo-RSS-Sitemap"
           data-tag="hexo"
           data-author="" >
            <span class="post-title" title="为Hexo添加RSS和Sitemap">为Hexo添加RSS和Sitemap</span>
            <span class="post-date" title="2017-03-14 09:44:29">2017/03/14</span>
        </a>
        
        <a  class="全部文章 工具 hexo "
           href="/3-hexo-homepage"
           data-tag="hexo,3-hexo"
           data-author="" >
            <span class="post-title" title="3-hexo配置首页">3-hexo配置首页</span>
            <span class="post-date" title="2017-03-13 09:56:07">2017/03/13</span>
        </a>
        
        <a  class="全部文章 工具 hexo "
           href="/Hexo-WordCount"
           data-tag="hexo"
           data-author="" >
            <span class="post-title" title="Hexo加入字数统计WordCount">Hexo加入字数统计WordCount</span>
            <span class="post-date" title="2017-03-09 16:57:10">2017/03/09</span>
        </a>
        
        <a  class="全部文章 工具 hexo "
           href="/3-hexo"
           data-tag="hexo,3-hexo"
           data-author="" >
            <span class="post-title" title="Hexo主题3-hexo">Hexo主题3-hexo</span>
            <span class="post-date" title="2017-03-07 11:15:50">2017/03/07</span>
        </a>
        
        <a  class="全部文章 工具 hexo "
           href="/3-hexo-multiple-author"
           data-tag="hexo,3-hexo"
           data-author="" >
            <span class="post-title" title="3-hexo多作者模式">3-hexo多作者模式</span>
            <span class="post-date" title="2017-02-28 10:55:31">2017/02/28</span>
        </a>
        
        <a  class="全部文章 工具 hexo "
           href="/hexo-create-404-page"
           data-tag="hexo"
           data-author="" >
            <span class="post-title" title="Hexo创建404页面">Hexo创建404页面</span>
            <span class="post-date" title="2017-02-25 15:18:39">2017/02/25</span>
        </a>
        
        <a  class="全部文章 工具 hexo "
           href="/hexo-top-sort"
           data-tag="hexo"
           data-author="" >
            <span class="post-title" title="Hexo置顶及排序问题">Hexo置顶及排序问题</span>
            <span class="post-date" title="2017-02-24 15:50:38">2017/02/24</span>
        </a>
        
        <a  class="全部文章 工具 git "
           href="/git-reset"
           data-tag="Git"
           data-author="" >
            <span class="post-title" title="Git之reset揭秘">Git之reset揭秘</span>
            <span class="post-date" title="2016-12-24 11:19:24">2016/12/24</span>
        </a>
        
        <a  class="全部文章 工具 git "
           href="/git-master"
           data-tag="Git"
           data-author="" >
            <span class="post-title" title="Git操作之高手过招">Git操作之高手过招</span>
            <span class="post-date" title="2016-12-23 10:59:01">2016/12/23</span>
        </a>
        
        <a  class="全部文章 工具 git "
           href="/Git-SSH-HTTPS-verify-configuration"
           data-tag="Git"
           data-author="" >
            <span class="post-title" title="Git之SSH与HTTPS免密码配置">Git之SSH与HTTPS免密码配置</span>
            <span class="post-date" title="2016-12-21 15:31:55">2016/12/21</span>
        </a>
        
        <a  class="全部文章 工具 软件记录 "
           href="/idea-shortcuts"
           data-tag="IntellijIDEA"
           data-author="" >
            <span class="post-title" title="idea常用快捷键">idea常用快捷键</span>
            <span class="post-date" title="2016-11-05 15:22:48">2016/11/05</span>
        </a>
        
        <a  class="全部文章 工具 hexo "
           href="/hexo-git-server-blog"
           data-tag="hexo,Git"
           data-author="" >
            <span class="post-title" title="Hexo+Git服务器搭建blog">Hexo+Git服务器搭建blog</span>
            <span class="post-date" title="2016-10-23 09:24:03">2016/10/23</span>
        </a>
        
        <a  class="全部文章 工具 hexo "
           href="/hexo-gitHub-pages-create-own-blog"
           data-tag="hexo,Git,GitHub"
           data-author="" >
            <span class="post-title" title="Hexo+GitHub Pages搭建属于自己的blog">Hexo+GitHub Pages搭建属于自己的blog</span>
            <span class="post-date" title="2016-10-22 21:24:05">2016/10/22</span>
        </a>
        
        <a  class="全部文章 工具 git "
           href="/set-up-git-server-on-vps"
           data-tag="Git"
           data-author="" >
            <span class="post-title" title="搭建Git服务器">搭建Git服务器</span>
            <span class="post-date" title="2016-10-22 20:08:04">2016/10/22</span>
        </a>
        
        <a  class="全部文章 工具 git "
           href="/contributing-to-open-source-on-github"
           data-tag="Git,GitHub"
           data-author="" >
            <span class="post-title" title="如何给GitHub上的项目贡献代码">如何给GitHub上的项目贡献代码</span>
            <span class="post-date" title="2016-10-13 15:44:07">2016/10/13</span>
        </a>
        
        <a  class="全部文章 工具 软件记录 "
           href="/regular-expression"
           data-tag="regex"
           data-author="" >
            <span class="post-title" title="正则表达式详解">正则表达式详解</span>
            <span class="post-date" title="2016-10-04 09:41:40">2016/10/04</span>
        </a>
        
        <a  class="全部文章 工具 git "
           href="/Git-command"
           data-tag="Git"
           data-author="" >
            <span class="post-title" title="Git常用命令">Git常用命令</span>
            <span class="post-date" title="2016-10-02 17:15:39">2016/10/02</span>
        </a>
        
        <a  class="全部文章 工具 git "
           href="/computer-mutiple-github-account"
           data-tag="Git,GitHub"
           data-author="" >
            <span class="post-title" title="一个客户端设置多个github账号">一个客户端设置多个github账号</span>
            <span class="post-date" title="2016-09-30 16:42:48">2016/09/30</span>
        </a>
        
        <div id="no-item-tips">

        </div>
    </nav>
    <div id="outline-list">
    </div>
</div>
    </div>
    <div class="hide-list">
        <div class="semicircle" data-title="切换全屏 快捷键 s">
            <div class="brackets first"><</div>
            <div class="brackets">&gt;</div>
        </div>
    </div>
</aside>
<div id="post">
    <div class="pjax">
        <article id="post-QmlBook/qt_and_c++/README" class="article article-type-post" itemscope itemprop="blogPost">
    
        <h1 class="article-title">Qt and C++</h1>
    
    <div class="article-meta">
        
        
        
        <span class="book">
            <i class="iconfont icon-category"></i>
            
            
            <a  data-rel="读书">读书</a> > 
            
            <a  data-rel="读书&lt;---&gt;QmlBook">QmlBook</a>
            
        </span>
        
        
        <span class="tag">
            <i class="iconfont icon-tag"></i>
            
            <a class="color3">QmlBook</a>
            
        </span>
        
    </div>
    <div class="article-meta">
        
            发布时间 : <time class="date" title='最后更新: 2020-09-17 22:56:01'>2020-09-16 23:00</time>
        
    </div>
    <div class="article-meta">
        
        <span>字数:8,968</span>
        
        
        <span id="busuanzi_container_page_pv">
            阅读 :<span id="busuanzi_value_page_pv">
                <span class="count-comment">
                    <span class="spinner">
                      <div class="cube1"></div>
                      <div class="cube2"></div>
                    </span>
                </span>
            </span>
        </span>
        
        
        <span class="top-comment" title="跳转至评论区">
            <a href="#comments">
                评论:<span class="count-comment">
                    <span class="spinner">
                      <div class="cube1"></div>
                      <div class="cube2"></div>
                    </span>
                </span>
            </a>
        </span>
        
    </div>
    
    <div class="toc-ref">
    
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%BC%94%E7%A4%BA%E7%A8%8B%E5%BA%8F%EF%BC%88A-Boilerplate-Application%EF%BC%89"><span class="toc-text">演示程序（A Boilerplate Application）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#QObject%E5%AF%B9%E8%B1%A1%EF%BC%88The-QObject%EF%BC%89"><span class="toc-text">QObject对象（The QObject）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BC%96%E8%AF%91%E7%B3%BB%E7%BB%9F%EF%BC%88Build-Systems%EF%BC%89"><span class="toc-text">编译系统（Build Systems）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#QMake"><span class="toc-text">QMake</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#CMake"><span class="toc-text">CMake</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Qt%E9%80%9A%E7%94%A8%E7%B1%BB%EF%BC%88Common-Qt-Classes%EF%BC%89"><span class="toc-text">Qt通用类（Common Qt Classes）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#QString"><span class="toc-text">QString</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A1%BA%E5%BA%8F%E5%AE%B9%E5%99%A8%EF%BC%88Sequential-Containers%EF%BC%89"><span class="toc-text">顺序容器（Sequential Containers）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%84%E5%90%88%E5%AE%B9%E5%99%A8%EF%BC%88Associative-Containers%EF%BC%89"><span class="toc-text">组合容器（Associative Containers）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E4%BB%B6IO%EF%BC%88File-IO%EF%BC%89"><span class="toc-text">文件IO（File IO）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#C-%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B%EF%BC%88Models-in-C-%EF%BC%89"><span class="toc-text">C++数据模型（Models in C++）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E6%A8%A1%E5%9E%8B%EF%BC%88A-simple-model%EF%BC%89"><span class="toc-text">一个简单的模型（A simple model）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9B%B4%E5%A4%8D%E6%9D%82%E7%9A%84%E6%95%B0%E6%8D%AE%EF%BC%88More-Complex-Data%EF%BC%89"><span class="toc-text">更复杂的数据（More Complex Data）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E6%95%B0%E6%8D%AE%EF%BC%88Dynamic-Data%EF%BC%89"><span class="toc-text">动态数据（Dynamic Data）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%9B%E9%98%B6%E6%8A%80%E5%B7%A7%EF%BC%88Advanced-Techniques%EF%BC%89"><span class="toc-text">进阶技巧（Advanced Techniques）</span></a></li></ol></li></ol>
    
<style>
    .left-col .switch-btn,
    .left-col .switch-area {
        display: none;
    }
    .toc-level-3 i,
    .toc-level-3 ol {
        display: none !important;
    }
</style>
</div>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Qt是QML与JavaScript的C++扩展工具包。有许多语言与Qt绑定，但是由于Qt是由C++开发的，C++的精神贯穿了整个Qt。在这一节中，我们着重从C++的角度介绍Qt，使用C++开发的本地插件来了解如何更好的扩展QML。通过C++，可以扩展和控制提供给QML的执行环境。</p>
<p>这章将讲解Qt，正如Qt所要求的一样，需要读者有一定的C++基础知识。Qt不依赖于先进的C++特性，我认为Qt风格的C++代码可读性非常高，所以不要担心你的C++方面比较差。</p>
<p>从C++的角度分析Qt，你会发现Qt通过内省数据的机制实现了许多现代语言的特性。这是通过使用基础类QObject实现的。内省数据，源数据，类运行时的数据维护。原生的C++是不会完成这些事情的。这使得动态查询对象信息，例如它们的属性成为可能。</p>
<p>Qt使用源对象信息实现了信号与槽的回调绑定。每个信号能够连接任意数量的槽函数或者其它的信号。当一个信号从一个对象实例从发送后，会调用连接信号的槽函数。发送信号的对象不需要知道接收槽对象的任何信息，反之亦然。这一机制可以创建复用性非常高的组件，并减少组件之间的依赖。</p>
<p>内省特性也用于创建动态语言的绑定，使得QML可以调用暴露的C++对象实例，并且可以从JavaScript中调用C++函数。除了绑定Qt C++, 绑定标准的JavaScript也是一种非常流行的方式，还有Python的绑定，叫做PyQt。</p>
<p>除了这些核心概念，Qt可以使用C++开发跨平台应用程序。Qt C++在不同的操作系统上提供了一套平台抽象，允许开发者专注于手上的任务，不需要你去了解如何在不同的操作系统上打开一个文件。这意味着你可以在Windows，OS X和Linux重复编译相同的代码，由Qt去解决在不同平台上的适配问题。最终保持本地构建的应用程序与目标平台的窗口风格上看起来一致。随着移动平台的桌面更新，Qt也提供相同的代码在不同的移动平台上编译，例如IOS，Android，Jolla，BlackBerry，Ubuntu Phone，Tizen。</p>
<p>这样不仅仅是代码可以重用，开发者的技能也可以重用。了解Qt的团队比只专注于单平台特定技能的团队可以接触更多的平台，由于Qt的灵活性，团队可以使用相同的技术创建不同平台的组件。</p>
<p><img src="http://qmlbook.github.io/_images/yourapplication.png"></p>
<p>对于所有平台，Qt提供了一套基本类，例如支持完整unicode编码的字符串，链表容器，向量容器，缓冲容器。它也提供了目标平台的通用主循环抽象和跨平台的线程支持，网络支持。Qt的主旨是为Qt的开发者提供所有必须的功能。对于特定领域的任务，例如本地库接口，Qt也提供了一些帮助类来使得这些操作更加简单。</p>
<h2 id="演示程序（A-Boilerplate-Application）"><a href="#演示程序（A-Boilerplate-Application）" class="headerlink" title="演示程序（A Boilerplate Application）"></a>演示程序（A Boilerplate Application）</h2><p>理解Qt最好的方法是从一个小的应用程序开始。这个简单的例子叫做“Hello World!”，使用unicode编码将字符串写入到一个文件中。</p>
<pre class="line-numbers language-qml" data-language="qml"><code class="language-qml">#include &lt;QCoreApplication>
#include &lt;QString>
#include &lt;QFile>
#include &lt;QDir>
#include &lt;QTextStream>
#include &lt;QDebug>


int main(int argc<span class="token punctuation">,</span> char *argv<span class="token punctuation">[</span><span class="token punctuation">]</span>)
<span class="token punctuation">&#123;</span>
    QCoreApplication app(argc<span class="token punctuation">,</span> argv)<span class="token punctuation">;</span>

    <span class="token comment">// prepare the message</span>
    QString message(<span class="token string">"Hello World!"</span>)<span class="token punctuation">;</span>

    <span class="token comment">// prepare a file in the users home directory named out.txt</span>
    QFile file(QDir<span class="token punctuation">:</span><span class="token javascript-expression language-javascript"><span class="token operator">:</span><span class="token function">home</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">absoluteFilePath</span><span class="token punctuation">(</span><span class="token string">"out.txt"</span><span class="token punctuation">)</span></span>)<span class="token punctuation">;</span>
    <span class="token comment">// try to open the file in write mode</span>
    if(!file.open(QIODevice<span class="token punctuation">:</span><span class="token javascript-expression language-javascript"><span class="token operator">:</span>WriteOnly</span>)) <span class="token punctuation">&#123;</span>
        qWarning() &lt;&lt; <span class="token string">"Can not open file with write access"</span><span class="token punctuation">;</span>
        return -1<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token comment">// as we handle text we need to use proper text codecs</span>
    QTextStream stream(&amp;file)<span class="token punctuation">;</span>
    <span class="token comment">// write message to file via the text stream</span>
    stream &lt;&lt; message<span class="token punctuation">;</span>

    <span class="token comment">// do not start the eventloop as this would wait for external IO</span>
    <span class="token comment">// app.exec();</span>

    <span class="token comment">// no need to close file, closes automatically when scope ends</span>
    return 0<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>这个简单的例子演示了文件访问的使用和通过文本流使用文本编码将文本正确的写入到文件中。二进制数据的操作有一个跨平台的二进制流类叫做QDataStream。我们使用的不同类需要使用它们的类名包含。另一种是使用模块名和类名<br>例如<code>#include &lt;QtCore/QFile&gt;</code>。对于比较懒的人，有一个更加简单的方法是包含整个模块，使用<code>#include &lt;QtCore&gt;</code>。例如在QtCore中你可以在应用程序中使用很多通用的类，这没有UI依赖。查看<a target="_blank" rel="noopener" href="http://doc.qt.io/qt-5/qtcore-module.html">QtCore class list</a>或者<a target="_blank" rel="noopener" href="http://doc.qt.io/qt-5/qtcore-index.html">QtCore overview</a>获取更多的信息。</p>
<p>使用qmake和make来构建程序。QMake读取项目文件（project file）并生成一个Makefile供make使用。项目文件（project file）独立于平台，qmake会根据特定平台的设置应用一些规则来生成Makefile。在有特殊需求的项目中，项目文件也可以包含特定平台规则的平台作用域。下面是一个简单的项目文件（project file）例子。</p>
<pre class="line-numbers language-C++" data-language="C++"><code class="language-C++"># build an application
TEMPLATE &#x3D; app

# use the core module and do not use the gui module
QT       +&#x3D; core
QT       -&#x3D; gui

# name of the executable
TARGET &#x3D; CoreApp

# allow console output
CONFIG   +&#x3D; console

# for mac remove the application bundling
macx &#123;
    CONFIG   -&#x3D; app_bundle
&#125;

# sources to be build
SOURCES +&#x3D; main.cpp<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>我们不会再继续深入这个话题，只需要记住Qt项目会使用特定的项目文件（project file），qmake会根据这些项目文件和指定平台生成Makefile。</p>
<p>上面简单的例子只是在应用程序中写入文本。一个命令行工具这是不够的。对于一个用户界面我们需要一个事件循环来等待用户的输入并安排刷新绘制操作。下面这个相同的例子使用一个桌面按钮来触发写入。</p>
<p>令人惊奇的是我们的main.cpp依然很小。我们将代码移入到我们的类中，并使用信号槽（signal/slots）来连接用用户的输入，例如按钮点击。信号槽（signal/slot）机制通常需要一个对象，你很快就会看到。</p>
<pre class="line-numbers language-C++" data-language="C++"><code class="language-C++">#include &lt;QtCore&gt;
#include &lt;QtGui&gt;
#include &lt;QtWidgets&gt;
#include &quot;mainwindow.h&quot;


int main(int argc, char** argv)
&#123;
    QApplication app(argc, argv);

    MainWindow win;
    win.resize(320, 240);
    win.setVisible(true);

    return app.exec();
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>在main函数中我们简单的创建了一个应用程序对象，并使用exec()开始事件循环。现在应用程序放在了事件循环中，并等待用户输入。</p>
<pre class="line-numbers language-C++" data-language="C++"><code class="language-C++">int main(int argc, char** argv)
&#123;
    QApplication app(argc, argv); &#x2F;&#x2F; init application

    &#x2F;&#x2F; create the ui

    return app.exec(); &#x2F;&#x2F; execute event loop
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>Qt提供了几种UI技术。这个例子中我们使用纯Qt C++的桌面窗口用户界面库。我们需要创建一个主窗口来放置一个触发功能的按钮，同事由主窗口来实现我们的核心功能，正如我们在上面例子上看到的。</p>
<p><img src="http://qmlbook.github.io/_images/storecontent.png"></p>
<p>主窗口本身也是一个窗口，它是一个没有父对象的窗口。这与Qt如何定义用户界面为一个界面元素树类似。在这个例子中，主窗口是我们的根元素，按钮是主窗口上的一个子元素。</p>
<pre class="line-numbers language-C++" data-language="C++"><code class="language-C++">#ifndef MAINWINDOW_H
#define MAINWINDOW_H

#include &lt;QtWidgets&gt;

class MainWindow : public QMainWindow
&#123;
public:
    MainWindow(QWidget* parent&#x3D;0);
    ~MainWindow();
public slots:
    void storeContent();
private:
    QPushButton *m_button;
&#125;;

#endif &#x2F;&#x2F; MAINWINDOW_H<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>此外我们定义了一个公有槽函数<code>storeContent()</code>，当点击按钮时会调用这个函数。槽函数是一个C++方法，这个方法被注册到Qt的源对象系统中，可以被动态调用。</p>
<pre class="line-numbers language-C++" data-language="C++"><code class="language-C++">#include &quot;mainwindow.h&quot;

MainWindow::MainWindow(QWidget *parent)
    : QMainWindow(parent)
&#123;
    m_button &#x3D; new QPushButton(&quot;Store Content&quot;, this);

    setCentralWidget(m_button);
    connect(m_button, &amp;QPushButton::clicked, this, &amp;MainWindow::storeContent);
&#125;

MainWindow::~MainWindow()
&#123;

&#125;

void MainWindow::storeContent()
&#123;
    qDebug() &lt;&lt; &quot;... store content&quot;;
    QString message(&quot;Hello World!&quot;);
    QFile file(QDir::home().absoluteFilePath(&quot;out.txt&quot;));
    if(!file.open(QIODevice::WriteOnly)) &#123;
        qWarning() &lt;&lt; &quot;Can not open file with write access&quot;;
        return;
    &#125;
    QTextStream stream(&amp;file);
    stream &lt;&lt; message;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>在主窗口中我们首先创建了一个按钮，并将<code>clicked()</code>信号与<code>storeContent()</code>槽连接起来。每点击信号发送时都会触发调用槽函数<code>storeContent()</code>。就是这么简单，通过信号与槽的机制实现了松耦合的对象通信。</p>
<h2 id="QObject对象（The-QObject）"><a href="#QObject对象（The-QObject）" class="headerlink" title="QObject对象（The QObject）"></a>QObject对象（The QObject）</h2><p>正如介绍中描述的，<code>QObject</code>是Qt的内省机制。在Qt中它几乎是所有类的基类。值类型除外，例如<code>QColor</code>，<code>QString</code>和<code>QList</code>。</p>
<p>Qt对象是一个标准的C++对象，但是它具有更多的功能。可以从两个方向来深入探讨：内省和内存管理。内省意味着Qt对象知道它的类名，它与其它类的关系，以及它的方法和属性。内存管理意味着每个Qt对象都可以成为是其它子对象的父对象。父对象拥有子对象，当父对象销毁时，它也会负责销毁它的子对象。</p>
<p>理解<code>QObject</code>的能力如何影响一个类最好的方法是使用Qt的类来替换一个典型的C++类。如下所示的代表一个普通的类。</p>
<p>类<code>Person</code>是一个数据类，包含了一个名字和性别属性。<code>Person</code>使用Qt的对象系统来添加一个元信息到c++类中。它允许使用<code>Person</code>对象的用户连接槽函数并且当属性变化时获得通知。</p>
<pre class="line-numbers language-C++" data-language="C++"><code class="language-C++">class Person : public QObject
&#123;
    Q_OBJECT &#x2F;&#x2F; enabled meta object abilities

    &#x2F;&#x2F; property declarations required for QML
    Q_PROPERTY(QString name READ name WRITE setName NOTIFY nameChanged)
    Q_PROPERTY(Gender gender READ gender WRITE setGender NOTIFY genderChanged)

    &#x2F;&#x2F; enables enum introspections
    Q_ENUMS(Gender)

public:
    &#x2F;&#x2F; standard Qt constructor with parent for memory management
    Person(QObject *parent &#x3D; 0);

    enum Gender &#123; Unknown, Male, Female, Other &#125;;

    QString name() const;
    Gender gender() const;

public slots: &#x2F;&#x2F; slots can be connected to signals
    void setName(const QString &amp;);
    void setGender(Gender);

signals: &#x2F;&#x2F; signals can be emitted
    void nameChanged(const QString &amp;name);
    void genderChanged(Gender gender);

private:
    &#x2F;&#x2F; data members
    QString m_name;
    Gender m_gender;
&#125;;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>构造函数传入父对象到超类中并且初始化成员变量。Qt的值类型类会自动初始化。在这个例子中<code>QString</code><br>将会初始化为一个空字符串（<code>QString::isNull()</code>）并且性别成员变量会明确的初始化为未知性别。</p>
<pre class="line-numbers language-C++" data-language="C++"><code class="language-C++">Person::Person(QObject *parent)
    : QObject(parent)
    , m_gender(Person::Unknown)
&#123;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>获取函数在命名在属性后并且是一个简单的<code>const</code>函数。使用设置属性函数当属性被改变时会发送改变信号。为此我们插入一个保护用来比较当前值与新值。只有在值不同时我们指定给成员变量的值才会生效，并且发送改变信号。</p>
<pre class="line-numbers language-C++" data-language="C++"><code class="language-C++">QString Person::name() const
&#123;
    return m_name;
&#125;

void Person::setName(const QString &amp;name)
&#123;
    if (m_name !&#x3D; name) &#x2F;&#x2F; guard
    &#123;
        m_name &#x3D; name;
        emit nameChanged(m_name);
    &#125;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>类通过继承<code>QObject</code>，我们获得了元对象能力，我们可以尝试使用<code>metaObject()</code>的方法。例如从对象中检索类名。</p>
<pre class="line-numbers language-C++" data-language="C++"><code class="language-C++">Person* person &#x3D; new Person();
person-&gt;metaObject()-&gt;className(); &#x2F;&#x2F; &quot;Person&quot;
Person::staticMetaObject.className(); &#x2F;&#x2F; &quot;Person&quot;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>QObject基类和元对象还有其它很多功能。详情请查看<code>QMetaObject</code>文档获取更多信息。</p>
<h2 id="编译系统（Build-Systems）"><a href="#编译系统（Build-Systems）" class="headerlink" title="编译系统（Build Systems）"></a>编译系统（Build Systems）</h2><p>在不同的平台上稳定的编译软件是一个复杂的任务。你将会遇到不同环境下的不同编译器，路径和库变量的问题。Qt的目的是防止应用开发者遭遇这些跨平台问题。为了完成这个任务，Qt引进了<code>qmake</code>编译文件生成器。<code>qmake</code>操作以<code>.pro</code><br>结尾的项目文件。这个项目文件包含了关于应用程序的说明和需要读取的资源文件。用qmake执行这个项目文件会为你生成一个在unix和mac的<code>Makefile</code><br>,如果在windows下使用mingw编译工具链也会生成。否则可能会创建一个visual studio项目或者一个xcode项目。</p>
<p>在unix下使用Qt编译如下：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ edit myproject.pro
$ qmake // generates Makefile
$ <span class="token function">make</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>Qt也允许你使用影子编译。影子编译会在你的源码位置外的路径进行编译。假设我们有一个myproject文件夹，里面有一个myproject.pro文件。如下输入命令：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">mkdir</span> build
$ <span class="token builtin class-name">cd</span> build
$ qmake <span class="token punctuation">..</span>/myproject/myproject.pro<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>我们创建一个编译文件夹并且在这个编译文件中使用qmake指向我们项目文件夹中的项目文件。这将配置makefile使用编译文件夹替代我们的源代码文件夹来存放所有的编译中间件和结果。这允许我们同时为不同的qt版本和编译配置创建不同的编译文件夹并且不会弄乱我们的源代码文件夹。</p>
<p>当你使用Qt Creator时，它会在后代为你做这些事情，通常你不在需要担心这些步骤。对于比较大的项目，建议使用命令行方式来编译你的Qt项目可以更加深入的了解编译流。</p>
<h3 id="QMake"><a href="#QMake" class="headerlink" title="QMake"></a>QMake</h3><p>QMake是用来读取项目文件并生成编译文件的工具。项目文件记录了你的项目配置，扩展依赖库和源代码文件。最简单包含一个源代码文件的项目可能像这样：</p>
<pre class="line-numbers language-C++" data-language="C++"><code class="language-C++">&#x2F;&#x2F; myproject.pro

SOURCES +&#x3D; main.cpp<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>我们编译了一个基于项目文件名称<code>myproject</code>的可执行程序。这个编译将只包含<code>main.cpp</code>源文件。默认情况下我们会为项目添加QtCore和QtGui模块。如果我们的项目是一个QML应用程序，我们需要添加QtQuick和QtQml到这个链表中：</p>
<pre class="line-numbers language-C++" data-language="C++"><code class="language-C++">&#x2F;&#x2F; myproject.pro

QT +&#x3D; qml quick

SOURCES +&#x3D; main.cpp<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>现在编译文件知道与Qt的QtQml和QtQuick模块链接。QMake使用<code>=</code>，<code>+=` and ``-=</code>来指定，添加和移除选项链表中的元素。例如一个只有控制台的编译将不会依赖UI，你需要移除QtGui模块：</p>
<pre class="line-numbers language-C++" data-language="C++"><code class="language-C++">&#x2F;&#x2F; myproject.pro

QT -&#x3D; gui

SOURCES +&#x3D; main.cpp<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>当你期望编译一个库来替代一个应用程序时，你需要改变编译模板：</p>
<pre class="line-numbers language-C++" data-language="C++"><code class="language-C++">&#x2F;&#x2F; myproject.pro
TEMPLATE &#x3D; lib

QT -&#x3D; gui

HEADERS +&#x3D; utils.h
SOURCES +&#x3D; utils.cpp<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>现在项目将使用<code>utils.h</code>头文件和<code>utils.cpp</code>文件编译为一个没有UI依赖的库。库的格式依赖于你当前编译项目所用的操作系统。</p>
<p>通常将会有更加复杂的配置并且需要编译个项目配置。qmake提供了<code>subdirs</code>模板。假设我们有一个mylib和一个myapp项目。我们的配置可能如下：</p>
<pre class="line-numbers language-C++" data-language="C++"><code class="language-C++">my.pro
mylib&#x2F;mylib.pro
mylib&#x2F;utils.h
mylib&#x2F;utils.cpp
myapp&#x2F;myapp.pro
myapp&#x2F;main.cpp<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>我们已经知道了如何使用Mylib.pro和myapp.pro。my.pro作为一个包含项目文件配置如下：</p>
<pre class="line-numbers language-C++" data-language="C++"><code class="language-C++">&#x2F;&#x2F; my.pro
TEMPLATE &#x3D; subdirs

subdirs &#x3D; mylib \
    myapp

myapp.depends &#x3D; mylib<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>在项目文件中声明包含两个子项目<code>mylib</code>和<code>myapp</code>，<code>myapp</code>依赖于<code>mylib</code>。当你使用qmake为这个项目文件生成编译文件时，将会在每个项目文件对应的文件夹下生成一个编译文件。当你使用<code>my.pro</code>文件的makefile编译时，所有的子项目也会编译。</p>
<p>有时你需要基于你的配置在不同的平台上做不同的事情。qmake推荐使用域的概念来处理它。当一个配置选项设置为true时使一个域生效。</p>
<p>例如使用unix指定utils的实现可以像这样：</p>
<pre class="line-numbers language-C++" data-language="C++"><code class="language-C++">unix &#123;
    SOURCES +&#x3D; utils_unix.cpp
&#125; else &#123;
    SOURCES +&#x3D; utils.cpp
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>这表示如果CONFIG变量包含了unix配置将使用对应域下的文件路径，否则使用其它的文件路径。一个典型的例子，移除mac下的应用绑定：</p>
<pre class="line-numbers language-C++" data-language="C++"><code class="language-C++">macx &#123;
    CONFIG -&#x3D; app_bundle
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>这将在mac下创建的应用程序不再是一个<code>.app</code>文件夹而是创建一个应用程序替换它。</p>
<p>基于QMake的项目通常在你开始编写Qt应用程序最好的选择。但是也有一些其它的选择。它们各有优势。我们将在下一小节中简短的讨论其它的选择。</p>
<p><strong>引用</strong></p>
<p><a target="_blank" rel="noopener" href="http://doc.qt.io/qt-5//qmake-manual.html">QMake Manual</a> - qmake手册目录。</p>
<p><a target="_blank" rel="noopener" href="http://doc.qt.io/qt-5//qmake-language.html">QMake Language</a> - 赋值，域和相关语法</p>
<p><a target="_blank" rel="noopener" href="http://doc.qt.io/qt-5//qmake-variable-reference.html">QMake Variables</a> - TEMPLATE，CONFIG，QT等变量解释</p>
<h3 id="CMake"><a href="#CMake" class="headerlink" title="CMake"></a>CMake</h3><p>CMake是由Kitware创造的工具。由于它们的3D可视化软件VTK使得Kitware家喻户晓，当然这也有CMake这个跨平台makefile生成器的功劳。它使用一系列的<code>CMakeLists.txt</code>文件来生成平台指定的makefile。CMake被KDE项目所使用，它与Qt社区有一种特殊的关系。</p>
<pre class="line-numbers language-CMakeLists.txt```文件存储了项目配置。一个简单的hello" data-language="CMakeLists.txt```文件存储了项目配置。一个简单的hello"><code class="language-CMakeLists.txt```文件存储了项目配置。一个简单的hello">
&#96;&#96;&#96;C++
&#x2F;&#x2F; ensure cmake version is at least 3.0
cmake_minimum_required(VERSION 3.0)
&#x2F;&#x2F; adds the source and build location to the include path
set(CMAKE_INCLUDE_CURRENT_DIR ON)
&#x2F;&#x2F; Qt&#39;s MOC tool shall be automatically invoked
set(CMAKE_AUTOMOC ON)
&#x2F;&#x2F; using the Qt5Core module
find_package(Qt5Core)
&#x2F;&#x2F; create excutable helloworld using main.cpp
add_executable(helloworld main.cpp)
&#x2F;&#x2F; helloworld links against Qt5Core
target_link_libraries(helloworld Qt5::Core)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>这将使用main.cpp编译一个可执行的helloworld应用程序，并与额外的Qt5Core库链接。编译文件通常会被修改：</p>
<pre class="line-numbers language-C++" data-language="C++"><code class="language-C++">&#x2F;&#x2F; sets the PROJECT_NAME variable
project(helloworld)
cmake_minimum_required(VERSION 3.0)
set(CMAKE_INCLUDE_CURRENT_DIR ON)
set(CMAKE_AUTOMOC ON)
find_package(Qt5Core)

&#x2F;&#x2F; creates a SRC_LIST variable with main.cpp as single entry
set(SRC_LIST main.cpp)
&#x2F;&#x2F; add an executable based on the project name and source list
add_executable($&#123;PROJECT_NAME&#125; $&#123;SRC_LIST&#125;)
&#x2F;&#x2F; links Qt5Core to the project executable
target_link_libraries($&#123;PROJECT_NAME&#125; Qt5::Core)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>CMake十分强大。需要一些时间来适应语法。通常CMake更加适合大型和复杂的项目。</p>
<p><strong>引用</strong></p>
<p><a target="_blank" rel="noopener" href="http://www.cmake.org/documentation/">CMake Help</a> - CMake在线帮助文档</p>
<p><a target="_blank" rel="noopener" href="http://www.cmake.org/runningcmake/">Running CMake</a></p>
<p><a target="_blank" rel="noopener" href="https://techbase.kde.org/Development/Tutorials/CMake">KDE CMake Tutorial</a></p>
<p><a target="_blank" rel="noopener" href="http://www.kitware.com/products/books/CMakeBook.html">CMake Book</a></p>
<p><a target="_blank" rel="noopener" href="http://www.cmake.org/cmake/help/v3.0/manual/cmake-qt.7.html">CMake and Qt</a></p>
<h2 id="Qt通用类（Common-Qt-Classes）"><a href="#Qt通用类（Common-Qt-Classes）" class="headerlink" title="Qt通用类（Common Qt Classes）"></a>Qt通用类（Common Qt Classes）</h2><p>类<code>QObject</code>组成了Qt的基础，但是在这个框架里还有很多的类。在我们继续探寻如何扩展QML之前，我们需要先了解一些有用的Qt基础类。</p>
<p>在这一节中的示例代码需要使用Qt Test库。它提供一种非常好的方法来测试Qt的API并将其存储供以后参考使用。测试库提供的<code>QVERIFY</code>与<code>QCOMPARE</code>函数断言一个正确条件。我们也将使用域来避免名称校验冲突。所以不要对后面的代码有困惑。</p>
<h3 id="QString"><a href="#QString" class="headerlink" title="QString"></a>QString</h3><p>通常在Qt中文本操作是基于unicode完成的。你需要使用<code>QString</code>类来完成这个事情。它包含了很多好用的功能函数，这与其它流行的框架类似。对于8位的数据你通常需要使用<code>QByteArray</code>类，对于ASCII校验最好使用<code>QLatin1String</code>来暂存。对于一个字符串链你可以使用<code>QList&lt;QString&gt;</code>或者<code>QStringList</code>类（派生自<code>QList&lt;QString&gt;</code>）。</p>
<p>这里有一些例子介绍了如何使用<code>QString</code>类。QString可以在栈上创建，但是它的数据存储在堆上。分配一个字符串数据到另一个上，不会产生拷贝操作，只是创建了数据的引用。这个操作非常廉价让开发者更专注于代码而不是内存操作。<code>QString</code>使用引用计数的方式来确定何时可以安全的删除数据。这个功能叫做<a target="_blank" rel="noopener" href="http://doc.qt.io/qt-5//implicit-sharing.html">隐式共享</a>，在Qt的很多类中都用到了它。</p>
<pre class="line-numbers language-C++" data-language="C++"><code class="language-C++">QString data(&quot;A,B,C,D&quot;); &#x2F;&#x2F; create a simple string
&#x2F;&#x2F; split it into parts
QStringList list &#x3D; data.split(&quot;,&quot;);
&#x2F;&#x2F; create a new string out of the parts
QString out &#x3D; list.join(&quot;,&quot;);
&#x2F;&#x2F; verify both are the same
QVERIFY(data &#x3D;&#x3D; out);
&#x2F;&#x2F; change the first character to upper case
QVERIFY(QString(&quot;A&quot;) &#x3D;&#x3D; out[0].toUpper());<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>这里我们将展示如何将一个字符串转换为数字，将一个数字转换为字符串。也有一些方便的函数用于float或者double和其它类型的转换。只需要在Qt帮助文档中就可以找到这些使用方法。</p>
<pre class="line-numbers language-C++" data-language="C++"><code class="language-C++">&#x2F;&#x2F; create some variables
int v &#x3D; 10;
int base &#x3D; 10;
&#x2F;&#x2F; convert an int to a string
QString a &#x3D; QString::number(v, base);
&#x2F;&#x2F; and back using and sets ok to true on success
bool ok(false);
int v2 &#x3D; a.toInt(&amp;ok, base);
&#x2F;&#x2F; verify our results
QVERIFY(ok &#x3D;&#x3D; true);
QVERIFY(v &#x3D; v2);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>通常你需要参数化文本。例如使用<code>QString(&quot;Hello&quot; + name)</code><br>,一个更加灵活的方法是使用<code>arg</code>标记目标，这样即使在翻译时也可以保证目标的变化。</p>
<pre class="line-numbers language-C++" data-language="C++"><code class="language-C++">&#x2F;&#x2F; create a name
QString name(&quot;Joe&quot;);
&#x2F;&#x2F; get the day of the week as string
QString weekday &#x3D; QDate::currentDate().toString(&quot;dddd&quot;);
&#x2F;&#x2F; format a text using paramters (%1, %2)
QString hello &#x3D; QString(&quot;Hello %1. Today is %2.&quot;).arg(name).arg(weekday);
&#x2F;&#x2F; This worked on Monday. Promise!
if(Qt::Monday &#x3D;&#x3D; QDate::currentDate().dayOfWeek()) &#123;
    QCOMPARE(QString(&quot;Hello Joe. Today is Monday.&quot;), hello);
&#125; else &#123;
    QVERIFY(QString(&quot;Hello Joe. Today is Monday.&quot;) !&#x3D;  hello);
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>有时你需要在你的代码中直接使用unicode字符。你需要记住如何在使用<code>QChar</code>和<code>QString</code>类来标记它们。</p>
<pre class="line-numbers language-C++" data-language="C++"><code class="language-C++">&#x2F;&#x2F; Create a unicode character using the unicode for smile :-)
QChar smile(0x263A);
&#x2F;&#x2F; you should see a :-) on you console
qDebug() &lt;&lt; smile;
&#x2F;&#x2F; Use a unicode in a string
QChar smile2 &#x3D; QString(&quot;\u263A&quot;).at(0);
QVERIFY(smile &#x3D;&#x3D; smile2);
&#x2F;&#x2F; Create 12 smiles in a vector
QVector&lt;QChar&gt; smilies(12);
smilies.fill(smile);
&#x2F;&#x2F; Can you see the smiles
qDebug() &lt;&lt; smilies;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>上面这些示例展示了在Qt中如何轻松的处理unicode文本。对于非unicode文本，QByteArray类同样有很多方便的函数可以使用。阅读Qt帮助文档中QString部分，它有一些很好的示例。</p>
<h3 id="顺序容器（Sequential-Containers）"><a href="#顺序容器（Sequential-Containers）" class="headerlink" title="顺序容器（Sequential Containers）"></a>顺序容器（Sequential Containers）</h3><p>链表，队列，数组都是顺序容器。最常用的顺序容器是<code>QList</code>类。它是一个模板类，需要一个类型才能被初始化。它也是隐式共享的，数据存放在堆中。所有的容器类应该被创建在栈上。正常情况下你不需要使用<code>new QList&lt;T&gt;()</code>这样的语句，千万不要使用new来初始化一个容器。</p>
<p>类<code>QList</code>与类<code>QString</code>一样强大，提供了方便的接口来查询数据。下面一个简单的示例展示了如何使用和遍历链表，这里面也使用到了一些C++11的新特性。</p>
<pre class="line-numbers language-C++" data-language="C++"><code class="language-C++">&#x2F;&#x2F; Create a simple list of ints using the new C++11 initialization
&#x2F;&#x2F; for this you need to add &quot;CONFIG +&#x3D; c++11&quot; to your pro file.
QList&lt;int&gt; list&#123;1,2&#125;;

&#x2F;&#x2F; append another int
list &lt;&lt; 3;

&#x2F;&#x2F; We are using scopes to avoid variable name clashes

&#123; &#x2F;&#x2F; iterate through list using Qt for each
    int sum(0);
    foreach (int v, list) &#123;
        sum +&#x3D; v;
    &#125;
    QVERIFY(sum &#x3D;&#x3D; 6);
&#125;
&#123; &#x2F;&#x2F; iterate through list using C++ 11 range based loop
    int sum &#x3D; 0;
    for(int v : list) &#123;
        sum+&#x3D; v;
    &#125;
    QVERIFY(sum &#x3D;&#x3D; 6);
&#125;

&#123; &#x2F;&#x2F; iterate through list using JAVA style iterators
    int sum &#x3D; 0;
    QListIterator&lt;int&gt; i(list);

    while (i.hasNext()) &#123;
        sum +&#x3D; i.next();
    &#125;
    QVERIFY(sum &#x3D;&#x3D; 6);
&#125;

&#123; &#x2F;&#x2F; iterate through list using STL style iterator
    int sum &#x3D; 0;
    QList&lt;int&gt;::iterator i;
    for (i &#x3D; list.begin(); i !&#x3D; list.end(); ++i) &#123;
        sum +&#x3D; *i;
    &#125;
    QVERIFY(sum &#x3D;&#x3D; 6);
&#125;


&#x2F;&#x2F; using std::sort with mutable iterator using C++11
&#x2F;&#x2F; list will be sorted in descending order
std::sort(list.begin(), list.end(), [](int a, int b) &#123; return a &gt; b; &#125;);
QVERIFY(list &#x3D;&#x3D; QList&lt;int&gt;(&#123;3,2,1&#125;));


int value &#x3D; 3;
&#123; &#x2F;&#x2F; using std::find with const iterator
    QList&lt;int&gt;::const_iterator result &#x3D; std::find(list.constBegin(), list.constEnd(), value);
    QVERIFY(*result &#x3D;&#x3D; value);
&#125;

&#123; &#x2F;&#x2F; using std::find using C++ lambda and C++ 11 auto variable
    auto result &#x3D; std::find_if(list.constBegin(), list.constBegin(), [value](int v) &#123; return v &#x3D;&#x3D; value; &#125;);
    QVERIFY(*result &#x3D;&#x3D; value);
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="组合容器（Associative-Containers）"><a href="#组合容器（Associative-Containers）" class="headerlink" title="组合容器（Associative Containers）"></a>组合容器（Associative Containers）</h3><p>映射，字典或者集合是组合容器的例子。它们使用一个键来保存一个值。它们可以快速的查询它们的元素。我们将展示使用最多的组合容器<code>QHash</code>，同时也会展示一些C++11新的特性。</p>
<pre class="line-numbers language-C++" data-language="C++"><code class="language-C++">QHash&lt;QString, int&gt; hash(&#123;&#123;&quot;b&quot;,2&#125;,&#123;&quot;c&quot;,3&#125;,&#123;&quot;a&quot;,1&#125;&#125;);
qDebug() &lt;&lt; hash.keys(); &#x2F;&#x2F; a,b,c - unordered
qDebug() &lt;&lt; hash.values(); &#x2F;&#x2F; 1,2,3 - unordered but same as order as keys

QVERIFY(hash[&quot;a&quot;] &#x3D;&#x3D; 1);
QVERIFY(hash.value(&quot;a&quot;) &#x3D;&#x3D; 1);
QVERIFY(hash.contains(&quot;c&quot;) &#x3D;&#x3D; true);

&#123; &#x2F;&#x2F; JAVA iterator
    int sum &#x3D;0;
    QHashIterator&lt;QString, int&gt; i(hash);
    while (i.hasNext()) &#123;
        i.next();
        sum+&#x3D; i.value();
        qDebug() &lt;&lt; i.key() &lt;&lt; &quot; &#x3D; &quot; &lt;&lt; i.value();
    &#125;
    QVERIFY(sum &#x3D;&#x3D; 6);
&#125;

&#123; &#x2F;&#x2F; STL iterator
    int sum &#x3D; 0;
    QHash&lt;QString, int&gt;::const_iterator i &#x3D; hash.constBegin();
    while (i !&#x3D; hash.constEnd()) &#123;
        sum +&#x3D; i.value();
        qDebug() &lt;&lt; i.key() &lt;&lt; &quot; &#x3D; &quot; &lt;&lt; i.value();
        i++;
    &#125;
    QVERIFY(sum &#x3D;&#x3D; 6);
&#125;

hash.insert(&quot;d&quot;, 4);
QVERIFY(hash.contains(&quot;d&quot;) &#x3D;&#x3D; true);
hash.remove(&quot;d&quot;);
QVERIFY(hash.contains(&quot;d&quot;) &#x3D;&#x3D; false);

&#123; &#x2F;&#x2F; hash find not successfull
    QHash&lt;QString, int&gt;::const_iterator i &#x3D; hash.find(&quot;e&quot;);
    QVERIFY(i &#x3D;&#x3D; hash.end());
&#125;

&#123; &#x2F;&#x2F; hash find successfull
    QHash&lt;QString, int&gt;::const_iterator i &#x3D; hash.find(&quot;c&quot;);
    while (i !&#x3D; hash.end()) &#123;
        qDebug() &lt;&lt; i.value() &lt;&lt; &quot; &#x3D; &quot; &lt;&lt; i.key();
        i++;
    &#125;
&#125;

&#x2F;&#x2F; QMap
QMap&lt;QString, int&gt; map(&#123;&#123;&quot;b&quot;,2&#125;,&#123;&quot;c&quot;,2&#125;,&#123;&quot;a&quot;,1&#125;&#125;);
qDebug() &lt;&lt; map.keys(); &#x2F;&#x2F; a,b,c - ordered ascending

QVERIFY(map[&quot;a&quot;] &#x3D;&#x3D; 1);
QVERIFY(map.value(&quot;a&quot;) &#x3D;&#x3D; 1);
QVERIFY(map.contains(&quot;c&quot;) &#x3D;&#x3D; true);

&#x2F;&#x2F; JAVA and STL iterator work same as QHash<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="文件IO（File-IO）"><a href="#文件IO（File-IO）" class="headerlink" title="文件IO（File IO）"></a>文件IO（File IO）</h3><p>通常我们都需要从读写文件。<code>QFile</code>是一个<code>QObject</code>对象，但是大多数情况下它被创建在栈上。<code>QFile</code>包含了通知用户数据可读取信号。它可以异步读取大段的数据，直到整个文件读取完成。为了方便它允许使用阻塞的方式读取数据。这种方法通常用于读取小段数据或者小型文件。幸运的是我们在这些例子中都只使用了小型数据。</p>
<p>除了读取文件内容到内存中可以使用<code>QByteArray</code>，你也可以根据读取数据类型使用<code>QDataStream</code>或者使用<code>QTextStream</code>读取unicode字符串。我们现在来看看如何使用。</p>
<pre class="line-numbers language-C++" data-language="C++"><code class="language-C++">QStringList data(&#123;&quot;a&quot;, &quot;b&quot;, &quot;c&quot;&#125;);
&#123; &#x2F;&#x2F; write binary files
    QFile file(&quot;out.bin&quot;);
    if(file.open(QIODevice::WriteOnly)) &#123;
        QDataStream stream(&amp;file);
        stream &lt;&lt; data;
    &#125;
&#125;
&#123; &#x2F;&#x2F; read binary file
    QFile file(&quot;out.bin&quot;);
    if(file.open(QIODevice::ReadOnly)) &#123;
        QDataStream stream(&amp;file);
        QStringList data2;
        stream &gt;&gt; data2;
        QCOMPARE(data, data2);
    &#125;
&#125;
&#123; &#x2F;&#x2F; write text file
    QFile file(&quot;out.txt&quot;);
    if(file.open(QIODevice::WriteOnly)) &#123;
        QTextStream stream(&amp;file);
        QString sdata &#x3D; data.join(&quot;,&quot;);
        stream &lt;&lt; sdata;
    &#125;
&#125;
&#123; &#x2F;&#x2F; read text file
    QFile file(&quot;out.txt&quot;);
    if(file.open(QIODevice::ReadOnly)) &#123;
        QTextStream stream(&amp;file);
        QStringList data2;
        QString sdata;
        stream &gt;&gt; sdata;
        data2 &#x3D; sdata.split(&quot;,&quot;);
        QCOMPARE(data, data2);
    &#125;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="C-数据模型（Models-in-C-）"><a href="#C-数据模型（Models-in-C-）" class="headerlink" title="C++数据模型（Models in C++）"></a>C++数据模型（Models in C++）</h2><p>在QML中的数据模型为链表视图，路径视图和其它需要为模型中的每个子项创建一个代理引用的视图提供数据。视图只创建可是区域内或者缓冲范围内的引用。这使得即使包含成千上万的子项模型仍然可以保持流畅的用户界面。代理扮演了用来渲染模型子项数据的模板。总之：视图使用代理作为模板来渲染模型中的子项。模型为视图提供数据。</p>
<p>当你不想使用C++时，你可以在QML环境中定义模型，你有多重方法为一个视图提供模型。使用C++操作数据或者使用包含了大型数据的C++模型比在QML环境中达到相同目的更加稳定可靠。但是当你值需要少量数据时，QML模型时非常适合的。</p>
<pre class="line-numbers language-qml" data-language="qml"><code class="language-qml"><span class="token class-name">ListView</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// using a integer as model</span>
    <span class="token property">model</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">5</span></span>
    <span class="token property">delegate</span><span class="token punctuation">:</span> <span class="token class-name">Text</span> <span class="token punctuation">&#123;</span> <span class="token property">text</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">'index: '</span> <span class="token operator">+</span> index </span><span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token class-name">ListView</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// using a JS array as model</span>
    <span class="token property">model</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>'A'<span class="token punctuation">,</span> 'B'<span class="token punctuation">,</span> 'C'<span class="token punctuation">,</span> 'D'<span class="token punctuation">,</span> 'E'<span class="token punctuation">]</span>
    <span class="token property">delegate</span><span class="token punctuation">:</span> <span class="token class-name">Text</span> <span class="token punctuation">&#123;</span> 'Char<span class="token punctuation">[</span>'+ index +'<span class="token punctuation">]</span><span class="token punctuation">:</span> ' + modelData <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token class-name">ListView</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// using a dynamic QML ListModel as model</span>
    <span class="token property">model</span><span class="token punctuation">:</span> <span class="token class-name">ListModel</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">ListElement</span> <span class="token punctuation">&#123;</span> <span class="token property">char</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">'A'</span> </span><span class="token punctuation">&#125;</span>
        <span class="token class-name">ListElement</span> <span class="token punctuation">&#123;</span> <span class="token property">char</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">'B'</span> </span><span class="token punctuation">&#125;</span>
        <span class="token class-name">ListElement</span> <span class="token punctuation">&#123;</span> <span class="token property">char</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">'C'</span> </span><span class="token punctuation">&#125;</span>
        <span class="token class-name">ListElement</span> <span class="token punctuation">&#123;</span> <span class="token property">char</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">'D'</span> </span><span class="token punctuation">&#125;</span>
        <span class="token class-name">ListElement</span> <span class="token punctuation">&#123;</span> <span class="token property">char</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">'E'</span> </span><span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token property">delegate</span><span class="token punctuation">:</span> <span class="token class-name">Text</span> <span class="token punctuation">&#123;</span> 'Char<span class="token punctuation">[</span>'+ index +'<span class="token punctuation">]</span><span class="token punctuation">:</span> ' + model.char <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>QML视图知道如何操作不同的模型。对于来自C++的模型需要遵循一个特定的协议。这个协议与动态行为一起被定义在一个API（<code>QAbstractItemModel</code>）中。这个API时为桌面窗口开发的，它可以灵活的作为一个树的基础或者多列表格或者链表。在QML中我们通常值使用API的链表版本（<code>QAbstractListModel</code>）。API包含了一些需要强制实现的函数，另外一些函数时可选的。可选部分通常是用来动态添加或者删除数据。</p>
<h3 id="一个简单的模型（A-simple-model）"><a href="#一个简单的模型（A-simple-model）" class="headerlink" title="一个简单的模型（A simple model）"></a>一个简单的模型（A simple model）</h3><p>一个典型的QML C++模型继承自<code>QAbstractListModel</code><br>，并且最少需要实现<code>data</code>和<code>rowCount</code>函数。在这个例子中我们将使用由<code>QColor</code>类提供的一系列SVG颜色名称并且使用我们的模型展示它们。数据被存储在<code>QList&lt;QString&gt;</code>数据容器中。</p>
<p>我们的<code>DataEntryModel</code>基础自<code>QAbstractListModel</code>并且实现了需要强制实现的函数。我们可以在<code>rowCount</code>中忽略父对象索引，这只在树模型中使用。<code>QModelIndex</code>类提供了视图检索数据需要的单元格行和列的信息，视图基于行列和数据角色从模型中拉取数据。<code>QAbstractListModel</code>在<code>QtCore</code>中定义，但是<code>QColor</code>被定义在<code>QtGui</code>中。我们需要附加<code>QtGui</code>依赖。对于QML应用程序，它可以依赖<code>QtGui</code>，但是它通常不依赖<code>QtWidgets</code>。</p>
<pre class="line-numbers language-C++" data-language="C++"><code class="language-C++">#ifndef DATAENTRYMODEL_H
#define DATAENTRYMODEL_H

#include &lt;QtCore&gt;
#include &lt;QtGui&gt;

class DataEntryModel : public QAbstractListModel
&#123;
    Q_OBJECT
public:
    explicit DataEntryModel(QObject *parent &#x3D; 0);
    ~DataEntryModel();

public: &#x2F;&#x2F; QAbstractItemModel interface
    virtual int rowCount(const QModelIndex &amp;parent) const;
    virtual QVariant data(const QModelIndex &amp;index, int role) const;
private:
    QList&lt;QString&gt; m_data;
&#125;;

#endif &#x2F;&#x2F; DATAENTRYMODEL_H<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>现在你可以使用QML导入命令<code>import org.example 1.0</code>来访问<code>DataEntryModel</code>，和其它QML项使用的方法一样<code>DataEntryModel &#123;&#125;</code>。</p>
<p>我们在这个例子中使用它来显示一个简单的颜色条目列表。</p>
<pre class="line-numbers language-C++" data-language="C++"><code class="language-C++">import org.example 1.0

ListView &#123;
    id: view
    anchors.fill: parent
    model: DataEntryModel &#123;&#125;
    delegate: ListDelegate &#123;
        &#x2F;&#x2F; use the defined model role &quot;display&quot;
        text: model.display
    &#125;
    highlight: ListHighlight &#123; &#125;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>ListDelegate是自定义用来显示文本的代理。ListHighlight是一个矩形框。保持例子的整洁在代码提取时进行了保留。</p>
<p>视图现在可以使用C++模型来显示字符串列表，并且显示模型的属性。它仍然非常简单，但是已经可以在QML中使用。通常数据由外部的模型提供，这里的模型只是扮演了视图的一个接口。</p>
<h3 id="更复杂的数据（More-Complex-Data）"><a href="#更复杂的数据（More-Complex-Data）" class="headerlink" title="更复杂的数据（More Complex Data）"></a>更复杂的数据（More Complex Data）</h3><p>实际工作中使用的模型数据通常比较复杂。所以需要自定义一些角色枚举方便视图通过属性查找数据。例如模型提供颜色数据不仅只是16进制字符串，在QML中也可以是来自HSV颜色模型的色调，饱和度和亮度，以“model.hue”，“model.saturation”和“model.brightness”作为参数。</p>
<pre class="line-numbers language-C++" data-language="C++"><code class="language-C++">#ifndef ROLEENTRYMODEL_H
#define ROLEENTRYMODEL_H

#include &lt;QtCore&gt;
#include &lt;QtGui&gt;

class RoleEntryModel : public QAbstractListModel
&#123;
    Q_OBJECT
public:
    &#x2F;&#x2F; Define the role names to be used
    enum RoleNames &#123;
        NameRole &#x3D; Qt::UserRole,
        HueRole &#x3D; Qt::UserRole+2,
        SaturationRole &#x3D; Qt::UserRole+3,
        BrightnessRole &#x3D; Qt::UserRole+4
    &#125;;

    explicit RoleEntryModel(QObject *parent &#x3D; 0);
    ~RoleEntryModel();

    &#x2F;&#x2F; QAbstractItemModel interface
public:
    virtual int rowCount(const QModelIndex &amp;parent) const override;
    virtual QVariant data(const QModelIndex &amp;index, int role) const override;
protected:
    &#x2F;&#x2F; return the roles mapping to be used by QML
    virtual QHash&lt;int, QByteArray&gt; roleNames() const override;
private:
    QList&lt;QColor&gt; m_data;
    QHash&lt;int, QByteArray&gt; m_roleNames;
&#125;;

#endif &#x2F;&#x2F; ROLEENTRYMODEL_H<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>在头文件中，我们为QML添加了数据角色枚举的映射。当QML尝试访问一个模型中的属性时（例如“model.name”），链表视图将会在映射中查询“name”然后向模型申请使用<code>NameRole</code>角色枚举的数据。用户在定义角色枚举时应该从<code>Qt::UserRole</code>开始，并且对于每个模型需要保证唯一。</p>
<pre class="line-numbers language-C++" data-language="C++"><code class="language-C++">#include &quot;roleentrymodel.h&quot;

RoleEntryModel::RoleEntryModel(QObject *parent)
    : QAbstractListModel(parent)
&#123;
    &#x2F;&#x2F; Set names to the role name hash container (QHash&lt;int, QByteArray&gt;)
    &#x2F;&#x2F; model.name, model.hue, model.saturation, model.brightness
    m_roleNames[NameRole] &#x3D; &quot;name&quot;;
    m_roleNames[HueRole] &#x3D; &quot;hue&quot;;
    m_roleNames[SaturationRole] &#x3D; &quot;saturation&quot;;
    m_roleNames[BrightnessRole] &#x3D; &quot;brightness&quot;;

    &#x2F;&#x2F; Append the color names as QColor to the data list (QList&lt;QColor&gt;)
    for(const QString&amp; name : QColor::colorNames()) &#123;
        m_data.append(QColor(name));
    &#125;

&#125;

RoleEntryModel::~RoleEntryModel()
&#123;
&#125;

int RoleEntryModel::rowCount(const QModelIndex &amp;parent) const
&#123;
    Q_UNUSED(parent);
    return m_data.count();
&#125;

QVariant RoleEntryModel::data(const QModelIndex &amp;index, int role) const
&#123;
    int row &#x3D; index.row();
    if(row &lt; 0 || row &gt;&#x3D; m_data.count()) &#123;
        return QVariant();
    &#125;
    const QColor&amp; color &#x3D; m_data.at(row);
    qDebug() &lt;&lt; row &lt;&lt; role &lt;&lt; color;
    switch(role) &#123;
    case NameRole:
        &#x2F;&#x2F; return the color name as hex string (model.name)
        return color.name();
    case HueRole:
        &#x2F;&#x2F; return the hue of the color (model.hue)
        return color.hueF();
    case SaturationRole:
        &#x2F;&#x2F; return the saturation of the color (model.saturation)
        return color.saturationF();
    case BrightnessRole:
        &#x2F;&#x2F; return the brightness of the color (model.brightness)
        return color.lightnessF();
    &#125;
    return QVariant();
&#125;

QHash&lt;int, QByteArray&gt; RoleEntryModel::roleNames() const
&#123;
    return m_roleNames;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>现在实现只是改变了两个地方。首先是初始化。我们使用<code>QColor</code>数据类型初始化数据链表。此外我们还定义了我们自己的角色名称映射实现QML的访问。这个映射将在后面的<code>::roleNames</code>函数中返回。</p>
<p>第二个变化是在<code>::data</code>函数中。我们确保能够覆盖到其它的角色枚举（例如色调，饱和度，亮度）。没有可以从颜色中获取SVG名称的方法，由于一个颜色可以替代任何颜色，但SVG名称是受限的。所以我们忽略掉这点。我们需要创建一个结构体<code>&#123; QColor, QString &#125;</code>来存储名称，这样可以鉴别已被命名的颜色。</p>
<p>在注册类型完成后，我们可以使用模型了，可以将它的条目显示在我们的用户界面中。</p>
<pre class="line-numbers language-qml" data-language="qml"><code class="language-qml"><span class="token class-name">ListView</span> <span class="token punctuation">&#123;</span>
    <span class="token property">id</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">view</span>
    <span class="token property">anchors.fill</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">parent</span>
    <span class="token property">model</span><span class="token punctuation">:</span> <span class="token class-name">RoleEntryModel</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
    <span class="token property">focus</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token boolean">true</span></span>
    <span class="token property">delegate</span><span class="token punctuation">:</span> <span class="token class-name">ListDelegate</span> <span class="token punctuation">&#123;</span>
        <span class="token property">text</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">'hsv('</span> <span class="token operator">+</span></span>
              Number(model.hue).toFixed(2) + '<span class="token punctuation">,</span>' +
              Number(model.saturation).toFixed() + '<span class="token punctuation">,</span>' +
              Number(model.brightness).toFixed() + ')'
        <span class="token property">color</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">model<span class="token punctuation">.</span>name</span>
    <span class="token punctuation">&#125;</span>
    <span class="token property">highlight</span><span class="token punctuation">:</span> <span class="token class-name">ListHighlight</span> <span class="token punctuation">&#123;</span> <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>我们将返回的类型转换为JS数字类型，这样可以使用定点标记来格式化数字。代码中应当避免直接调用数字（例如<code>model.saturation.toFixed(2)</code>）。选择哪种格式取决于你的输入数据。</p>
<h3 id="动态数据（Dynamic-Data）"><a href="#动态数据（Dynamic-Data）" class="headerlink" title="动态数据（Dynamic Data）"></a>动态数据（Dynamic Data）</h3><p>动态数据包含了从模型中插入，移除，清除数据等。<code>QAbstractListModel</code>期望当条目被移除或者插入时有一个明确的行为。这个行为使用一个信号来表示，在操作调用前和调用后调用这个行为。例如向一个模型插入一行数据，你首先需要发送<code>beginInsertRows</code>信号，然后操作数据，最后发送<code>endInsertRows</code>信号。</p>
<p>我们将在头文件中加入后续的函数。这些使用<code>Q_INVOKABLE</code>函数定义使得可以在QML中调用它们。另一种方法是将它们定义为公共槽函数。</p>
<pre class="line-numbers language-C++" data-language="C++"><code class="language-C++">&#x2F;&#x2F; inserts a color at the index (0 at begining, count-1 at end)
Q_INVOKABLE void insert(int index, const QString&amp; colorValue);
&#x2F;&#x2F; uses insert to insert a color at the end
Q_INVOKABLE void append(const QString&amp; colorValue);
&#x2F;&#x2F; removes a color from the index
Q_INVOKABLE void remove(int index);
&#x2F;&#x2F; clear the whole model (e.g. reset)
Q_INVOKABLE void clear();<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>此外，我们定义了<code>count</code>属性来获取模型的大小和一个使用索引值的<code>get</code>方法来获取颜色。这些东西在QML中使用迭代器遍历模型时会用到。</p>
<pre class="line-numbers language-C++" data-language="C++"><code class="language-C++">&#x2F;&#x2F; gives the size of the model
Q_PROPERTY(int count READ count NOTIFY countChanged)
&#x2F;&#x2F; gets a color at the index
Q_INVOKABLE QColor get(int index);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<p>实现插入数据首先要检查边界和插入值是否有效。在这之后我们开始插入数据。</p>
<pre class="line-numbers language-C++" data-language="C++"><code class="language-C++">void DynamicEntryModel::insert(int index, const QString &amp;colorValue)
&#123;
    if(index &lt; 0 || index &gt; m_data.count()) &#123;
        return;
    &#125;
    QColor color(colorValue);
    if(!color.isValid()) &#123;
        return;
    &#125;
    &#x2F;&#x2F; view protocol (begin &#x3D;&gt; manipulate &#x3D;&gt; end]
    emit beginInsertRows(QModelIndex(), index, index);
    m_data.insert(index, color);
    emit endInsertRows();
    &#x2F;&#x2F; update our count property
    emit countChanged(m_data.count());
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>添加数据非常简单。我们使用模型大小并调用插入函数来实现。</p>
<pre class="line-numbers language-C++" data-language="C++"><code class="language-C++">void DynamicEntryModel::append(const QString &amp;colorValue)
&#123;
    insert(count(), colorValue);
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<p>移除数据与插入数据类似，但是需要调用移除操作协议。</p>
<pre class="line-numbers language-C++" data-language="C++"><code class="language-C++">void DynamicEntryModel::remove(int index)
&#123;
    if(index &lt; 0 || index &gt;&#x3D; m_data.count()) &#123;
        return;
    &#125;
    emit beginRemoveRows(QModelIndex(), index, index);
    m_data.removeAt(index);
    emit endRemoveRows();
    &#x2F;&#x2F; do not forget to update our count property
    emit countChanged(m_data.count());
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>函数<code>count</code>不太重要，这里不再介绍，只需要知道它会返回数据总数。<code>get</code>函数也十分简单。</p>
<pre class="line-numbers language-C++" data-language="C++"><code class="language-C++">QColor DynamicEntryModel::get(int index)
&#123;
    if(index &lt; 0 || index &gt;&#x3D; m_data.count()) &#123;
        return QColor();
    &#125;
    return m_data.at(index);
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>你需要注意你只能返回一个QML可读取的值。如果它不是QML基础类型或者QML所知类型，你需要使用qmlRegisterType或者qmlRegisterUncreatableType注册类型。如果是用户不能在QML中实例化对象的类型应该使用qmlRegisterUncreatableType注册。</p>
<p>现在你可以在QML中使用模型并且可以从模型中插入，添加，移除条目。这里有一个小例子，它允许用户输入一个颜色名称或者颜色16进制值，并将这个颜色加入到模型中在链表视图中显示。代理上的红色圆圈允许用户从模型中移除这个条目。在条目被移除后，模型通知链表视图更新它的内容。</p>
<p><img src="http://qmlbook.github.io/_images/modelview.png"></p>
<p>这里是QML代码。你可以在这章的资源里找到完整的源代码。这个例子使用了QtQuick.Controls和QtQuick.Layout模块使得代码更加紧凑。控制模块提供了QtQuick中一组与桌面相关的用户界面元素，布局模块提供了非常有用的布局管理器。</p>
<pre class="line-numbers language-qml" data-language="qml"><code class="language-qml"><span class="token keyword">import</span> QtQuick 2.2
<span class="token keyword">import</span> QtQuick.Window 2.0
<span class="token keyword">import</span> QtQuick.Controls 1.2
<span class="token keyword">import</span> QtQuick.Layouts 1.1

<span class="token comment">// our module</span>
<span class="token keyword">import</span> org.example 1.0

<span class="token class-name">Window</span> <span class="token punctuation">&#123;</span>
    <span class="token property">visible</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token boolean">true</span></span>
    <span class="token property">width</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">480</span></span>
    <span class="token property">height</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">480</span></span>


    <span class="token class-name">Background</span> <span class="token punctuation">&#123;</span> <span class="token comment">// a dark background</span>
        <span class="token property">id</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">background</span>
    <span class="token punctuation">&#125;</span>

    <span class="token comment">// our dyanmic model</span>
    <span class="token class-name">DynamicEntryModel</span> <span class="token punctuation">&#123;</span>
        <span class="token property">id</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">dynamic</span>
        <span class="token property">onCountChanged</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token punctuation">&#123;</span>
            <span class="token comment">// we print out count and the last entry when count is changing</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'new count: '</span> <span class="token operator">+</span> count<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'last entry: '</span> <span class="token operator">+</span> <span class="token function">get</span><span class="token punctuation">(</span>count<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span></span>
    <span class="token punctuation">&#125;</span>

    <span class="token class-name">ColumnLayout</span> <span class="token punctuation">&#123;</span>
        <span class="token property">anchors.fill</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">parent</span>
        <span class="token property">anchors.margins</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">8</span></span>
        <span class="token class-name">ScrollView</span> <span class="token punctuation">&#123;</span>
            <span class="token property">Layout.fillHeight</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token boolean">true</span></span>
            <span class="token property">Layout.fillWidth</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token boolean">true</span></span>
            <span class="token class-name">ListView</span> <span class="token punctuation">&#123;</span>
                <span class="token property">id</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">view</span>
                <span class="token comment">// set our dynamic model to the views model property</span>
                <span class="token property">model</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">dynamic</span>
                <span class="token property">delegate</span><span class="token punctuation">:</span> <span class="token class-name">ListDelegate</span> <span class="token punctuation">&#123;</span>
                    <span class="token property">width</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">ListView<span class="token punctuation">.</span>view<span class="token punctuation">.</span>width</span>
                    <span class="token comment">// construct a string based on the models proeprties</span>
                    <span class="token property">text</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">'hsv('</span> <span class="token operator">+</span></span>
                          Number(model.hue).toFixed(2) + '<span class="token punctuation">,</span>' +
                          Number(model.saturation).toFixed() + '<span class="token punctuation">,</span>' +
                          Number(model.brightness).toFixed() + ')'
                    <span class="token comment">// sets the font color of our custom delegates</span>
                    <span class="token property">color</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">model<span class="token punctuation">.</span>name</span>

                    <span class="token property">onClicked</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token punctuation">&#123;</span>
                        <span class="token comment">// make this delegate the current item</span>
                        view<span class="token punctuation">.</span>currentIndex <span class="token operator">=</span> index
                        view<span class="token punctuation">.</span>focus <span class="token operator">=</span> <span class="token boolean">true</span>
                    <span class="token punctuation">&#125;</span></span>
                    <span class="token property">onRemove</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token punctuation">&#123;</span>
                        <span class="token comment">// remove the current entry from the model</span>
                        dynamic<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span>
                    <span class="token punctuation">&#125;</span></span>
                <span class="token punctuation">&#125;</span>
                <span class="token property">highlight</span><span class="token punctuation">:</span> <span class="token class-name">ListHighlight</span> <span class="token punctuation">&#123;</span> <span class="token punctuation">&#125;</span>
                <span class="token comment">// some fun with transitions :-)</span>
                <span class="token property">add</span><span class="token punctuation">:</span> <span class="token class-name">Transition</span> <span class="token punctuation">&#123;</span>
                    <span class="token comment">// applied when entry is added</span>
                    <span class="token class-name">NumberAnimation</span> <span class="token punctuation">&#123;</span>
                        <span class="token property">properties</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"x"</span></span><span class="token punctuation">;</span> <span class="token property">from</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token operator">-</span>view<span class="token punctuation">.</span>width</span><span class="token punctuation">;</span>
                        <span class="token property">duration</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">250</span></span><span class="token punctuation">;</span> <span class="token property">easing.type</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">Easing<span class="token punctuation">.</span>InCirc</span>
                    <span class="token punctuation">&#125;</span>
                    <span class="token class-name">NumberAnimation</span> <span class="token punctuation">&#123;</span> <span class="token property">properties</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"y"</span></span><span class="token punctuation">;</span> <span class="token property">from</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">view<span class="token punctuation">.</span>height</span><span class="token punctuation">;</span>
                        <span class="token property">duration</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">250</span></span><span class="token punctuation">;</span> <span class="token property">easing.type</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">Easing<span class="token punctuation">.</span>InCirc</span>
                    <span class="token punctuation">&#125;</span>
                <span class="token punctuation">&#125;</span>
                <span class="token property">remove</span><span class="token punctuation">:</span> <span class="token class-name">Transition</span> <span class="token punctuation">&#123;</span>
                    <span class="token comment">// applied when entry is removed</span>
                    <span class="token class-name">NumberAnimation</span> <span class="token punctuation">&#123;</span>
                        <span class="token property">properties</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"x"</span></span><span class="token punctuation">;</span> <span class="token property">to</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">view<span class="token punctuation">.</span>width</span><span class="token punctuation">;</span>
                        <span class="token property">duration</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">250</span></span><span class="token punctuation">;</span> <span class="token property">easing.type</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">Easing<span class="token punctuation">.</span>InBounce</span>
                    <span class="token punctuation">&#125;</span>
                <span class="token punctuation">&#125;</span>
                <span class="token property">displaced</span><span class="token punctuation">:</span> <span class="token class-name">Transition</span> <span class="token punctuation">&#123;</span>
                    <span class="token comment">// applied when entry is moved</span>
                    <span class="token comment">// (e.g because another element was removed)</span>
                    <span class="token class-name">SequentialAnimation</span> <span class="token punctuation">&#123;</span>
                        <span class="token comment">// wait until remove has finished</span>
                        <span class="token class-name">PauseAnimation</span> <span class="token punctuation">&#123;</span> <span class="token property">duration</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">250</span> </span><span class="token punctuation">&#125;</span>
                        <span class="token class-name">NumberAnimation</span> <span class="token punctuation">&#123;</span> <span class="token property">properties</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"y"</span></span><span class="token punctuation">;</span> <span class="token property">duration</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">75</span></span>
                        <span class="token punctuation">&#125;</span>
                    <span class="token punctuation">&#125;</span>
                <span class="token punctuation">&#125;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
        <span class="token class-name">TextEntry</span> <span class="token punctuation">&#123;</span>
            <span class="token property">id</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">textEntry</span>
            <span class="token property">onAppend</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token punctuation">&#123;</span>
                <span class="token comment">// called when the user presses return on the text field</span>
                <span class="token comment">// or clicks the add button</span>
                dynamic<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>color<span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span></span>

            <span class="token property">onUp</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token punctuation">&#123;</span>
                <span class="token comment">// called when the user presses up while the text field is focused</span>
                view<span class="token punctuation">.</span><span class="token function">decrementCurrentIndex</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span></span>
            <span class="token property">onDown</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token punctuation">&#123;</span>
                <span class="token comment">// same for down</span>
                view<span class="token punctuation">.</span><span class="token function">incrementCurrentIndex</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span></span>

        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>模型-视图编程是Qt中最难的任务之一。对于正常的应用开发者，它是为数不多的需要实现接口的类。其它类你只需要正常使用就可以额。模型的草图通常在QML这边开始。你需要想象你的用户在QML中需要什么样的模型。通常建议创建协议时首先使用ListModel看看如何在QML中更好的工作。这种方法对于定义QML编程接口同样有效。使数据从C++到QML中可用不仅仅是技术边界，也是从命令式编程到声明式编程的编程方法转变。所以准备好经历一些挫折并从中获取快乐吧。</p>
<h3 id="进阶技巧（Advanced-Techniques）"><a href="#进阶技巧（Advanced-Techniques）" class="headerlink" title="进阶技巧（Advanced Techniques）"></a>进阶技巧（Advanced Techniques）</h3>
      
       <hr><span style="font-style: italic;color: gray;"> 转载请注明来源，欢迎对文章中的引用来源进行考证，欢迎指出任何有错误或不够清晰的表达。可以在下面评论区评论，也可以邮件至 2291184112@qq.com </span>
    </div>
</article>


<p>
    <a  class="dashang" onclick="dashangToggle()">赏</a>
</p>




    <div id="comments"></div>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">

<script type="text/javascript">
    $.getScript('/js/gitalk.js', function () {
        var gitalk = new Gitalk({
            clientID: '8b43e31f650f5435483b',
            clientSecret: '064e9e8cea04c2872840ec2ef131b8455ef4fa86',
            repo: 'robinsea.github.io',
            owner: 'RobinSea',
            admin: ['robinsea'],
            id: decodeURI(location.pathname),
            distractionFreeMode: 'true',
            language: 'zh-CN',
            perPage: parseInt('10',10)
        })
        gitalk.render('comments')
    })
</script>







    </div>
    <div class="copyright">
        <p class="footer-entry">
    ©2016-2020 MyBlog
</p>
<p class="footer-entry">Built with <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/yelog/hexo-theme-3-hexo" target="_blank">3-hexo</a> theme</p>

    </div>
    <div class="full-toc">
        <button class="full" data-title="切换全屏 快捷键 s"><span class="min "></span></button>
<a class="" id="rocket" ></a>

    </div>
</div>

<div class="hide_box" onclick="dashangToggle()"></div>
<div class="shang_box">
    <a class="shang_close"  onclick="dashangToggle()">×</a>
    <div class="shang_tit">
        <p>喜欢就点赞,疼爱就打赏</p>
    </div>
    <div class="shang_payimg">
        <div class="pay_img">
            <img src="/img/alipay.jpg" class="alipay" title="扫码支持">
            <img src="/img/weixin.jpg" class="weixin" title="扫码支持">
        </div>
    </div>
    <div class="shang_payselect">
        <span><label><input type="radio" name="pay" checked value="alipay">支付宝</label></span><span><label><input type="radio" name="pay" value="weixin">微信</label></span>
    </div>
</div>


</body>
<script src="/js/jquery.pjax.js?v=1.1.0" ></script>

<script src="/js/script.js?v=1.1.0" ></script>
<script>
    var img_resize = 'default';
    function initArticle() {
        /*渲染对应的表格样式*/
        
            $("#post .pjax table").addClass("green_title");
        
        /*渲染打赏样式*/
        
        $("input[name=pay]").on("click", function () {
            if($("input[name=pay]:checked").val()=="weixin"){
                $(".shang_box .shang_payimg .pay_img").addClass("weixin_img");
            } else {
                $(".shang_box .shang_payimg .pay_img").removeClass("weixin_img");
            }
        })
        
        /*高亮代码块行号*/
        
        /*访问数量*/
        
        $.getScript("//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js");
        
        /*代码高亮，行号对齐*/
        $('.pre-numbering').css('line-height',$('.has-numbering').css('line-height'));
        
        
        /* 渲染*/
        function HTMLDecode(text) {
            var temp = document.createElement("div");
            temp.innerHTML = text;
            var output = temp.innerText || temp.textContent;
            temp = null;
            return output;
        }
        if (window.mermaid){
            window.mermaid = null
        }
        $.getScript("//cdn.jsdelivr.net/npm/mermaid@8.4.2/dist/mermaid.min.js", function () {
            var mermaidOptions = JSON.parse(HTMLDecode("{&#34;theme&#34;:&#34;default&#34;,&#34;startOnLoad&#34;:true,&#34;flowchart&#34;:{&#34;useMaxWidth&#34;:false,&#34;htmlLabels&#34;:true}}"))
            if (window.mermaid) {
                mermaid.initialize(mermaidOptions)
                mermaid.contentLoaded()
            }
        })
        
    }
    /*打赏页面隐藏与展示*/
    
    function dashangToggle() {
        $(".shang_box").fadeToggle();
        $(".hide_box").fadeToggle();
    }
    
</script>

<!--加入行号的高亮代码块样式-->

<!--自定义样式设置-->
<style>
    
    
    .nav {
        width: 542px;
    }
    .nav.fullscreen {
        margin-left: -542px;
    }
    .nav-left {
        width: 120px;
    }
    
    
    @media screen and (max-width: 1468px) {
        .nav {
            width: 492px;
        }
        .nav.fullscreen {
            margin-left: -492px;
        }
        .nav-left {
            width: 100px;
        }
    }
    
    
    @media screen and (max-width: 1024px) {
        .nav {
            width: 492px;
            margin-left: -492px
        }
        .nav.fullscreen {
            margin-left: 0;
        }
    }
    
    @media screen and (max-width: 426px) {
        .nav {
            width: 100%;
        }
        .nav-left {
            width: 100%;
        }
    }
    
    
    .nav-right .title-list nav a .post-title, .nav-right .title-list #local-search-result a .post-title {
        color: #383636;
    }
    
    
    .nav-right .title-list nav a .post-date, .nav-right .title-list #local-search-result a .post-date {
        color: #5e5e5f;
    }
    
    
    .nav-right nav a.hover, #local-search-result a.hover{
        background-color: #e2e0e0;
    }
    
    
    /*列表样式*/
    
    /* 背景图样式 */
    
    
    /*引用块样式*/
    
    /*文章列表背景图*/
    
    
</style>






</html>
