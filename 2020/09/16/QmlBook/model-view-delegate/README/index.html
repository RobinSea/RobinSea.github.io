<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>模型-视图-代理（Model-View-Delegate） | 我的博客</title>
  <meta name="keywords" content=" QmlBook ">
  <meta name="description" content="模型-视图-代理（Model-View-Delegate） | 我的博客">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="description" content="关于本人知识结构 1.语言： Qt，C，C++，golang。  2.IDE： Visual studio、Visual studio Code、Qt Creator。  3.系统： 做过android、windows、linux、QNX、Centos等平台软件或系统开发。  4.托管： GitHub、Gitee、SVN进行代码管理。  5.行业：  流媒体行业后台业务音视频转码、截断等开发、运维">
<meta property="og:type" content="website">
<meta property="og:title" content="关于">
<meta property="og:url" content="http://yoursite.com/about/index.html">
<meta property="og:site_name" content="我的博客">
<meta property="og:description" content="关于本人知识结构 1.语言： Qt，C，C++，golang。  2.IDE： Visual studio、Visual studio Code、Qt Creator。  3.系统： 做过android、windows、linux、QNX、Centos等平台软件或系统开发。  4.托管： GitHub、Gitee、SVN进行代码管理。  5.行业：  流媒体行业后台业务音视频转码、截断等开发、运维">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2020-09-02T11:19:21.000Z">
<meta property="article:modified_time" content="2020-09-02T11:50:43.070Z">
<meta property="article:author" content="安联康">
<meta name="twitter:card" content="summary">


<link rel="icon" href="/img/avatar.jpg">

<link href="/css/style.css?v=1.1.0" rel="stylesheet">

<link href="/css/hl_theme/darcula.css?v=1.1.0" rel="stylesheet">

<link href="//cdn.jsdelivr.net/npm/animate.css@4.1.0/animate.min.css" rel="stylesheet">

<script src="//cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
<script src="/js/titleTip.js?v=1.1.0" ></script>

<script src="//cdn.jsdelivr.net/npm/highlightjs@9.16.2/highlight.pack.min.js"></script>
<script>
    hljs.initHighlightingOnLoad();
</script>

<script src="//cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js"></script>



<script src="//cdn.jsdelivr.net/npm/jquery.cookie@1.4.1/jquery.cookie.min.js" ></script>

<script src="/js/iconfont.js?v=1.1.0" ></script>

<meta name="generator" content="Hexo 5.0.2"></head>
<div style="display: none">
  <input class="theme_disqus_on" value="false">
  <input class="theme_preload_comment" value="">
  <input class="theme_blog_path" value="">
  <input id="theme_shortcut" value="true" />
  <input id="theme_highlight_on" value="true" />
  <input id="theme_code_copy" value="true" />
</div>



<body>
<aside class="nav">
    <div class="nav-left">
        <a href="/" class="avatar_target">
    <img class="avatar" src="/img/avatar.jpg" />
</a>
<div class="author">
    <span>安联康</span>
</div>

<div class="icon">
    
        
        <a title="rss" href="/atom.xml" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-rss"></use>
                </svg>
            
        </a>
        
    
        
        <a title="github" href="https://github.com/RobinSea" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-github"></use>
                </svg>
            
        </a>
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
        <a title="email" href="mailto:2291184112@qq.com" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-email"></use>
                </svg>
            
        </a>
        
    
        
        <a title="qq" href="http://wpa.qq.com/msgrd?v=3&uin=2291184112&site=qq&menu=yes" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-qq"></use>
                </svg>
            
        </a>
        
    
        
        <a title="kugou" href="https://www.kugou.com/" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-kugou"></use>
                </svg>
            
        </a>
        
    
        
    
</div>




<ul>
    <li><div class="all active" data-rel="全部文章">全部文章<small>(88)</small></div></li>
    
        
            
            <li><div data-rel="读书"><i class="fold iconfont icon-right"></i>读书<small>(34)</small></div>
                
                    <ul class="sub hide">
                        
                        <li><div data-rel="读书<--->PyQt5">PyQt5<small>(14)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="读书<--->QmlBook">QmlBook<small>(19)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="读书<--->金刚经">金刚经<small>(1)</small></div>
                            
                        </li>
                            
                    </ul>
                
            </li>
            
        
    
        
            
            <li><div data-rel="工具"><i class="fold iconfont icon-right"></i>工具<small>(37)</small></div>
                
                    <ul class="sub hide">
                        
                        <li><div data-rel="工具<--->git">git<small>(8)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="工具<--->hexo">hexo<small>(23)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="工具<--->软件记录">软件记录<small>(5)</small></div>
                            
                        </li>
                            
                    </ul>
                
            </li>
            
        
    
        
            
            <li><div data-rel="运维"><i class="fold iconfont icon-right"></i>运维<small>(9)</small></div>
                
                    <ul class="sub hide">
                        
                        <li><div data-rel="运维<--->docker">docker<small>(1)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="运维<--->golang">golang<small>(3)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="运维<--->kubernetes">kubernetes<small>(4)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="运维<--->ubantu">ubantu<small>(1)</small></div>
                            
                        </li>
                            
                    </ul>
                
            </li>
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
            <li><div data-rel="QML"><i class="fold iconfont icon-right"></i>QML<small>(5)</small></div>
                
                    <ul class="sub hide">
                        
                        <li><div data-rel="QML<--->ComboBox">ComboBox<small>(1)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="QML<--->Gif">Gif<small>(1)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="QML<--->GridView">GridView<small>(1)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="QML<--->ListView">ListView<small>(1)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="QML<--->跑马灯">跑马灯<small>(1)</small></div>
                            
                        </li>
                            
                    </ul>
                
            </li>
            
        
    
        
            
        
    
        
            
        
    
        
            
            <li><div data-rel="使用"><i class="fold iconfont icon-right"></i>使用<small>(3)</small></div>
                
                    <ul class="sub hide">
                        
                        <li><div data-rel="使用<--->Makedown">Makedown<small>(2)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="使用<--->建站">建站<small>(1)</small></div>
                            
                        </li>
                            
                    </ul>
                
            </li>
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
</ul>
<div class="left-bottom">
    <div class="menus">
    
    
    
    
    </div>
    <div><a class="about  hasFriend  site_url"  href="/about">关于</a><a style="width: 50%"  class="friends">友链</a></div>
</div>
<input type="hidden" id="yelog_site_posts_number" value="88">
<input type="hidden" id="yelog_site_word_count" value="149.3k">
<div style="display: none">
    <span id="busuanzi_value_site_uv"></span>
    <span id="busuanzi_value_site_pv"></span>
</div>

    </div>
    <div class="nav-right">
        <div class="friends-area">
    <div class="friends-title">
        友情链接
        <i class="iconfont icon-left"></i>
    </div>
    <div class="friends-content">
        <ul>
            
            <li><a target="_blank" href="http://yelog.org/">叶落阁</a></li>
            
        </ul>
    </div>
</div>
        <div class="title-list">
    <div class="right-top">
        <div id="default-panel">
            <i class="iconfont icon-search" data-title="搜索 快捷键 i"></i>
            <div class="right-title">全部文章</div>
            <i class="iconfont icon-file-tree" data-title="切换到大纲视图 快捷键 w"></i>
        </div>
        <div id="search-panel">
            <i class="iconfont icon-left" data-title="返回"></i>
            <input id="local-search-input" />
            <label class="border-line" for="input"></label>
            <i class="iconfont icon-case-sensitive" data-title="大小写敏感"></i>
            <i class="iconfont icon-tag" data-title="标签"></i>
        </div>
        <div id="outline-panel" style="display: none">
            <div class="right-title">大纲</div>
            <i class="iconfont icon-list" data-title="切换到文章列表"></i>
        </div>
    </div>

    <div class="tags-list">
    <input id="tag-search" />
    <div class="tag-wrapper">
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>3-hexo</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>AnimatedImage</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Arya</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Button</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>ComboBox</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>deepin</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>docker</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>efficiency</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>ffmpeg</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>fragment_cache</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Gif</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>git</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Git</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>GitHub</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>golang</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>GridView</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>hexo</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>IntellijIDEA</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>k8s</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>kubectl</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>kubernetes</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>ListView</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>mac</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Makedown</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>mathjax</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>MdEditor</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>MouseArea</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>pjax</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>PropertyAnimation</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>PyQt5</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>QmlBook</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>regex</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Row</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>SequentialAnimation</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>tale</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>terminal</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>vim</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>vscode</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>建站</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>文字跑马灯</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>运维</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>选择框下拉菜单</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>金刚经</a>
            </li>
        
    </div>

</div>

    
    <nav id="title-list-nav">
        
        <a id="top" class="全部文章 工具 hexo "
           href="/3-hexo-logs"
           data-tag="hexo,3-hexo"
           data-author="" >
            <span class="post-title" title="3-hexo开发日志-持续更新">3-hexo开发日志-持续更新</span>
            <span class="post-date" title="2017-03-13 15:44:57">2017/03/13</span>
        </a>
        
        <a id="top" class="全部文章 工具 hexo "
           href="/3-hexo-instruction"
           data-tag="hexo,3-hexo"
           data-author="" >
            <span class="post-title" title="3-hexo使用说明">3-hexo使用说明</span>
            <span class="post-date" title="2017-03-23 15:13:47">2017/03/23</span>
        </a>
        
        <a  class="全部文章 读书 金刚经 "
           href="/2022/10/13/%E9%87%91%E5%88%9A%E7%BB%8F/"
           data-tag="金刚经"
           data-author="" >
            <span class="post-title" title="金刚经">金刚经</span>
            <span class="post-date" title="2022-10-13 10:25:00">2022/10/13</span>
        </a>
        
        <a  class="全部文章 读书 PyQt5 "
           href="/2020/09/19/PyQt5/SUMMARY/"
           data-tag="PyQt5"
           data-author="" >
            <span class="post-title" title="目录">目录</span>
            <span class="post-date" title="2020-09-19 21:11:13">2020/09/19</span>
        </a>
        
        <a  class="全部文章 读书 PyQt5 "
           href="/2020/09/19/PyQt5/README/"
           data-tag="PyQt5"
           data-author="" >
            <span class="post-title" title="前言">前言</span>
            <span class="post-date" title="2020-09-19 21:11:12">2020/09/19</span>
        </a>
        
        <a  class="全部文章 读书 PyQt5 "
           href="/2020/09/19/PyQt5/%E4%BB%8B%E7%BB%8D/"
           data-tag="PyQt5"
           data-author="" >
            <span class="post-title" title="PyQt5 简介">PyQt5 简介</span>
            <span class="post-date" title="2020-09-19 21:11:11">2020/09/19</span>
        </a>
        
        <a  class="全部文章 读书 PyQt5 "
           href="/2020/09/19/PyQt5/hello_world/"
           data-tag="PyQt5"
           data-author="" >
            <span class="post-title" title="Hello World">Hello World</span>
            <span class="post-date" title="2020-09-19 21:11:10">2020/09/19</span>
        </a>
        
        <a  class="全部文章 读书 PyQt5 "
           href="/2020/09/19/PyQt5/%E8%8F%9C%E5%8D%95%E5%92%8C%E5%B7%A5%E5%85%B7%E6%A0%8F/"
           data-tag="PyQt5"
           data-author="" >
            <span class="post-title" title="菜单和工具栏">菜单和工具栏</span>
            <span class="post-date" title="2020-09-19 21:11:09">2020/09/19</span>
        </a>
        
        <a  class="全部文章 读书 PyQt5 "
           href="/2020/09/19/PyQt5/%E5%B8%83%E5%B1%80%E7%AE%A1%E7%90%86/"
           data-tag="PyQt5"
           data-author="" >
            <span class="post-title" title="布局管理">布局管理</span>
            <span class="post-date" title="2020-09-19 21:11:08">2020/09/19</span>
        </a>
        
        <a  class="全部文章 读书 PyQt5 "
           href="/2020/09/19/PyQt5/%E4%BA%8B%E4%BB%B6%E5%92%8C%E4%BF%A1%E5%8F%B7/"
           data-tag="PyQt5"
           data-author="" >
            <span class="post-title" title="事件和信号">事件和信号</span>
            <span class="post-date" title="2020-09-19 21:11:07">2020/09/19</span>
        </a>
        
        <a  class="全部文章 读书 PyQt5 "
           href="/2020/09/19/PyQt5/%E5%AF%B9%E8%AF%9D%E6%A1%86/"
           data-tag="PyQt5"
           data-author="" >
            <span class="post-title" title="对话框">对话框</span>
            <span class="post-date" title="2020-09-19 21:11:06">2020/09/19</span>
        </a>
        
        <a  class="全部文章 读书 PyQt5 "
           href="/2020/09/19/PyQt5/%E6%8E%A7%E4%BB%B61/"
           data-tag="PyQt5"
           data-author="" >
            <span class="post-title" title="控件1">控件1</span>
            <span class="post-date" title="2020-09-19 21:11:05">2020/09/19</span>
        </a>
        
        <a  class="全部文章 读书 PyQt5 "
           href="/2020/09/19/PyQt5/%E6%8E%A7%E4%BB%B62/"
           data-tag="PyQt5"
           data-author="" >
            <span class="post-title" title="控件2">控件2</span>
            <span class="post-date" title="2020-09-19 21:11:04">2020/09/19</span>
        </a>
        
        <a  class="全部文章 读书 PyQt5 "
           href="/2020/09/19/PyQt5/%E6%8B%96%E6%8B%BD/"
           data-tag="PyQt5"
           data-author="" >
            <span class="post-title" title="拖拽">拖拽</span>
            <span class="post-date" title="2020-09-19 21:11:03">2020/09/19</span>
        </a>
        
        <a  class="全部文章 读书 PyQt5 "
           href="/2020/09/19/PyQt5/%E7%BB%98%E5%9B%BE/"
           data-tag="PyQt5"
           data-author="" >
            <span class="post-title" title="绘图">绘图</span>
            <span class="post-date" title="2020-09-19 21:11:02">2020/09/19</span>
        </a>
        
        <a  class="全部文章 读书 PyQt5 "
           href="/2020/09/19/PyQt5/%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BB%84%E4%BB%B6/"
           data-tag="PyQt5"
           data-author="" >
            <span class="post-title" title="自定义控件">自定义控件</span>
            <span class="post-date" title="2020-09-19 21:11:01">2020/09/19</span>
        </a>
        
        <a  class="全部文章 读书 PyQt5 "
           href="/2020/09/19/PyQt5/%E4%BF%84%E7%BD%97%E6%96%AF%E6%96%B9%E5%9D%97%E6%B8%B8%E6%88%8F/"
           data-tag="PyQt5"
           data-author="" >
            <span class="post-title" title="俄罗斯方块游戏">俄罗斯方块游戏</span>
            <span class="post-date" title="2020-09-19 21:11:00">2020/09/19</span>
        </a>
        
        <a  class="全部文章 读书 QmlBook "
           href="/2020/09/16/QmlBook/README/"
           data-tag="QmlBook"
           data-author="" >
            <span class="post-title" title="前言">前言</span>
            <span class="post-date" title="2020-09-16 23:00:18">2020/09/16</span>
        </a>
        
        <a  class="全部文章 读书 QmlBook "
           href="/2020/09/16/QmlBook/SUMMARY/"
           data-tag="QmlBook"
           data-author="" >
            <span class="post-title" title="目录">目录</span>
            <span class="post-date" title="2020-09-16 23:00:17">2020/09/16</span>
        </a>
        
        <a  class="全部文章 读书 QmlBook "
           href="/2020/09/16/QmlBook/meet_qt_5/README/"
           data-tag="QmlBook"
           data-author="" >
            <span class="post-title" title="初识Qt5">初识Qt5</span>
            <span class="post-date" title="2020-09-16 23:00:16">2020/09/16</span>
        </a>
        
        <a  class="全部文章 读书 QmlBook "
           href="/2020/09/16/QmlBook/get_start/README/"
           data-tag="QmlBook"
           data-author="" >
            <span class="post-title" title="开始学习（Get Start）">开始学习（Get Start）</span>
            <span class="post-date" title="2020-09-16 23:00:15">2020/09/16</span>
        </a>
        
        <a  class="全部文章 读书 QmlBook "
           href="/2020/09/16/QmlBook/qt_creator_ide/README/"
           data-tag="QmlBook"
           data-author="" >
            <span class="post-title" title="Qt Creator集成开发环境（Qt Creator IDE）">Qt Creator集成开发环境（Qt Creator IDE）</span>
            <span class="post-date" title="2020-09-16 23:00:14">2020/09/16</span>
        </a>
        
        <a  class="全部文章 读书 QmlBook "
           href="/2020/09/16/QmlBook/quick_starter/README/"
           data-tag="QmlBook"
           data-author="" >
            <span class="post-title" title="QML快速入门（Quick Starter）">QML快速入门（Quick Starter）</span>
            <span class="post-date" title="2020-09-16 23:00:13">2020/09/16</span>
        </a>
        
        <a  class="全部文章 读书 QmlBook "
           href="/2020/09/16/QmlBook/fluid_elements/README/"
           data-tag="QmlBook"
           data-author="" >
            <span class="post-title" title="动态元素（Fluid Elements）">动态元素（Fluid Elements）</span>
            <span class="post-date" title="2020-09-16 23:00:12">2020/09/16</span>
        </a>
        
        <a  class="全部文章 读书 QmlBook "
           href="/2020/09/16/QmlBook/model-view-delegate/README/"
           data-tag="QmlBook"
           data-author="" >
            <span class="post-title" title="模型-视图-代理（Model-View-Delegate）">模型-视图-代理（Model-View-Delegate）</span>
            <span class="post-date" title="2020-09-16 23:00:11">2020/09/16</span>
        </a>
        
        <a  class="全部文章 读书 QmlBook "
           href="/2020/09/16/QmlBook/canvas_element/README/"
           data-tag="QmlBook"
           data-author="" >
            <span class="post-title" title="画布元素（Canvas Element）">画布元素（Canvas Element）</span>
            <span class="post-date" title="2020-09-16 23:00:10">2020/09/16</span>
        </a>
        
        <a  class="全部文章 读书 QmlBook "
           href="/2020/09/16/QmlBook/particle_simulations/README/"
           data-tag="QmlBook"
           data-author="" >
            <span class="post-title" title="粒子模拟（Particle Simulations）">粒子模拟（Particle Simulations）</span>
            <span class="post-date" title="2020-09-16 23:00:09">2020/09/16</span>
        </a>
        
        <a  class="全部文章 读书 QmlBook "
           href="/2020/09/16/QmlBook/shader_effect/README/"
           data-tag="QmlBook"
           data-author="" >
            <span class="post-title" title="着色器效果（Shader Effect）">着色器效果（Shader Effect）</span>
            <span class="post-date" title="2020-09-16 23:00:08">2020/09/16</span>
        </a>
        
        <a  class="全部文章 读书 QmlBook "
           href="/2020/09/16/QmlBook/multimedia/README/"
           data-tag="QmlBook"
           data-author="" >
            <span class="post-title" title="多媒体（Multimedia）">多媒体（Multimedia）</span>
            <span class="post-date" title="2020-09-16 23:00:07">2020/09/16</span>
        </a>
        
        <a  class="全部文章 读书 QmlBook "
           href="/2020/09/16/QmlBook/networking/README/"
           data-tag="QmlBook"
           data-author="" >
            <span class="post-title" title="网络（Networking）">网络（Networking）</span>
            <span class="post-date" title="2020-09-16 23:00:06">2020/09/16</span>
        </a>
        
        <a  class="全部文章 读书 QmlBook "
           href="/2020/09/16/QmlBook/storage/README/"
           data-tag="QmlBook"
           data-author="" >
            <span class="post-title" title="存储（Storage）">存储（Storage）</span>
            <span class="post-date" title="2020-09-16 23:00:05">2020/09/16</span>
        </a>
        
        <a  class="全部文章 读书 QmlBook "
           href="/2020/09/16/QmlBook/dynamic_qml/README/"
           data-tag="QmlBook"
           data-author="" >
            <span class="post-title" title="动态QML（Dynamic QML）">动态QML（Dynamic QML）</span>
            <span class="post-date" title="2020-09-16 23:00:04">2020/09/16</span>
        </a>
        
        <a  class="全部文章 读书 QmlBook "
           href="/2020/09/16/QmlBook/javascript/README/"
           data-tag="QmlBook"
           data-author="" >
            <span class="post-title" title="JavaScript">JavaScript</span>
            <span class="post-date" title="2020-09-16 23:00:03">2020/09/16</span>
        </a>
        
        <a  class="全部文章 读书 QmlBook "
           href="/2020/09/16/QmlBook/qt_and_c++/README/"
           data-tag="QmlBook"
           data-author="" >
            <span class="post-title" title="Qt and C++">Qt and C++</span>
            <span class="post-date" title="2020-09-16 23:00:02">2020/09/16</span>
        </a>
        
        <a  class="全部文章 读书 QmlBook "
           href="/2020/09/16/QmlBook/extending_qml_with_c++/README/"
           data-tag="QmlBook"
           data-author="" >
            <span class="post-title" title="C++扩展QML（Extending QML with C++）">C++扩展QML（Extending QML with C++）</span>
            <span class="post-date" title="2020-09-16 23:00:01">2020/09/16</span>
        </a>
        
        <a  class="全部文章 读书 QmlBook "
           href="/2020/09/16/QmlBook/other/README/"
           data-tag="QmlBook"
           data-author="" >
            <span class="post-title" title="其它（Other）">其它（Other）</span>
            <span class="post-date" title="2020-09-16 23:00:00">2020/09/16</span>
        </a>
        
        <a  class="全部文章 QML Gif "
           href="/2020/08/29/qml/gif%E8%B0%83%E7%94%A8/"
           data-tag="Gif,Row,Button,AnimatedImage"
           data-author="" >
            <span class="post-title" title="Gif调用">Gif调用</span>
            <span class="post-date" title="2020-08-29 23:11:51">2020/08/29</span>
        </a>
        
        <a  class="全部文章 QML ListView "
           href="/2020/08/29/qml/ListView%E4%BD%BF%E7%94%A8MouseArea/"
           data-tag="MouseArea,ListView"
           data-author="" >
            <span class="post-title" title="ListView使用MouseArea">ListView使用MouseArea</span>
            <span class="post-date" title="2020-08-29 22:32:51">2020/08/29</span>
        </a>
        
        <a  class="全部文章 QML ComboBox "
           href="/2020/08/29/qml/ComboBox/"
           data-tag="ComboBox,选择框下拉菜单"
           data-author="" >
            <span class="post-title" title="ComboBox">ComboBox</span>
            <span class="post-date" title="2020-08-29 21:11:51">2020/08/29</span>
        </a>
        
        <a  class="全部文章 QML 跑马灯 "
           href="/2020/08/29/qml/%E8%B7%91%E9%A9%AC%E7%81%AF%E5%AE%9E%E7%8E%B0/"
           data-tag="文字跑马灯,SequentialAnimation,PropertyAnimation"
           data-author="" >
            <span class="post-title" title="跑马灯实现">跑马灯实现</span>
            <span class="post-date" title="2020-08-29 20:12:51">2020/08/29</span>
        </a>
        
        <a  class="全部文章 使用 建站 "
           href="/2020/08/28/guidance/%E5%BB%BA%E7%AB%99/"
           data-tag="建站"
           data-author="" >
            <span class="post-title" title="建站参考">建站参考</span>
            <span class="post-date" title="2020-08-28 22:32:51">2020/08/28</span>
        </a>
        
        <a  class="全部文章 QML GridView "
           href="/2020/08/28/qml/GridView%E4%BD%BF%E7%94%A8MouseArea/"
           data-tag="GridView,MouseArea"
           data-author="" >
            <span class="post-title" title="GridView使用MouseArea">GridView使用MouseArea</span>
            <span class="post-date" title="2020-08-28 21:00:51">2020/08/28</span>
        </a>
        
        <a  class="全部文章 使用 Makedown "
           href="/2020/08/20/guidance/Makedown/"
           data-tag="Makedown,MdEditor"
           data-author="" >
            <span class="post-title" title="MdEditor">MdEditor</span>
            <span class="post-date" title="2020-08-20 22:32:51">2020/08/20</span>
        </a>
        
        <a  class="全部文章 使用 Makedown "
           href="/2020/08/20/guidance/mk/"
           data-tag="Arya,Makedown"
           data-author="" >
            <span class="post-title" title="Arya">Arya</span>
            <span class="post-date" title="2020-08-20 21:30:51">2020/08/20</span>
        </a>
        
        <a  class="全部文章 工具 hexo "
           href="/3-hexo-comment"
           data-tag="3-hexo"
           data-author="" >
            <span class="post-title" title="3-hexo评论设置">3-hexo评论设置</span>
            <span class="post-date" title="2020-05-23 22:26:23">2020/05/23</span>
        </a>
        
        <a  class="全部文章 工具 hexo "
           href="/3-hexo-support-mermaid"
           data-tag="hexo,3-hexo"
           data-author="" >
            <span class="post-title" title="3-hexo支持mermaid图表">3-hexo支持mermaid图表</span>
            <span class="post-date" title="2019-11-12 09:55:37">2019/11/12</span>
        </a>
        
        <a  class="全部文章 工具 hexo "
           href="/3-hexo-add-music"
           data-tag="hexo,3-hexo"
           data-author="" >
            <span class="post-title" title="3-hexo 添加音乐插件">3-hexo 添加音乐插件</span>
            <span class="post-date" title="2019-10-08 10:44:30">2019/10/08</span>
        </a>
        
        <a  class="全部文章 工具 hexo "
           href="/3-hexo-jsfiddle"
           data-tag="hexo,3-hexo"
           data-author="" >
            <span class="post-title" title="3-hexo支持jsfiddle渲染">3-hexo支持jsfiddle渲染</span>
            <span class="post-date" title="2019-09-24 09:59:37">2019/09/24</span>
        </a>
        
        <a  class="全部文章 工具 hexo "
           href="/3-hexo-toc"
           data-tag="hexo,3-hexo"
           data-author="" >
            <span class="post-title" title="3-hexo文章内toc生成">3-hexo文章内toc生成</span>
            <span class="post-date" title="2019-09-24 09:48:20">2019/09/24</span>
        </a>
        
        <a  class="全部文章 运维 golang "
           href="/2019/01/25/back-end/golang%E4%BD%BF%E7%94%A8ffmpeg%E7%9A%84%E9%82%A3%E4%BA%9B%E5%9D%91(%E6%95%B4%E7%90%86%E5%90%8E)/"
           data-tag="golang,ffmpeg"
           data-author="" >
            <span class="post-title" title="golang使用ffmpeg的那些坑(整理后)">golang使用ffmpeg的那些坑(整理后)</span>
            <span class="post-date" title="2019-01-25 09:35:25">2019/01/25</span>
        </a>
        
        <a  class="全部文章 运维 golang "
           href="/2018/12/26/back-end/golang%E7%BB%8F%E9%AA%8C%E6%80%BB%E7%BB%93/"
           data-tag="golang"
           data-author="" >
            <span class="post-title" title="经验总结">经验总结</span>
            <span class="post-date" title="2018-12-26 15:59:03">2018/12/26</span>
        </a>
        
        <a  class="全部文章 运维 kubernetes "
           href="/2018/10/16/back-end/kubenetes1.8.15%E4%BA%8C%E8%BF%9B%E5%88%B6%E6%96%87%E4%BB%B6%E9%83%A8%E7%BD%B2/"
           data-tag="kubernetes,k8s"
           data-author="" >
            <span class="post-title" title="kubenetes1.8.15二进制文件部署">kubenetes1.8.15二进制文件部署</span>
            <span class="post-date" title="2018-10-16 14:00:03">2018/10/16</span>
        </a>
        
        <a  class="全部文章 运维 ubantu "
           href="/2018/10/12/back-end/terminal&&vim&&vscode%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/"
           data-tag="vim,terminal,vscode"
           data-author="" >
            <span class="post-title" title="经验总结">经验总结</span>
            <span class="post-date" title="2018-10-12 09:17:10">2018/10/12</span>
        </a>
        
        <a  class="全部文章 运维 kubernetes "
           href="/2018/10/10/back-end/k8s%E5%85%B3%E9%94%AE%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%EF%BC%88%E4%B8%80%EF%BC%89/"
           data-tag="kubernetes,k8s"
           data-author="" >
            <span class="post-title" title="k8s关键知识点汇总（一）">k8s关键知识点汇总（一）</span>
            <span class="post-date" title="2018-10-10 16:46:28">2018/10/10</span>
        </a>
        
        <a  class="全部文章 运维 kubernetes "
           href="/2018/10/10/back-end/k8s%E5%85%B3%E9%94%AE%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%EF%BC%88%E4%B8%89%EF%BC%89----%E5%BF%AB%E9%80%9F%E9%83%A8%E7%BD%B2k8s%E9%9B%86%E7%BE%A4/"
           data-tag="kubernetes,k8s,kubectl"
           data-author="" >
            <span class="post-title" title="k8s关键知识点汇总（二）- kubectl操作命令">k8s关键知识点汇总（二）- kubectl操作命令</span>
            <span class="post-date" title="2018-10-10 16:46:28">2018/10/10</span>
        </a>
        
        <a  class="全部文章 运维 docker "
           href="/2018/10/10/back-end/%E9%95%9C%E5%83%8F%E5%88%B6%E4%BD%9C%EF%BC%88%E4%B8%80%EF%BC%89/"
           data-tag="docker"
           data-author="" >
            <span class="post-title" title="镜像制作（一）">镜像制作（一）</span>
            <span class="post-date" title="2018-10-10 16:46:28">2018/10/10</span>
        </a>
        
        <a  class="全部文章 运维 kubernetes "
           href="/2018/10/09/back-end/k8s%E5%85%B3%E9%94%AE%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%EF%BC%88%E4%BA%8C%EF%BC%89----k8s%E4%B9%8Bkubectl%E6%93%8D%E4%BD%9C%E5%91%BD%E4%BB%A4/"
           data-tag="kubernetes,k8s,kubectl"
           data-author="" >
            <span class="post-title" title="k8s关键知识点汇总（二）- kubectl操作命令">k8s关键知识点汇总（二）- kubectl操作命令</span>
            <span class="post-date" title="2018-10-09 16:54:49">2018/10/09</span>
        </a>
        
        <a  class="全部文章 运维 golang "
           href="/2018/10/09/back-end/go&&docker&&kubernetes(k8s)&&git%20%20%20%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93/"
           data-tag="golang,docker,kubernetes,k8s,git"
           data-author="" >
            <span class="post-title" title="go&amp;&amp;docker&amp;&amp;kubernetes(k8s)&amp;&amp;git   学习总结">go&amp;&amp;docker&amp;&amp;kubernetes(k8s)&amp;&amp;git   学习总结</span>
            <span class="post-date" title="2018-10-09 13:35:18">2018/10/09</span>
        </a>
        
        <a  class="全部文章 工具 软件记录 "
           href="/Mac-BetterTouchTool"
           data-tag="mac,efficiency"
           data-author="" >
            <span class="post-title" title="Mac神器-BTT(BetterTouchTool)不完全教程">Mac神器-BTT(BetterTouchTool)不完全教程</span>
            <span class="post-date" title="2017-12-13 17:04:25">2017/12/13</span>
        </a>
        
        <a  class="全部文章 工具 hexo "
           href="/hexo-fragment_cache"
           data-tag="hexo,fragment_cache"
           data-author="" >
            <span class="post-title" title="Hexo加速渲染速度之fragment_cache">Hexo加速渲染速度之fragment_cache</span>
            <span class="post-date" title="2017-09-21 19:34:37">2017/09/21</span>
        </a>
        
        <a  class="全部文章 工具 hexo "
           href="/MathJax-pjax"
           data-tag="mathjax,pjax"
           data-author="" >
            <span class="post-title" title="MathJax适配Pjax">MathJax适配Pjax</span>
            <span class="post-date" title="2017-07-05 19:24:10">2017/07/05</span>
        </a>
        
        <a  class="全部文章 工具 hexo "
           href="/3-hexo-mathjax"
           data-tag="mathjax"
           data-author="" >
            <span class="post-title" title="3-hexo配置MathJax数学公式渲染">3-hexo配置MathJax数学公式渲染</span>
            <span class="post-date" title="2017-07-05 15:09:42">2017/07/05</span>
        </a>
        
        <a  class="全部文章 工具 hexo "
           href="/gitment"
           data-tag="hexo"
           data-author="" >
            <span class="post-title" title="完美替代多说-gitment">完美替代多说-gitment</span>
            <span class="post-date" title="2017-06-26 12:08:13">2017/06/26</span>
        </a>
        
        <a  class="全部文章 工具 软件记录 "
           href="/tale-build-experience"
           data-tag="tale"
           data-author="" >
            <span class="post-title" title="tale博客搭建及体验">tale博客搭建及体验</span>
            <span class="post-date" title="2017-05-24 11:29:30">2017/05/24</span>
        </a>
        
        <a  class="全部文章 工具 git "
           href="/Git%E7%BB%9F%E8%AE%A1%E6%93%8D%E4%BD%9C"
           data-tag="git"
           data-author="" >
            <span class="post-title" title="Git统计操作">Git统计操作</span>
            <span class="post-date" title="2017-05-16 09:26:11">2017/05/16</span>
        </a>
        
        <a  class="全部文章 工具 软件记录 "
           href="/deepin-linux"
           data-tag="deepin,运维"
           data-author="" >
            <span class="post-title" title="deepin系统使用记录">deepin系统使用记录</span>
            <span class="post-date" title="2017-03-30 18:58:50">2017/03/30</span>
        </a>
        
        <a  class="全部文章 工具 hexo "
           href="/hexo-error-collection"
           data-tag="hexo"
           data-author="" >
            <span class="post-title" title="hexo报错合集">hexo报错合集</span>
            <span class="post-date" title="2017-03-27 19:40:42">2017/03/27</span>
        </a>
        
        <a  class="全部文章 工具 hexo "
           href="/3-hexo-shortcuts"
           data-tag="hexo,3-hexo"
           data-author="" >
            <span class="post-title" title="3-hexo快捷键说明">3-hexo快捷键说明</span>
            <span class="post-date" title="2017-03-24 16:45:31">2017/03/24</span>
        </a>
        
        <a  class="全部文章 工具 "
           href="/the-third-comment"
           data-tag="hexo"
           data-author="" >
            <span class="post-title" title="关于第三方评论系统">关于第三方评论系统</span>
            <span class="post-date" title="2017-03-23 11:59:50">2017/03/23</span>
        </a>
        
        <a  class="全部文章 工具 hexo "
           href="/windows-hexo"
           data-tag="hexo"
           data-author="" >
            <span class="post-title" title="windows环境下使用hexo搭建blog平台">windows环境下使用hexo搭建blog平台</span>
            <span class="post-date" title="2017-03-17 14:02:55">2017/03/17</span>
        </a>
        
        <a  class="全部文章 工具 hexo "
           href="/Hexo-RSS-Sitemap"
           data-tag="hexo"
           data-author="" >
            <span class="post-title" title="为Hexo添加RSS和Sitemap">为Hexo添加RSS和Sitemap</span>
            <span class="post-date" title="2017-03-14 09:44:29">2017/03/14</span>
        </a>
        
        <a  class="全部文章 工具 hexo "
           href="/3-hexo-homepage"
           data-tag="hexo,3-hexo"
           data-author="" >
            <span class="post-title" title="3-hexo配置首页">3-hexo配置首页</span>
            <span class="post-date" title="2017-03-13 09:56:07">2017/03/13</span>
        </a>
        
        <a  class="全部文章 工具 hexo "
           href="/Hexo-WordCount"
           data-tag="hexo"
           data-author="" >
            <span class="post-title" title="Hexo加入字数统计WordCount">Hexo加入字数统计WordCount</span>
            <span class="post-date" title="2017-03-09 16:57:10">2017/03/09</span>
        </a>
        
        <a  class="全部文章 工具 hexo "
           href="/3-hexo"
           data-tag="hexo,3-hexo"
           data-author="" >
            <span class="post-title" title="Hexo主题3-hexo">Hexo主题3-hexo</span>
            <span class="post-date" title="2017-03-07 11:15:50">2017/03/07</span>
        </a>
        
        <a  class="全部文章 工具 hexo "
           href="/3-hexo-multiple-author"
           data-tag="hexo,3-hexo"
           data-author="" >
            <span class="post-title" title="3-hexo多作者模式">3-hexo多作者模式</span>
            <span class="post-date" title="2017-02-28 10:55:31">2017/02/28</span>
        </a>
        
        <a  class="全部文章 工具 hexo "
           href="/hexo-create-404-page"
           data-tag="hexo"
           data-author="" >
            <span class="post-title" title="Hexo创建404页面">Hexo创建404页面</span>
            <span class="post-date" title="2017-02-25 15:18:39">2017/02/25</span>
        </a>
        
        <a  class="全部文章 工具 hexo "
           href="/hexo-top-sort"
           data-tag="hexo"
           data-author="" >
            <span class="post-title" title="Hexo置顶及排序问题">Hexo置顶及排序问题</span>
            <span class="post-date" title="2017-02-24 15:50:38">2017/02/24</span>
        </a>
        
        <a  class="全部文章 工具 git "
           href="/git-reset"
           data-tag="Git"
           data-author="" >
            <span class="post-title" title="Git之reset揭秘">Git之reset揭秘</span>
            <span class="post-date" title="2016-12-24 11:19:24">2016/12/24</span>
        </a>
        
        <a  class="全部文章 工具 git "
           href="/git-master"
           data-tag="Git"
           data-author="" >
            <span class="post-title" title="Git操作之高手过招">Git操作之高手过招</span>
            <span class="post-date" title="2016-12-23 10:59:01">2016/12/23</span>
        </a>
        
        <a  class="全部文章 工具 git "
           href="/Git-SSH-HTTPS-verify-configuration"
           data-tag="Git"
           data-author="" >
            <span class="post-title" title="Git之SSH与HTTPS免密码配置">Git之SSH与HTTPS免密码配置</span>
            <span class="post-date" title="2016-12-21 15:31:55">2016/12/21</span>
        </a>
        
        <a  class="全部文章 工具 软件记录 "
           href="/idea-shortcuts"
           data-tag="IntellijIDEA"
           data-author="" >
            <span class="post-title" title="idea常用快捷键">idea常用快捷键</span>
            <span class="post-date" title="2016-11-05 15:22:48">2016/11/05</span>
        </a>
        
        <a  class="全部文章 工具 hexo "
           href="/hexo-git-server-blog"
           data-tag="hexo,Git"
           data-author="" >
            <span class="post-title" title="Hexo+Git服务器搭建blog">Hexo+Git服务器搭建blog</span>
            <span class="post-date" title="2016-10-23 09:24:03">2016/10/23</span>
        </a>
        
        <a  class="全部文章 工具 hexo "
           href="/hexo-gitHub-pages-create-own-blog"
           data-tag="hexo,Git,GitHub"
           data-author="" >
            <span class="post-title" title="Hexo+GitHub Pages搭建属于自己的blog">Hexo+GitHub Pages搭建属于自己的blog</span>
            <span class="post-date" title="2016-10-22 21:24:05">2016/10/22</span>
        </a>
        
        <a  class="全部文章 工具 git "
           href="/set-up-git-server-on-vps"
           data-tag="Git"
           data-author="" >
            <span class="post-title" title="搭建Git服务器">搭建Git服务器</span>
            <span class="post-date" title="2016-10-22 20:08:04">2016/10/22</span>
        </a>
        
        <a  class="全部文章 工具 git "
           href="/contributing-to-open-source-on-github"
           data-tag="Git,GitHub"
           data-author="" >
            <span class="post-title" title="如何给GitHub上的项目贡献代码">如何给GitHub上的项目贡献代码</span>
            <span class="post-date" title="2016-10-13 15:44:07">2016/10/13</span>
        </a>
        
        <a  class="全部文章 工具 软件记录 "
           href="/regular-expression"
           data-tag="regex"
           data-author="" >
            <span class="post-title" title="正则表达式详解">正则表达式详解</span>
            <span class="post-date" title="2016-10-04 09:41:40">2016/10/04</span>
        </a>
        
        <a  class="全部文章 工具 git "
           href="/Git-command"
           data-tag="Git"
           data-author="" >
            <span class="post-title" title="Git常用命令">Git常用命令</span>
            <span class="post-date" title="2016-10-02 17:15:39">2016/10/02</span>
        </a>
        
        <a  class="全部文章 工具 git "
           href="/computer-mutiple-github-account"
           data-tag="Git,GitHub"
           data-author="" >
            <span class="post-title" title="一个客户端设置多个github账号">一个客户端设置多个github账号</span>
            <span class="post-date" title="2016-09-30 16:42:48">2016/09/30</span>
        </a>
        
        <div id="no-item-tips">

        </div>
    </nav>
    <div id="outline-list">
    </div>
</div>
    </div>
    <div class="hide-list">
        <div class="semicircle" data-title="切换全屏 快捷键 s">
            <div class="brackets first"><</div>
            <div class="brackets">&gt;</div>
        </div>
    </div>
</aside>
<div id="post">
    <div class="pjax">
        <article id="post-QmlBook/model-view-delegate/README" class="article article-type-post" itemscope itemprop="blogPost">
    
        <h1 class="article-title">模型-视图-代理（Model-View-Delegate）</h1>
    
    <div class="article-meta">
        
        
        
        <span class="book">
            <i class="iconfont icon-category"></i>
            
            
            <a  data-rel="读书">读书</a> > 
            
            <a  data-rel="读书&lt;---&gt;QmlBook">QmlBook</a>
            
        </span>
        
        
        <span class="tag">
            <i class="iconfont icon-tag"></i>
            
            <a class="color3">QmlBook</a>
            
        </span>
        
    </div>
    <div class="article-meta">
        
            发布时间 : <time class="date" title='最后更新: 2020-09-17 22:41:29'>2020-09-16 23:00</time>
        
    </div>
    <div class="article-meta">
        
        <span>字数:8,580</span>
        
        
        <span id="busuanzi_container_page_pv">
            阅读 :<span id="busuanzi_value_page_pv">
                <span class="count-comment">
                    <span class="spinner">
                      <div class="cube1"></div>
                      <div class="cube2"></div>
                    </span>
                </span>
            </span>
        </span>
        
        
        <span class="top-comment" title="跳转至评论区">
            <a href="#comments">
                评论:<span class="count-comment">
                    <span class="spinner">
                      <div class="cube1"></div>
                      <div class="cube2"></div>
                    </span>
                </span>
            </a>
        </span>
        
    </div>
    
    <div class="toc-ref">
    
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A6%82%E5%BF%B5%EF%BC%88Concept%EF%BC%89"><span class="toc-text">概念（Concept）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E6%A8%A1%E5%9E%8B%EF%BC%88Basic-Model%EF%BC%89"><span class="toc-text">基础模型（Basic Model）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E8%A7%86%E5%9B%BE%EF%BC%88Dynamic-Views%EF%BC%89"><span class="toc-text">动态视图（Dynamic Views）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-1-%E6%96%B9%E5%90%91%EF%BC%88Orientation%EF%BC%89"><span class="toc-text">6.3.1 方向（Orientation）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-2-%E9%94%AE%E7%9B%98%E5%AF%BC%E8%88%AA%E5%92%8C%E9%AB%98%E4%BA%AE"><span class="toc-text">6.3.2 键盘导航和高亮</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-3-%E9%A1%B5%E7%9C%89%E4%B8%8E%E9%A1%B5%E8%84%9A%EF%BC%88Header-and-Footer%EF%BC%89"><span class="toc-text">6.3.3 页眉与页脚（Header and Footer）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-4-%E7%BD%91%E6%A0%BC%E8%A7%86%E5%9B%BE%EF%BC%88The-GridView%EF%BC%89"><span class="toc-text">6.3.4 网格视图（The GridView）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%A3%E7%90%86%EF%BC%88Delegate%EF%BC%89"><span class="toc-text">代理（Delegate）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-4-1-%E5%8A%A8%E7%94%BB%E6%B7%BB%E5%8A%A0%E4%B8%8E%E7%A7%BB%E9%99%A4%E5%85%83%E7%B4%A0%EF%BC%88Animating-Added-and-Removed-Items%EF%BC%89"><span class="toc-text">6.4.1 动画添加与移除元素（Animating Added and Removed Items）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-4-2-%E5%BD%A2%E5%8F%98%E7%9A%84%E4%BB%A3%E7%90%86%EF%BC%88Shape-Shifting-Delegates%EF%BC%89"><span class="toc-text">6.4.2 形变的代理（Shape-Shifting Delegates）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%AB%98%E7%BA%A7%E7%94%A8%E6%B3%95%EF%BC%88Advanced-Techniques%EF%BC%89"><span class="toc-text">高级用法（Advanced Techniques）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-5-1-%E8%B7%AF%E5%BE%84%E8%A7%86%E5%9B%BE%EF%BC%88The-PathView%EF%BC%89"><span class="toc-text">6.5.1 路径视图（The PathView）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-5-2-XML%E6%A8%A1%E5%9E%8B%EF%BC%88A-Model-from-XML%EF%BC%89"><span class="toc-text">6.5.2 XML模型（A Model from XML）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-5-3-%E9%93%BE%E8%A1%A8%E5%88%86%E6%AE%B5%EF%BC%88Lists-with-Sections%EF%BC%89"><span class="toc-text">6.5.3 链表分段（Lists with Sections）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-5-4-%E6%80%A7%E8%83%BD%E5%8D%8F%E8%B0%83%EF%BC%88Tunning-Performance%EF%BC%89"><span class="toc-text">6.5.4 性能协调（Tunning Performance）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93%EF%BC%88Summary%EF%BC%89"><span class="toc-text">总结（Summary）</span></a></li></ol>
    
<style>
    .left-col .switch-btn,
    .left-col .switch-area {
        display: none;
    }
    .toc-level-3 i,
    .toc-level-3 ol {
        display: none !important;
    }
</style>
</div>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>注意</strong></p>
<p><strong>最后一次构建：2014年1月20日下午18:00。</strong></p>
<p><strong>这章的源代码能够在<a target="_blank" rel="noopener" href="http://qmlbook.org/assets">assetts folder</a>找到。</strong></p>
<p>在QtQuick中，数据通过model-view（模型-视图）分离。对于每个view（视图），每个数据元素的可视化都分给一个代理（delegate）。QtQuick附带了一组预定义的模型与视图。想要使用这个系统，必须理解这些类，并且知道如何创建合适的代理来获得正确的显示和交互。</p>
<h2 id="概念（Concept）"><a href="#概念（Concept）" class="headerlink" title="概念（Concept）"></a>概念（Concept）</h2><p>对于开发用户界面，最重要的一方面是保持数据与可视化的分离。例如，一个电话薄可以使用一个垂直文本链表排列或者使用一个网格联系人图片排列。在这两个案例中，数据都是相同的，但是可视化效果却是不同的。这种方法通常被称作model-view（模型-视图）模式。在这种模式中，数据通常被称作model（模型），可视化处理称作view（视图）。</p>
<p>在QML中，model（模型）与view（视图）都通过delegate（代理）连接起来。功能划分如下，model（模型）提供数据。对于每个数据项，可能有多个值。在上面的电话薄例子中，每个电话薄条目对应一个名字，一个图片和一个号码。显示在view（视图）中的每项数据,都是通过delegate（代理）来实现可视化。view（视图）的任务是排列这些delegate（代理），每个delegate（代理）将model item（模型项）的值显示给用户。</p>
<p><img src="http://qmlbook.org/_images/graphviz-00dabdd0a911009b7da04ffd00f7c1537eab1281.png"></p>
<h2 id="基础模型（Basic-Model）"><a href="#基础模型（Basic-Model）" class="headerlink" title="基础模型（Basic Model）"></a>基础模型（Basic Model）</h2><p>最基本的分离数据与显示的方法是使用Repeater元素。它被用于实例化一组元素项，并且很容易与一个用于填充用户界面的定位器相结合。</p>
<p>最基本的实现举例，repeater元素用于实现子元素的标号。每个子元素都拥有一个可以访问的属性index，用于区分不同的子元素。在下面的例子中，一个repeater元素创建了10个子项，子项的数量由model属性控制。对于每个子项Rectangle包含了一个Text元素，你可以将text属性设置为index的值，因此可以看到子项的编号是0~9。</p>
<pre class="line-numbers language-qml" data-language="qml"><code class="language-qml"><span class="token keyword">import</span> QtQuick 2.0

<span class="token class-name">Column</span> <span class="token punctuation">&#123;</span>
    <span class="token property">spacing</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">2</span></span>

    <span class="token class-name">Repeater</span> <span class="token punctuation">&#123;</span>
        <span class="token property">model</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">10</span></span>

        <span class="token class-name">Rectangle</span> <span class="token punctuation">&#123;</span>
            <span class="token property">width</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">100</span></span>
            <span class="token property">height</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">20</span></span>

            <span class="token property">radius</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">3</span></span>

            <span class="token property">color</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"lightBlue"</span></span>

            <span class="token class-name">Text</span> <span class="token punctuation">&#123;</span>
                <span class="token property">anchors.centerIn</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">parent</span>
                <span class="token property">text</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">index</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><img src="http://qmlbook.org/_images/repeater-number.png"></p>
<p>这是一个不错的编号列表，有时我们想显示一些更复杂的数据。使用一个JavaScript序列来替换整形变量model的值可以达到我们的目的。序列可以使用任何类型的内容，可以是字符串，整数，或者对象。在下面的例子中，使用了一个字符串链表。我们仍然使用index的值作为变量，并且我们也访问modelData中包含的每个元素的数据。</p>
<pre class="line-numbers language-qml" data-language="qml"><code class="language-qml"><span class="token keyword">import</span> QtQuick 2.0

<span class="token class-name">Column</span> <span class="token punctuation">&#123;</span>
    <span class="token property">spacing</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">2</span></span>

    <span class="token class-name">Repeater</span> <span class="token punctuation">&#123;</span>
        <span class="token property">model</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"Enterprise"</span><span class="token punctuation">,</span> <span class="token string">"Colombia"</span><span class="token punctuation">,</span> <span class="token string">"Challenger"</span><span class="token punctuation">,</span> <span class="token string">"Discovery"</span><span class="token punctuation">,</span> <span class="token string">"Endeavour"</span><span class="token punctuation">,</span> <span class="token string">"Atlantis"</span><span class="token punctuation">]</span>

        <span class="token class-name">Rectangle</span> <span class="token punctuation">&#123;</span>
            <span class="token property">width</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">100</span></span>
            <span class="token property">height</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">20</span></span>

            <span class="token property">radius</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">3</span></span>

            <span class="token property">color</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"lightBlue"</span></span>

            <span class="token class-name">Text</span> <span class="token punctuation">&#123;</span>
                <span class="token property">anchors.centerIn</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">parent</span>
                <span class="token property">text</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">index <span class="token operator">+</span><span class="token string">": "</span><span class="token operator">+</span>modelData</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><img src="http://qmlbook.org/_images/repeater-array.png"></p>
<p>将数据暴露成一组序列，你可以通过标号迅速的找到你需要的信息。想象一下这个模型的草图，这是一个最简单的模型，也是通常都会使用的模型，ListModel（链表模型）。一个链表模型由许多ListElement（链表元素）组成。在每个链表元素中，可以绑定值到属性上。例如在下面这个例子中，每个元素都提供了一个名字和一个颜色。</p>
<p>每个元素中的属性绑定连接到repeater实例化的子项上。这意味着变量name和surfaceColor可以被repeater创建的每个Rectangle和Text项引用。这不仅可以方便的访问数据，也可以使源代码更加容易阅读。surfaceColor是名字左边圆的颜色，而不是模糊的数据序列列i或者行j。</p>
<pre class="line-numbers language-qml" data-language="qml"><code class="language-qml"><span class="token keyword">import</span> QtQuick 2.0

<span class="token class-name">Column</span> <span class="token punctuation">&#123;</span>
    <span class="token property">spacing</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">2</span></span>

    <span class="token class-name">Repeater</span> <span class="token punctuation">&#123;</span>
        <span class="token property">model</span><span class="token punctuation">:</span> <span class="token class-name">ListModel</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">ListElement</span> <span class="token punctuation">&#123;</span> <span class="token property">name</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"Mercury"</span></span><span class="token punctuation">;</span> <span class="token property">surfaceColor</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"gray"</span> </span><span class="token punctuation">&#125;</span>
            <span class="token class-name">ListElement</span> <span class="token punctuation">&#123;</span> <span class="token property">name</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"Venus"</span></span><span class="token punctuation">;</span> <span class="token property">surfaceColor</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"yellow"</span> </span><span class="token punctuation">&#125;</span>
            <span class="token class-name">ListElement</span> <span class="token punctuation">&#123;</span> <span class="token property">name</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"Earth"</span></span><span class="token punctuation">;</span> <span class="token property">surfaceColor</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"blue"</span> </span><span class="token punctuation">&#125;</span>
            <span class="token class-name">ListElement</span> <span class="token punctuation">&#123;</span> <span class="token property">name</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"Mars"</span></span><span class="token punctuation">;</span> <span class="token property">surfaceColor</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"orange"</span> </span><span class="token punctuation">&#125;</span>
            <span class="token class-name">ListElement</span> <span class="token punctuation">&#123;</span> <span class="token property">name</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"Jupiter"</span></span><span class="token punctuation">;</span> <span class="token property">surfaceColor</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"orange"</span> </span><span class="token punctuation">&#125;</span>
            <span class="token class-name">ListElement</span> <span class="token punctuation">&#123;</span> <span class="token property">name</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"Saturn"</span></span><span class="token punctuation">;</span> <span class="token property">surfaceColor</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"yellow"</span> </span><span class="token punctuation">&#125;</span>
            <span class="token class-name">ListElement</span> <span class="token punctuation">&#123;</span> <span class="token property">name</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"Uranus"</span></span><span class="token punctuation">;</span> <span class="token property">surfaceColor</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"lightBlue"</span> </span><span class="token punctuation">&#125;</span>
            <span class="token class-name">ListElement</span> <span class="token punctuation">&#123;</span> <span class="token property">name</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"Neptune"</span></span><span class="token punctuation">;</span> <span class="token property">surfaceColor</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"lightBlue"</span> </span><span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>

        <span class="token class-name">Rectangle</span> <span class="token punctuation">&#123;</span>
            <span class="token property">width</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">100</span></span>
            <span class="token property">height</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">20</span></span>

            <span class="token property">radius</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">3</span></span>

            <span class="token property">color</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"lightBlue"</span></span>

            <span class="token class-name">Text</span> <span class="token punctuation">&#123;</span>
                <span class="token property">anchors.centerIn</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">parent</span>
                <span class="token property">text</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">name</span>
            <span class="token punctuation">&#125;</span>

            <span class="token class-name">Rectangle</span> <span class="token punctuation">&#123;</span>
                <span class="token property">anchors.left</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">parent<span class="token punctuation">.</span>left</span>
                <span class="token property">anchors.verticalCenter</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">parent<span class="token punctuation">.</span>verticalCenter</span>
                <span class="token property">anchors.leftMargin</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">2</span></span>

                <span class="token property">width</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">16</span></span>
                <span class="token property">height</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">16</span></span>

                <span class="token property">radius</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">8</span></span>

                <span class="token property">border.color</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"black"</span></span>
                <span class="token property">border.width</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">1</span></span>

                <span class="token property">color</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">surfaceColor</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><img src="http://qmlbook.org/_images/repeater-model.png"></p>
<p>repeater的内容的每个子项实例化时绑定了默认的属性delegate（代理）。这意味着例1（第一个代码段）的代码与下面显示的代码是相同的。注意，唯一的不同是delegate属性名，将会在后面详细讲解。</p>
<pre class="line-numbers language-qml" data-language="qml"><code class="language-qml"><span class="token keyword">import</span> QtQuick 2.0

<span class="token class-name">Column</span> <span class="token punctuation">&#123;</span>
    <span class="token property">spacing</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">2</span></span>

    <span class="token class-name">Repeater</span> <span class="token punctuation">&#123;</span>
        <span class="token property">model</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">10</span></span>

        <span class="token property">delegate</span><span class="token punctuation">:</span> <span class="token class-name">Rectangle</span> <span class="token punctuation">&#123;</span>
            <span class="token property">width</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">100</span></span>
            <span class="token property">height</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">20</span></span>

            <span class="token property">radius</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">3</span></span>

            <span class="token property">color</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"lightBlue"</span></span>

            <span class="token class-name">Text</span> <span class="token punctuation">&#123;</span>
                <span class="token property">anchors.centerIn</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">parent</span>
                <span class="token property">text</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">index</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="动态视图（Dynamic-Views）"><a href="#动态视图（Dynamic-Views）" class="headerlink" title="动态视图（Dynamic Views）"></a>动态视图（Dynamic Views）</h2><p>Repeater元素适合有限的静态数据，但是在真正使用时，模型通常更加复杂和庞大，我们需要一个更加智能的解决方案。QtQuick提供了ListView和GridView元素，这两个都是基于Flickable（可滑动）区域的元素，因此用户可以放入更大的数据。同时，它们限制了同时实例化的代理数量。对于一个大型的模型，这意味着在同一个场景下只会加载有限的元素。</p>
<p><img src="http://qmlbook.org/_images/listview-basic.png"></p>
<p><img src="http://qmlbook.org/_images/gridview-basic.png"></p>
<p>这两个元素的用法非常类似，我们由ListView开始，然后会描述GridView的模型起点来进行比较。</p>
<p>ListView与Repeater元素像素，它使用了一个model，使用delegate来实例化，并且在两个delegate之间能够设置间隔sapcing。下面的列表显示了怎样设置一个简单的链表。</p>
<pre class="line-numbers language-qml" data-language="qml"><code class="language-qml"><span class="token keyword">import</span> QtQuick 2.0

<span class="token class-name">Rectangle</span> <span class="token punctuation">&#123;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">80</span></span>
    <span class="token property">height</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">300</span></span>

    <span class="token property">color</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"white"</span></span>

    <span class="token class-name">ListView</span> <span class="token punctuation">&#123;</span>
        <span class="token property">anchors.fill</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">parent</span>
        <span class="token property">anchors.margins</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">20</span></span>

        <span class="token property">clip</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token boolean">true</span></span>

        <span class="token property">model</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">100</span></span>

        <span class="token property">delegate</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">numberDelegate</span>
        <span class="token property">spacing</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">5</span></span>
    <span class="token punctuation">&#125;</span>

    <span class="token class-name">Component</span> <span class="token punctuation">&#123;</span>
        <span class="token property">id</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">numberDelegate</span>

        <span class="token class-name">Rectangle</span> <span class="token punctuation">&#123;</span>
            <span class="token property">width</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">40</span></span>
            <span class="token property">height</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">40</span></span>

            <span class="token property">color</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"lightGreen"</span></span>

            <span class="token class-name">Text</span> <span class="token punctuation">&#123;</span>
                <span class="token property">anchors.centerIn</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">parent</span>

                <span class="token property">font.pixelSize</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">10</span></span>

                <span class="token property">text</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">index</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><img src="http://qmlbook.org/_images/listview-basic.png"></p>
<p>如果模型包含的数据比屏幕上显示的更多，ListView元素只会显示部分的链表内容。然后由于QtQuick的默认行为导致的问题，列表视图不会限制被显示的代理项（delegates）只在限制区域内显示。这意味着代理项可以在列表视图外显示，用户可以看见在列表视图外动态的创建和销毁这些代理项（delegates）。为了防止这个问题，ListView通过设置clip属性为true，来激活裁剪功能。下面的图片展示了这个结果，左边是clip属性设置为false的对比。</p>
<p><img src="http://qmlbook.org/_images/listview-clip.png"></p>
<p>对于用户，ListView（列表视图）是一个滚动区域。它支持惯性滚动，这意味着它可以快速的翻阅内容。默认模式下，它可以在内容最后继续伸展，然后反弹回去，这个信号告诉用户已经到达内容的末尾。</p>
<p>视图末尾的行为是由到boundsBehavior属性的控制的。这是一个枚举值，并且可以配置为默认的Flickable.DragAndOvershootBounds，视图可以通过它的边界线来拖拽和翻阅，配置为Flickable.StopAtBounds，视图将不再可以移动到它的边界线之外。配置为Flickable.DragOverBounds，用户可以将视图拖拽到它的边界线外，但是在边界线上翻阅将无效。</p>
<p>使用snapMode属性可以限制一个视图内元素的停止位置。默认行为下是ListView.NoSnap，允许视图内元素在任何位置停止。将snapMode属性设置为ListView.SnapToItem，视图顶部将会与元素对象的顶部对齐排列。使用ListView.SnapOneItem，当鼠标或者触摸释放时，视图将会停止在第一个可见的元素，这种模式对于浏览页面非常便利。</p>
<h3 id="6-3-1-方向（Orientation）"><a href="#6-3-1-方向（Orientation）" class="headerlink" title="6.3.1 方向（Orientation）"></a>6.3.1 方向（Orientation）</h3><p>默认的链表视图只提供了一个垂直方向的滚动条，但是水平滚动条也是需要的。链表视图的方向由属性orientation控制。它能够被设置为默认值ListView.Vertical或者ListView.Horizontal。下面是一个水平链表视图。</p>
<pre class="line-numbers language-qml" data-language="qml"><code class="language-qml"><span class="token keyword">import</span> QtQuick 2.0

<span class="token class-name">Rectangle</span> <span class="token punctuation">&#123;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">480</span></span>
    <span class="token property">height</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">80</span></span>

    <span class="token property">color</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"white"</span></span>

    <span class="token class-name">ListView</span> <span class="token punctuation">&#123;</span>
        <span class="token property">anchors.fill</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">parent</span>
        <span class="token property">anchors.margins</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">20</span></span>

        <span class="token property">clip</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token boolean">true</span></span>

        <span class="token property">model</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">100</span></span>

        <span class="token property">orientation</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">ListView<span class="token punctuation">.</span>Horizontal</span>

        <span class="token property">delegate</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">numberDelegate</span>
        <span class="token property">spacing</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">5</span></span>
    <span class="token punctuation">&#125;</span>

    <span class="token class-name">Component</span> <span class="token punctuation">&#123;</span>
        <span class="token property">id</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">numberDelegate</span>

        <span class="token class-name">Rectangle</span> <span class="token punctuation">&#123;</span>
            <span class="token property">width</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">40</span></span>
            <span class="token property">height</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">40</span></span>

            <span class="token property">color</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"lightGreen"</span></span>

            <span class="token class-name">Text</span> <span class="token punctuation">&#123;</span>
                <span class="token property">anchors.centerIn</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">parent</span>

                <span class="token property">font.pixelSize</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">10</span></span>

                <span class="token property">text</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">index</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><img src="http://qmlbook.org/_images/listview-horizontal.png"></p>
<p>按照上面的设置，水平链表视图默认的元素顺序方向是由左到右。可以通过设置layoutDirection属性来控制元素顺序方向，它可以设置为Qt.LeftToRight或者Qt.RightToLeft。</p>
<h3 id="6-3-2-键盘导航和高亮"><a href="#6-3-2-键盘导航和高亮" class="headerlink" title="6.3.2 键盘导航和高亮"></a>6.3.2 键盘导航和高亮</h3><p>当使用基于触摸方式的链表视图时，默认提供的视图已经足够使用。在使用键盘甚至仅仅通过方向键选择一个元素的场景下，需要有标识当前选中元素的机制。在QML中，这被叫做高亮。</p>
<p>视图支持设置一个当前视图中显示代理元素中的高亮代理。它是一个附加的代理元素，这个元素仅仅只实例化一次，并移动到与当前元素相同的位置。</p>
<p>在下面例子的演示中，有两个属性来完成这个工作。首先是focus属性设置为true，它设置链表视图能够获得键盘焦点。然后是highlight属性，指出使用的高亮代理元素。高亮代理元素的x,y与height属性由当前元素指定。如果宽度没有特别指定，当前元素的宽度也可以用于高亮代理元素。</p>
<p>在例子中，ListView.view.width属性被绑定用于高亮元素的宽度。关于代理元素的使绑定属性将在后面的章节讨论，但是最好知道相同的绑定属性也可以用于高亮代理元素。</p>
<pre class="line-numbers language-qml" data-language="qml"><code class="language-qml"><span class="token keyword">import</span> QtQuick 2.0

<span class="token class-name">Rectangle</span> <span class="token punctuation">&#123;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">240</span></span>
    <span class="token property">height</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">300</span></span>

    <span class="token property">color</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"white"</span></span>

    <span class="token class-name">ListView</span> <span class="token punctuation">&#123;</span>
        <span class="token property">anchors.fill</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">parent</span>
        <span class="token property">anchors.margins</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">20</span></span>

        <span class="token property">clip</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token boolean">true</span></span>

        <span class="token property">model</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">100</span></span>

        <span class="token property">delegate</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">numberDelegate</span>
        <span class="token property">spacing</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">5</span></span>

        <span class="token property">highlight</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">highlightComponent</span>
        <span class="token property">focus</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token boolean">true</span></span>
    <span class="token punctuation">&#125;</span>

    <span class="token class-name">Component</span> <span class="token punctuation">&#123;</span>
        <span class="token property">id</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">highlightComponent</span>

        <span class="token class-name">Rectangle</span> <span class="token punctuation">&#123;</span>
            <span class="token property">width</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">ListView<span class="token punctuation">.</span>view<span class="token punctuation">.</span>width</span>
            <span class="token property">color</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"lightGreen"</span></span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token class-name">Component</span> <span class="token punctuation">&#123;</span>
        <span class="token property">id</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">numberDelegate</span>

        <span class="token class-name">Item</span> <span class="token punctuation">&#123;</span>
            <span class="token property">width</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">40</span></span>
            <span class="token property">height</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">40</span></span>

            <span class="token class-name">Text</span> <span class="token punctuation">&#123;</span>
                <span class="token property">anchors.centerIn</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">parent</span>

                <span class="token property">font.pixelSize</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">10</span></span>

                <span class="token property">text</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">index</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">// M1>></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><img src="http://qmlbook.org/_images/listview-highlight.png"></p>
<p>当使用高亮与链表视图（ListView）结合时，一些属性可以用来控制它的行为。highlightRangeMode控制了高亮如何影响视图中当前的显示。默认设置ListView.NoHighLighRange意味着高亮与视图中的元素距离不相关。</p>
<p>ListView.StrictlyEnforceRnage确保了高亮始终可见，如果某个动作尝试将高亮移出当前视图可见范围，当前元素将会自动切换，确保了高亮始终可见。</p>
<p>ListView.ApplyRange，它尝试保持高亮代理始终可见，但是不会强制切换当前元素始终可见。如果在需要的情况下高亮代理允许被移出当前视图。</p>
<p>在默认配置下，视图负责高亮移动到指定位置，移动的速度与大小的改变能够被控制，使用一个速度值或者一个动作持续时间来完成它。这些属性包括highlightMoveSpeed，highlightMoveDuration，highlightResizeSpeed和highlightResizeDuration。默认下速度被设置为每秒400像素，动作持续时间为-1，表明速度和距离控制了动作的持续时间。如果速度与动作持续时间都被设置，动画将会采用速度较快的结果来完成。</p>
<p>为了更加详细的控制高亮的移动，highlightFollowCurrentItem属性设置为false。这意味着视图将不再负责高亮代理的移动。取而代之可以通过一个行为（Bahavior）或者一个动画来控制它。</p>
<p>在下面的例子中，高亮代理的y坐标属性与ListView.view.currentItem.y属性绑定。这确保了高亮始终跟随当前元素。然而，由于我们没有让视图来移动这个高亮代理，我们需要控制这个元素如何移动，通过Behavior on y来完成这个操作，在下面的例子中，移动分为三步完成：淡出，移动，淡入。注意怎样使用SequentialAnimation和PropertyAnimation元素与NumberAnimation结合创建更加复杂的移动效果。</p>
<pre class="line-numbers language-qml" data-language="qml"><code class="language-qml"><span class="token class-name">Component</span> <span class="token punctuation">&#123;</span>
    <span class="token property">id</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">highlightComponent</span>

    <span class="token class-name">Item</span> <span class="token punctuation">&#123;</span>
        <span class="token property">width</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">ListView<span class="token punctuation">.</span>view<span class="token punctuation">.</span>width</span>
        <span class="token property">height</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">ListView<span class="token punctuation">.</span>view<span class="token punctuation">.</span>currentItem<span class="token punctuation">.</span>height</span>

        <span class="token property">y</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">ListView<span class="token punctuation">.</span>view<span class="token punctuation">.</span>currentItem<span class="token punctuation">.</span>y</span>

        <span class="token class-name">Behavior</span> <span class="token keyword">on</span> y <span class="token punctuation">&#123;</span>
            <span class="token class-name">SequentialAnimation</span> <span class="token punctuation">&#123;</span>
                <span class="token class-name">PropertyAnimation</span> <span class="token punctuation">&#123;</span> <span class="token property">target</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">highlightRectangle</span><span class="token punctuation">;</span> <span class="token property">property</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"opacity"</span></span><span class="token punctuation">;</span> <span class="token property">to</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">0</span></span><span class="token punctuation">;</span> <span class="token property">duration</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">200</span> </span><span class="token punctuation">&#125;</span>
                <span class="token class-name">NumberAnimation</span> <span class="token punctuation">&#123;</span> <span class="token property">duration</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">1</span> </span><span class="token punctuation">&#125;</span>
                <span class="token class-name">PropertyAnimation</span> <span class="token punctuation">&#123;</span> <span class="token property">target</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">highlightRectangle</span><span class="token punctuation">;</span> <span class="token property">property</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"opacity"</span></span><span class="token punctuation">;</span> <span class="token property">to</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">1</span></span><span class="token punctuation">;</span> <span class="token property">duration</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">200</span> </span><span class="token punctuation">&#125;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>

        <span class="token class-name">Rectangle</span> <span class="token punctuation">&#123;</span>
            <span class="token property">id</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">highlightRectangle</span>
            <span class="token property">anchors.fill</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">parent</span>
            <span class="token property">color</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"lightGreen"</span></span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="6-3-3-页眉与页脚（Header-and-Footer）"><a href="#6-3-3-页眉与页脚（Header-and-Footer）" class="headerlink" title="6.3.3 页眉与页脚（Header and Footer）"></a>6.3.3 页眉与页脚（Header and Footer）</h3><p>这一节是链表视图最后的内容，我们能够向链表视图中插入一个页眉（header）元素和一个页脚（footer）元素。这部分是链表的开始或者结尾处被作为代理元素特殊的区域。对于一个水平链表视图，不会存在页眉或者页脚，但是也有开始和结尾处，这取决于layoutDirection的设置。</p>
<p>下面这个例子展示了如何使用一个页眉和页脚来突出链表的开始与结尾。这些特殊的链表元素也有其它的作用，例如，它们能够保持链表中的按键加载更多的内容。</p>
<pre class="line-numbers language-qml" data-language="qml"><code class="language-qml"><span class="token keyword">import</span> QtQuick 2.0

<span class="token class-name">Rectangle</span> <span class="token punctuation">&#123;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">80</span></span>
    <span class="token property">height</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">300</span></span>

    <span class="token property">color</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"white"</span></span>

    <span class="token class-name">ListView</span> <span class="token punctuation">&#123;</span>
        <span class="token property">anchors.fill</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">parent</span>
        <span class="token property">anchors.margins</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">20</span></span>

        <span class="token property">clip</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token boolean">true</span></span>

        <span class="token property">model</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">4</span></span>

        <span class="token property">delegate</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">numberDelegate</span>
        <span class="token property">spacing</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">5</span></span>

        <span class="token property">header</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">headerComponent</span>
        <span class="token property">footer</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">footerComponent</span>
    <span class="token punctuation">&#125;</span>

    <span class="token class-name">Component</span> <span class="token punctuation">&#123;</span>
        <span class="token property">id</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">headerComponent</span>

        <span class="token class-name">Rectangle</span> <span class="token punctuation">&#123;</span>
            <span class="token property">width</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">40</span></span>
            <span class="token property">height</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">20</span></span>

            <span class="token property">color</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"yellow"</span></span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token class-name">Component</span> <span class="token punctuation">&#123;</span>
        <span class="token property">id</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">footerComponent</span>

        <span class="token class-name">Rectangle</span> <span class="token punctuation">&#123;</span>
            <span class="token property">width</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">40</span></span>
            <span class="token property">height</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">20</span></span>

            <span class="token property">color</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"red"</span></span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token class-name">Component</span> <span class="token punctuation">&#123;</span>
        <span class="token property">id</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">numberDelegate</span>

        <span class="token class-name">Rectangle</span> <span class="token punctuation">&#123;</span>
            <span class="token property">width</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">40</span></span>
            <span class="token property">height</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">40</span></span>

            <span class="token property">color</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"lightGreen"</span></span>

            <span class="token class-name">Text</span> <span class="token punctuation">&#123;</span>
                <span class="token property">anchors.centerIn</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">parent</span>

                <span class="token property">font.pixelSize</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">10</span></span>

                <span class="token property">text</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">index</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>注意</strong></p>
<p><strong>页眉与页脚代理元素不遵循链表视图（ListView）的间隔（spacing）属性，它们被直接放在相邻的链表元素之上或之下。这意味着页眉与页脚的间隔必须通过页眉与页脚元素自己设置。</strong></p>
<p><img src="http://qmlbook.org/_images/listview-header-footer.png"></p>
<h3 id="6-3-4-网格视图（The-GridView）"><a href="#6-3-4-网格视图（The-GridView）" class="headerlink" title="6.3.4 网格视图（The GridView）"></a>6.3.4 网格视图（The GridView）</h3><p>使用网格视图（GridView）与使用链表视图（ListView）的方式非常类似。真正不同的地方是网格视图（GridView）使用了一个二维数组来存放元素，而链表视图（ListView）是使用的线性链表来存放元素。</p>
<p><img src="http://qmlbook.org/_images/gridview-basic.png"></p>
<p>与链表视图（ListView）比较，网格视图（GridView）不依赖于元素间隔和大小来配置元素。它使用单元宽度（cellWidth）与单元高度（cellHeight）属性来控制数组内的二维元素的内容。每个元素从左上角开始依次放入单元格。</p>
<pre class="line-numbers language-qml" data-language="qml"><code class="language-qml"><span class="token keyword">import</span> QtQuick 2.0

<span class="token class-name">Rectangle</span> <span class="token punctuation">&#123;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">240</span></span>
    <span class="token property">height</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">300</span></span>

    <span class="token property">color</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"white"</span></span>

    <span class="token class-name">GridView</span> <span class="token punctuation">&#123;</span>
        <span class="token property">anchors.fill</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">parent</span>
        <span class="token property">anchors.margins</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">20</span></span>

        <span class="token property">clip</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token boolean">true</span></span>

        <span class="token property">model</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">100</span></span>

        <span class="token property">cellWidth</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">45</span></span>
        <span class="token property">cellHeight</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">45</span></span>

        <span class="token property">delegate</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">numberDelegate</span>
    <span class="token punctuation">&#125;</span>

    <span class="token class-name">Component</span> <span class="token punctuation">&#123;</span>
        <span class="token property">id</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">numberDelegate</span>

        <span class="token class-name">Rectangle</span> <span class="token punctuation">&#123;</span>
            <span class="token property">width</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">40</span></span>
            <span class="token property">height</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">40</span></span>

            <span class="token property">color</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"lightGreen"</span></span>

            <span class="token class-name">Text</span> <span class="token punctuation">&#123;</span>
                <span class="token property">anchors.centerIn</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">parent</span>

                <span class="token property">font.pixelSize</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">10</span></span>

                <span class="token property">text</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">index</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>一个网格视图（GridView）也包含了页脚与页眉，也可以使用高亮代理并且支持捕捉模式（snap mode）的多种反弹行为。它也可以使用不同的方向（orientations）与定向（directions）来定位。</p>
<p>定向使用flow属性来控制。它可以被设置为GridView.LeftToRight或者GridView.TopToBottom。模型的值从左往右向网格中填充，行添加是从上往下。视图使用一个垂直方向的滚动条。后面添加的元素也是由上到下，由左到右。</p>
<p>此外还有flow属性和layoutDirection属性，能够适配网格从左到右或者从右到左，这依赖于你使用的设置值。</p>
<h2 id="代理（Delegate）"><a href="#代理（Delegate）" class="headerlink" title="代理（Delegate）"></a>代理（Delegate）</h2><p>当使用模型与视图来自定义用户界面时，代理在创建显示时扮演了大量的角色。在模型中的每个元素通过代理来实现可视化，用户真实可见的是这些代理元素。</p>
<p>每个代理访问到索引号或者绑定的属性，一些是来自数据模型，一些来自视图。来自模型的数据将会通过属性传递到代理。来自视图的数据将会通过属性传递视图中与代理相关的状态信息。</p>
<p>通常使用的视图绑定属性是ListView.isCurrentItem和ListView.view。第一个是一个布尔值，标识这个元素是否是视图当前元素，这个值是只读的，引用自当前视图。通过访问视图，可以创建可复用的代理，这些代理在被包含时会自动匹配视图的大小。在下面这个例子中，每个代理的width（宽度）属性与视图的width（宽度）属性绑定，每个代理的背景颜色color依赖于绑定的属性ListView.isCurrentItem属性。</p>
<pre class="line-numbers language-qml" data-language="qml"><code class="language-qml"><span class="token keyword">import</span> QtQuick 2.0

<span class="token class-name">Rectangle</span> <span class="token punctuation">&#123;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">120</span></span>
    <span class="token property">height</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">300</span></span>

    <span class="token property">color</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"white"</span></span>

    <span class="token class-name">ListView</span> <span class="token punctuation">&#123;</span>
        <span class="token property">anchors.fill</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">parent</span>
        <span class="token property">anchors.margins</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">20</span></span>

        <span class="token property">clip</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token boolean">true</span></span>

        <span class="token property">model</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">100</span></span>

        <span class="token property">delegate</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">numberDelegate</span>
        <span class="token property">spacing</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">5</span></span>

        <span class="token property">focus</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token boolean">true</span></span>
    <span class="token punctuation">&#125;</span>

    <span class="token class-name">Component</span> <span class="token punctuation">&#123;</span>
        <span class="token property">id</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">numberDelegate</span>

        <span class="token class-name">Rectangle</span> <span class="token punctuation">&#123;</span>
            <span class="token property">width</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">ListView<span class="token punctuation">.</span>view<span class="token punctuation">.</span>width</span>
            <span class="token property">height</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">40</span></span>

            <span class="token property">color</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">ListView<span class="token punctuation">.</span>isCurrentItem<span class="token operator">?</span><span class="token string">"gray"</span><span class="token operator">:</span><span class="token string">"lightGray"</span></span>

            <span class="token class-name">Text</span> <span class="token punctuation">&#123;</span>
                <span class="token property">anchors.centerIn</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">parent</span>

                <span class="token property">font.pixelSize</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">10</span></span>

                <span class="token property">text</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">index</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><img src="http://qmlbook.org/_images/delegates-basic.png"></p>
<p>如果在模型中的每个元素与一个动作相关，例如点击作用于一个元素时，这个功能是代理完成的。这是由事件管理分配给视图的，这个操作控制了视图中元素的导航，代理控制了特定元素上的动作。</p>
<p>最基础的方法是在每个代理中创建一个MouseArea（鼠标区域）并且响应onClicked信号。在后面章节中将会演示这个例子。</p>
<h3 id="6-4-1-动画添加与移除元素（Animating-Added-and-Removed-Items）"><a href="#6-4-1-动画添加与移除元素（Animating-Added-and-Removed-Items）" class="headerlink" title="6.4.1 动画添加与移除元素（Animating Added and Removed Items）"></a>6.4.1 动画添加与移除元素（Animating Added and Removed Items）</h3><p>在某些情况下，视图中的显示内容会随着时间而改变。由于模型数据的改变，元素会添加或者移除。在这些情况下，一个比较好的做法是使用可视化队列给用户一个方向的感觉来帮助用户知道哪些数据被加入或者移除。</p>
<p>为了方便使用，QML视图为每个代理绑定了两个信号，onAdd和onRemove。使用动画连接它们，可以方便创建识别哪些内容被添加或删除的动画。</p>
<p>下面这个例子演示了如何动态填充一个链表模型（ListModel）。在屏幕下方，有一个添加新元素的按钮。当点击它时，会调用模型的append方法来添加一个新的元素。这个操作会触发视图创建一个新的代理，并发送GridView.onAdd信号。SequentialAnimation队列动画与这个信号连接绑定，使用代理的scale属性来放大视图元素。</p>
<p>当视图中的一个代理点击时，将会调用模型的remove方法将一个元素从模型中移除。这个操作将会导致GridView.onRemove信号的发送，触发另一个SequentialAnimation。这时，代理的销毁将会延迟直到动画完成。为了完成这个操作，PropertyAction元素需要在动画前设置GridView.delayRemove属性为true，并在动画后设置为false。这样确保了动画在代理项移除前完成。</p>
<pre class="line-numbers language-qml" data-language="qml"><code class="language-qml"><span class="token keyword">import</span> QtQuick 2.0

<span class="token class-name">Rectangle</span> <span class="token punctuation">&#123;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">480</span></span>
    <span class="token property">height</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">300</span></span>

    <span class="token property">color</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"white"</span></span>

    <span class="token class-name">ListModel</span> <span class="token punctuation">&#123;</span>
        <span class="token property">id</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">theModel</span>

        <span class="token class-name">ListElement</span> <span class="token punctuation">&#123;</span> <span class="token property">number</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">0</span> </span><span class="token punctuation">&#125;</span>
        <span class="token class-name">ListElement</span> <span class="token punctuation">&#123;</span> <span class="token property">number</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">1</span> </span><span class="token punctuation">&#125;</span>
        <span class="token class-name">ListElement</span> <span class="token punctuation">&#123;</span> <span class="token property">number</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">2</span> </span><span class="token punctuation">&#125;</span>
        <span class="token class-name">ListElement</span> <span class="token punctuation">&#123;</span> <span class="token property">number</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">3</span> </span><span class="token punctuation">&#125;</span>
        <span class="token class-name">ListElement</span> <span class="token punctuation">&#123;</span> <span class="token property">number</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">4</span> </span><span class="token punctuation">&#125;</span>
        <span class="token class-name">ListElement</span> <span class="token punctuation">&#123;</span> <span class="token property">number</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">5</span> </span><span class="token punctuation">&#125;</span>
        <span class="token class-name">ListElement</span> <span class="token punctuation">&#123;</span> <span class="token property">number</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">6</span> </span><span class="token punctuation">&#125;</span>
        <span class="token class-name">ListElement</span> <span class="token punctuation">&#123;</span> <span class="token property">number</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">7</span> </span><span class="token punctuation">&#125;</span>
        <span class="token class-name">ListElement</span> <span class="token punctuation">&#123;</span> <span class="token property">number</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">8</span> </span><span class="token punctuation">&#125;</span>
        <span class="token class-name">ListElement</span> <span class="token punctuation">&#123;</span> <span class="token property">number</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">9</span> </span><span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token class-name">Rectangle</span> <span class="token punctuation">&#123;</span>
        <span class="token property">anchors.left</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">parent<span class="token punctuation">.</span>left</span>
        <span class="token property">anchors.right</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">parent<span class="token punctuation">.</span>right</span>
        <span class="token property">anchors.bottom</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">parent<span class="token punctuation">.</span>bottom</span>
        <span class="token property">anchors.margins</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">20</span></span>

        <span class="token property">height</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">40</span></span>

        <span class="token property">color</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"darkGreen"</span></span>

        <span class="token class-name">Text</span> <span class="token punctuation">&#123;</span>
            <span class="token property">anchors.centerIn</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">parent</span>

            <span class="token property">text</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"Add item!"</span></span>
        <span class="token punctuation">&#125;</span>

        <span class="token class-name">MouseArea</span> <span class="token punctuation">&#123;</span>
            <span class="token property">anchors.fill</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">parent</span>

            <span class="token property">onClicked</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token punctuation">&#123;</span>
                theModel<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token string">"number"</span><span class="token operator">:</span> <span class="token operator">++</span>parent<span class="token punctuation">.</span>count<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span></span>
        <span class="token punctuation">&#125;</span>

        <span class="token property"><span class="token keyword">property</span> <span class="token property">int</span> <span class="token property">count</span></span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">9</span></span>
    <span class="token punctuation">&#125;</span>

    <span class="token class-name">GridView</span> <span class="token punctuation">&#123;</span>
        <span class="token property">anchors.fill</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">parent</span>
        <span class="token property">anchors.margins</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">20</span></span>
        <span class="token property">anchors.bottomMargin</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">80</span></span>

        <span class="token property">clip</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token boolean">true</span></span>

        <span class="token property">model</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">theModel</span>

        <span class="token property">cellWidth</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">45</span></span>
        <span class="token property">cellHeight</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">45</span></span>

        <span class="token property">delegate</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">numberDelegate</span>
    <span class="token punctuation">&#125;</span>

    <span class="token class-name">Component</span> <span class="token punctuation">&#123;</span>
        <span class="token property">id</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">numberDelegate</span>

        <span class="token class-name">Rectangle</span> <span class="token punctuation">&#123;</span>
            <span class="token property">id</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">wrapper</span>

            <span class="token property">width</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">40</span></span>
            <span class="token property">height</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">40</span></span>

            <span class="token property">color</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"lightGreen"</span></span>

            <span class="token class-name">Text</span> <span class="token punctuation">&#123;</span>
                <span class="token property">anchors.centerIn</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">parent</span>

                <span class="token property">font.pixelSize</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">10</span></span>

                <span class="token property">text</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">number</span>
            <span class="token punctuation">&#125;</span>

            <span class="token class-name">MouseArea</span> <span class="token punctuation">&#123;</span>
                <span class="token property">anchors.fill</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">parent</span>

                <span class="token property">onClicked</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token punctuation">&#123;</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>wrapper<span class="token punctuation">.</span>GridView<span class="token punctuation">.</span>delayRemove<span class="token punctuation">)</span>
                        theModel<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">&#125;</span></span>
            <span class="token punctuation">&#125;</span>

            <span class="token property">GridView.onRemove</span><span class="token punctuation">:</span> <span class="token class-name">SequentialAnimation</span> <span class="token punctuation">&#123;</span>
                <span class="token class-name">PropertyAction</span> <span class="token punctuation">&#123;</span> <span class="token property">target</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">wrapper</span><span class="token punctuation">;</span> <span class="token property">property</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"GridView.delayRemove"</span></span><span class="token punctuation">;</span> <span class="token property">value</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token boolean">true</span> </span><span class="token punctuation">&#125;</span>
                <span class="token class-name">NumberAnimation</span> <span class="token punctuation">&#123;</span> <span class="token property">target</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">wrapper</span><span class="token punctuation">;</span> <span class="token property">property</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"scale"</span></span><span class="token punctuation">;</span> <span class="token property">to</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">0</span></span><span class="token punctuation">;</span> <span class="token property">duration</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">250</span></span><span class="token punctuation">;</span> <span class="token property">easing.type</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">Easing<span class="token punctuation">.</span>InOutQuad </span><span class="token punctuation">&#125;</span>
                <span class="token class-name">PropertyAction</span> <span class="token punctuation">&#123;</span> <span class="token property">target</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">wrapper</span><span class="token punctuation">;</span> <span class="token property">property</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"GridView.delayRemove"</span></span><span class="token punctuation">;</span> <span class="token property">value</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token boolean">false</span> </span><span class="token punctuation">&#125;</span>
            <span class="token punctuation">&#125;</span>

            <span class="token property">GridView.onAdd</span><span class="token punctuation">:</span> <span class="token class-name">SequentialAnimation</span> <span class="token punctuation">&#123;</span>
                <span class="token class-name">NumberAnimation</span> <span class="token punctuation">&#123;</span> <span class="token property">target</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">wrapper</span><span class="token punctuation">;</span> <span class="token property">property</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"scale"</span></span><span class="token punctuation">;</span> <span class="token property">from</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">0</span></span><span class="token punctuation">;</span> <span class="token property">to</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">1</span></span><span class="token punctuation">;</span> <span class="token property">duration</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">250</span></span><span class="token punctuation">;</span> <span class="token property">easing.type</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">Easing<span class="token punctuation">.</span>InOutQuad </span><span class="token punctuation">&#125;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="6-4-2-形变的代理（Shape-Shifting-Delegates）"><a href="#6-4-2-形变的代理（Shape-Shifting-Delegates）" class="headerlink" title="6.4.2 形变的代理（Shape-Shifting Delegates）"></a>6.4.2 形变的代理（Shape-Shifting Delegates）</h3><p>在使用链表时通常会使用当前项激活时展开的机制。这个操作可以被用于动态的将当前项目填充到整个屏幕来添加一个新的用户界面，或者为链表中的当前项提供更多的信息。</p>
<p>在下面的例子中，当点击链表项时，链表项都会展开填充整个链表视图（ListView）。额外的间隔区域被用于添加更多的信息，这种机制使用一个状态来控制，当一个链表项展开时，代理项都能输入expanded（展开）状态，在这种状态下一些属性被改变。</p>
<p>首先，包装器（wrapper）的高度（height）被设置为链表视图（ListView）的高度。标签图片被放大并且下移，使图片从小图片的位置移向大图片的位置。除了这些之外，两个隐藏项，实际视图（factsView）与关闭按键（closeButton）切换它的opactiy（透明度）显示出来。最后设置链表视图（ListView）。</p>
<p>设置链表视图（ListView）包含了设置内容Y坐标（contentsY），这是视图顶部可见的部分代理的Y轴坐标。另一个变化是设置视图的交互（interactive）为false。这个操作阻止了视图的移动，用户不再能够通过滚动条切换当前项。</p>
<p>由于设置第一个链表项为可点击，向它输入一个expanded（展开）状态，导致了它的代理项被填充到整个链表并且内容重置。当点击关闭按钮时，清空状态，导致它的代理项返回上一个状态，并且重新设置链表视图（ListView）有效。</p>
<pre class="line-numbers language-qml" data-language="qml"><code class="language-qml"><span class="token keyword">import</span> QtQuick 2.0

<span class="token class-name">Item</span> <span class="token punctuation">&#123;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">300</span></span>
    <span class="token property">height</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">480</span></span>

    <span class="token class-name">ListView</span> <span class="token punctuation">&#123;</span>
        <span class="token property">id</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">listView</span>

        <span class="token property">anchors.fill</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">parent</span>

        <span class="token property">delegate</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">detailsDelegate</span>
        <span class="token property">model</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">planets</span>
    <span class="token punctuation">&#125;</span>

    <span class="token class-name">ListModel</span> <span class="token punctuation">&#123;</span>
        <span class="token property">id</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">planets</span>

        <span class="token class-name">ListElement</span> <span class="token punctuation">&#123;</span> <span class="token property">name</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"Mercury"</span></span><span class="token punctuation">;</span> <span class="token property">imageSource</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"images/mercury.jpeg"</span></span><span class="token punctuation">;</span> <span class="token property">facts</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"Mercury is the smallest planet in the Solar System. It is the closest planet to the sun. It makes one trip around the Sun once every 87.969 days."</span> </span><span class="token punctuation">&#125;</span>
        <span class="token class-name">ListElement</span> <span class="token punctuation">&#123;</span> <span class="token property">name</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"Venus"</span></span><span class="token punctuation">;</span> <span class="token property">imageSource</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"images/venus.jpeg"</span></span><span class="token punctuation">;</span> <span class="token property">facts</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"Venus is the second planet from the Sun. It is a terrestrial planet because it has a solid, rocky surface. The other terrestrial planets are Mercury, Earth and Mars. Astronomers have known Venus for thousands of years."</span> </span><span class="token punctuation">&#125;</span>
        <span class="token class-name">ListElement</span> <span class="token punctuation">&#123;</span> <span class="token property">name</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"Earth"</span></span><span class="token punctuation">;</span> <span class="token property">imageSource</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"images/earth.jpeg"</span></span><span class="token punctuation">;</span> <span class="token property">facts</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"The Earth is the third planet from the Sun. It is one of the four terrestrial planets in our Solar System. This means most of its mass is solid. The other three are Mercury, Venus and Mars. The Earth is also called the Blue Planet, 'Planet Earth', and 'Terra'."</span> </span><span class="token punctuation">&#125;</span>
        <span class="token class-name">ListElement</span> <span class="token punctuation">&#123;</span> <span class="token property">name</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"Mars"</span></span><span class="token punctuation">;</span> <span class="token property">imageSource</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"images/mars.jpeg"</span></span><span class="token punctuation">;</span> <span class="token property">facts</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"Mars is the fourth planet from the Sun in the Solar System. Mars is dry, rocky and cold. It is home to the largest volcano in the Solar System. Mars is named after the mythological Roman god of war because it is a red planet, which signifies the colour of blood."</span> </span><span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token class-name">Component</span> <span class="token punctuation">&#123;</span>
        <span class="token property">id</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">detailsDelegate</span>

        <span class="token class-name">Item</span> <span class="token punctuation">&#123;</span>
            <span class="token property">id</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">wrapper</span>

            <span class="token property">width</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">listView<span class="token punctuation">.</span>width</span>
            <span class="token property">height</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">30</span></span>

            <span class="token class-name">Rectangle</span> <span class="token punctuation">&#123;</span>
                <span class="token property">anchors.left</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">parent<span class="token punctuation">.</span>left</span>
                <span class="token property">anchors.right</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">parent<span class="token punctuation">.</span>right</span>
                <span class="token property">anchors.top</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">parent<span class="token punctuation">.</span>top</span>

                <span class="token property">height</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">30</span></span>

                <span class="token property">color</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"#ffaa00"</span></span>

                <span class="token class-name">Text</span> <span class="token punctuation">&#123;</span>
                    <span class="token property">anchors.left</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">parent<span class="token punctuation">.</span>left</span>
                    <span class="token property">anchors.verticalCenter</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">parent<span class="token punctuation">.</span>verticalCenter</span>

                    <span class="token property">font.pixelSize</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">parent<span class="token punctuation">.</span>height<span class="token operator">-</span><span class="token number">4</span></span>

                    <span class="token property">text</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">name</span>
                <span class="token punctuation">&#125;</span>
            <span class="token punctuation">&#125;</span>

            <span class="token class-name">Rectangle</span> <span class="token punctuation">&#123;</span>
                <span class="token property">id</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">image</span>

                <span class="token property">color</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"black"</span></span>

                <span class="token property">anchors.right</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">parent<span class="token punctuation">.</span>right</span>
                <span class="token property">anchors.top</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">parent<span class="token punctuation">.</span>top</span>
                <span class="token property">anchors.rightMargin</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">2</span></span>
                <span class="token property">anchors.topMargin</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">2</span></span>

                <span class="token property">width</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">26</span></span>
                <span class="token property">height</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">26</span></span>

                <span class="token class-name">Image</span> <span class="token punctuation">&#123;</span>
                    <span class="token property">anchors.fill</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">parent</span>

                    <span class="token property">fillMode</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">Image<span class="token punctuation">.</span>PreserveAspectFit</span>

                    <span class="token property">source</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">imageSource</span>
                <span class="token punctuation">&#125;</span>
            <span class="token punctuation">&#125;</span>

            <span class="token class-name">MouseArea</span> <span class="token punctuation">&#123;</span>
                <span class="token property">anchors.fill</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">parent</span>
                <span class="token property">onClicked</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">parent<span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token string">"expanded"</span></span>
            <span class="token punctuation">&#125;</span>

            <span class="token class-name">Item</span> <span class="token punctuation">&#123;</span>
                <span class="token property">id</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">factsView</span>

                <span class="token property">anchors.top</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">image<span class="token punctuation">.</span>bottom</span>
                <span class="token property">anchors.left</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">parent<span class="token punctuation">.</span>left</span>
                <span class="token property">anchors.right</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">parent<span class="token punctuation">.</span>right</span>
                <span class="token property">anchors.bottom</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">parent<span class="token punctuation">.</span>bottom</span>

                <span class="token property">opacity</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">0</span></span>

                <span class="token class-name">Rectangle</span> <span class="token punctuation">&#123;</span>
                    <span class="token property">anchors.fill</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">parent</span>

                    <span class="token property">color</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"#cccccc"</span></span>

                    <span class="token class-name">Text</span> <span class="token punctuation">&#123;</span>
                        <span class="token property">anchors.fill</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">parent</span>
                        <span class="token property">anchors.margins</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">5</span></span>

                        <span class="token property">clip</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token boolean">true</span></span>
                        <span class="token property">wrapMode</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">Text<span class="token punctuation">.</span>WordWrap</span>

                        <span class="token property">font.pixelSize</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">12</span></span>

                        <span class="token property">text</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">facts</span>
                    <span class="token punctuation">&#125;</span>
                <span class="token punctuation">&#125;</span>
            <span class="token punctuation">&#125;</span>

            <span class="token class-name">Rectangle</span> <span class="token punctuation">&#123;</span>
                <span class="token property">id</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">closeButton</span>

                <span class="token property">anchors.right</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">parent<span class="token punctuation">.</span>right</span>
                <span class="token property">anchors.top</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">parent<span class="token punctuation">.</span>top</span>
                <span class="token property">anchors.rightMargin</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">2</span></span>
                <span class="token property">anchors.topMargin</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">2</span></span>

                <span class="token property">width</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">26</span></span>
                <span class="token property">height</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">26</span></span>

                <span class="token property">color</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"red"</span></span>

                <span class="token property">opacity</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">0</span></span>

                <span class="token class-name">MouseArea</span> <span class="token punctuation">&#123;</span>
                    <span class="token property">anchors.fill</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">parent</span>
                    <span class="token property">onClicked</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">wrapper<span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token string">""</span></span>
                <span class="token punctuation">&#125;</span>
            <span class="token punctuation">&#125;</span>

            <span class="token property">states</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
                <span class="token class-name">State</span> <span class="token punctuation">&#123;</span>
                    <span class="token property">name</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"expanded"</span></span>

                    <span class="token class-name">PropertyChanges</span> <span class="token punctuation">&#123;</span> <span class="token property">target</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">wrapper</span><span class="token punctuation">;</span> <span class="token property">height</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">listView<span class="token punctuation">.</span>height </span><span class="token punctuation">&#125;</span>
                    <span class="token class-name">PropertyChanges</span> <span class="token punctuation">&#123;</span> <span class="token property">target</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">image</span><span class="token punctuation">;</span> <span class="token property">width</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">listView<span class="token punctuation">.</span>width</span><span class="token punctuation">;</span> <span class="token property">height</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">listView<span class="token punctuation">.</span>width</span><span class="token punctuation">;</span> <span class="token property">anchors.rightMargin</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">0</span></span><span class="token punctuation">;</span> <span class="token property">anchors.topMargin</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">30</span> </span><span class="token punctuation">&#125;</span>
                    <span class="token class-name">PropertyChanges</span> <span class="token punctuation">&#123;</span> <span class="token property">target</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">factsView</span><span class="token punctuation">;</span> <span class="token property">opacity</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">1</span> </span><span class="token punctuation">&#125;</span>
                    <span class="token class-name">PropertyChanges</span> <span class="token punctuation">&#123;</span> <span class="token property">target</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">closeButton</span><span class="token punctuation">;</span> <span class="token property">opacity</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">1</span> </span><span class="token punctuation">&#125;</span>
                    <span class="token class-name">PropertyChanges</span> <span class="token punctuation">&#123;</span> <span class="token property">target</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">wrapper<span class="token punctuation">.</span>ListView<span class="token punctuation">.</span>view</span><span class="token punctuation">;</span> <span class="token property">contentY</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">wrapper<span class="token punctuation">.</span>y</span><span class="token punctuation">;</span> <span class="token property">interactive</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token boolean">false</span> </span><span class="token punctuation">&#125;</span>
                <span class="token punctuation">&#125;</span>
            <span class="token punctuation">]</span>

            <span class="token property">transitions</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
                <span class="token class-name">Transition</span> <span class="token punctuation">&#123;</span>
                    <span class="token class-name">NumberAnimation</span> <span class="token punctuation">&#123;</span>
                        <span class="token property">duration</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">200</span></span><span class="token punctuation">;</span>
                        <span class="token property">properties</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"height,width,anchors.rightMargin,anchors.topMargin,opacity,contentY"</span></span>
                    <span class="token punctuation">&#125;</span>
                <span class="token punctuation">&#125;</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><img src="http://qmlbook.org/_images/delegates-expanding-small.png"></p>
<p><img src="http://qmlbook.org/_images/delegates-expanding-large.png"></p>
<p>这个技术展示了展开代理来填充视图能够简单的通过代理的形变来完成。例如当浏览一个歌曲的链表时，可以通过放大当前项来对该项添加更多的说明。</p>
<h2 id="高级用法（Advanced-Techniques）"><a href="#高级用法（Advanced-Techniques）" class="headerlink" title="高级用法（Advanced Techniques）"></a>高级用法（Advanced Techniques）</h2><h3 id="6-5-1-路径视图（The-PathView）"><a href="#6-5-1-路径视图（The-PathView）" class="headerlink" title="6.5.1 路径视图（The PathView）"></a>6.5.1 路径视图（The PathView）</h3><p>路径视图（PathView）非常强大，但也非常复杂，这个视图由QtQuick提供。它创建了一个可以让子项沿着任意路径移动的视图。沿着相同的路径，使用缩放（scale），透明（opacity）等元素可以更加详细的控制过程。</p>
<p>当使用路径视图（PathView）时，你必须定义一个代理和一个路径。在这些之上，路径视图（PathView）本身也可以自定义一些属性的区间。通常会使用pathItemCount属性，它控制了一次可见的子项总数。preferredHighLightBegin属性控制了高亮区间，preferredHighlightEnd与highlightRangeMode，控制了当前项怎样沿着路径显示。</p>
<p>在关注高亮区间之前，我们必须先看看路径（path）这个属性。路径（path）属性使用一个路径（path）元素来定义路径视图（PathView）内代理的滚动路径。路径使用startx与starty属性来链接路径（path）元素，例如PathLine,PathQuad和PathCubic。这些元素都使用二维数组来构造路径。</p>
<p>当路径定义好之后，可以使用PathPercent和PathAttribute元素来进一步设置。它们被放置在路径元素之间，并且为经过它们的路径和代理提供更加细致的控制。PathPercent提供了如何控制每个元素之间覆盖区域部分的路径，然后反过来控制分布在这条路径上的代理元素，它们被按比例的分布播放。</p>
<p>preferredHightlightBegin与preferredHighlightEnd属性由PathView（路径视图）输入到图片元素中。它们的值在0~1之间。结束值大于等于开始值。例如设置这些属性值为0.5，当前项只会显示当前百分之50的图像在这个路径上。</p>
<p>在Path中，PathAttribute元素也是被放置在元素之间的，就像PathPercent元素。它们可以让你指定属性的值然后插入的路径中去。这些属性与代理绑定可以用来控制任意的属性。</p>
<p><img src="http://qmlbook.org/_images/pathview-coverview.png"></p>
<p>下面这个例子展示了路径视图（PathView）如何创建一个卡片视图，并且用户可以滑动它。我们使用了一些技巧来完成这个例子。路径由PathLine元素组成。使用PathPercent元素，它确保了中间的元素居中，并且给其它的元素提供了足够的空间。使用PathAttribute元素来控制旋转，大小和深度值（z-value）。</p>
<p>在这个路径之上（path），需要设置路径视图（PathView）的pathItemCount属性。它控制了路径的浓密度。路径视图的路径（PathView.onPath）使用preferredHighlightBegin与preferredHighlightEnd来控制可见的代理项。</p>
<pre class="line-numbers language-qml" data-language="qml"><code class="language-qml"><span class="token class-name">PathView</span> <span class="token punctuation">&#123;</span>
    <span class="token property">anchors.fill</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">parent</span>

    <span class="token property">delegate</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">flipCardDelegate</span>
    <span class="token property">model</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">100</span></span>

    <span class="token property">path</span><span class="token punctuation">:</span> <span class="token class-name">Path</span> <span class="token punctuation">&#123;</span>
        <span class="token property">startX</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">root<span class="token punctuation">.</span>width<span class="token operator">/</span><span class="token number">2</span></span>
        <span class="token property">startY</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">0</span></span>

        <span class="token class-name">PathAttribute</span> <span class="token punctuation">&#123;</span> <span class="token property">name</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"itemZ"</span></span><span class="token punctuation">;</span> <span class="token property">value</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">0</span> </span><span class="token punctuation">&#125;</span>
        <span class="token class-name">PathAttribute</span> <span class="token punctuation">&#123;</span> <span class="token property">name</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"itemAngle"</span></span><span class="token punctuation">;</span> <span class="token property">value</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token operator">-</span><span class="token number">90.0</span></span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
        <span class="token class-name">PathAttribute</span> <span class="token punctuation">&#123;</span> <span class="token property">name</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"itemScale"</span></span><span class="token punctuation">;</span> <span class="token property">value</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">0.5</span></span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
        <span class="token class-name">PathLine</span> <span class="token punctuation">&#123;</span> <span class="token property">x</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">root<span class="token punctuation">.</span>width<span class="token operator">/</span><span class="token number">2</span></span><span class="token punctuation">;</span> <span class="token property">y</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">root<span class="token punctuation">.</span>height<span class="token operator">*</span><span class="token number">0.4</span></span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
        <span class="token class-name">PathPercent</span> <span class="token punctuation">&#123;</span> <span class="token property">value</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">0.48</span></span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
        <span class="token class-name">PathLine</span> <span class="token punctuation">&#123;</span> <span class="token property">x</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">root<span class="token punctuation">.</span>width<span class="token operator">/</span><span class="token number">2</span></span><span class="token punctuation">;</span> <span class="token property">y</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">root<span class="token punctuation">.</span>height<span class="token operator">*</span><span class="token number">0.5</span></span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
        <span class="token class-name">PathAttribute</span> <span class="token punctuation">&#123;</span> <span class="token property">name</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"itemAngle"</span></span><span class="token punctuation">;</span> <span class="token property">value</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">0.0</span></span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
        <span class="token class-name">PathAttribute</span> <span class="token punctuation">&#123;</span> <span class="token property">name</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"itemScale"</span></span><span class="token punctuation">;</span> <span class="token property">value</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">1.0</span></span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
        <span class="token class-name">PathAttribute</span> <span class="token punctuation">&#123;</span> <span class="token property">name</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"itemZ"</span></span><span class="token punctuation">;</span> <span class="token property">value</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">100</span> </span><span class="token punctuation">&#125;</span>
        <span class="token class-name">PathLine</span> <span class="token punctuation">&#123;</span> <span class="token property">x</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">root<span class="token punctuation">.</span>width<span class="token operator">/</span><span class="token number">2</span></span><span class="token punctuation">;</span> <span class="token property">y</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">root<span class="token punctuation">.</span>height<span class="token operator">*</span><span class="token number">0.6</span></span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
        <span class="token class-name">PathPercent</span> <span class="token punctuation">&#123;</span> <span class="token property">value</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">0.52</span></span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
        <span class="token class-name">PathLine</span> <span class="token punctuation">&#123;</span> <span class="token property">x</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">root<span class="token punctuation">.</span>width<span class="token operator">/</span><span class="token number">2</span></span><span class="token punctuation">;</span> <span class="token property">y</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">root<span class="token punctuation">.</span>height</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
        <span class="token class-name">PathAttribute</span> <span class="token punctuation">&#123;</span> <span class="token property">name</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"itemAngle"</span></span><span class="token punctuation">;</span> <span class="token property">value</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">90.0</span></span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
        <span class="token class-name">PathAttribute</span> <span class="token punctuation">&#123;</span> <span class="token property">name</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"itemScale"</span></span><span class="token punctuation">;</span> <span class="token property">value</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">0.5</span></span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
        <span class="token class-name">PathAttribute</span> <span class="token punctuation">&#123;</span> <span class="token property">name</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"itemZ"</span></span><span class="token punctuation">;</span> <span class="token property">value</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">0</span> </span><span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token property">pathItemCount</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">16</span></span>

    <span class="token property">preferredHighlightBegin</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">0.5</span></span>
    <span class="token property">preferredHighlightEnd</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">0.5</span></span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<p>代理如下面所示，使用了一些从PathAttribute中链接的属性，itemZ,itemAngle和itemScale。需要注意代理链接的属性只在wrapper中可用。因此，rotxs属性在Rotation元素中定义为可访问值。</p>
<p>另一个需要注意的是路径视图（PathView）链接的PathView.onPath属性的用法。通常对于这个属性都绑定为可见，这样允许路径视图（PathView）缓冲不可见的元素。这不是通过剪裁处理来实现的，因为路径视图（PathView）的代理比其它的视图，例如链表视图（ListView）或者栅格视图（GridView）放置更加随意。</p>
<pre class="line-numbers language-qml" data-language="qml"><code class="language-qml"><span class="token class-name">Component</span> <span class="token punctuation">&#123;</span>
    <span class="token property">id</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">flipCardDelegate</span>

    <span class="token class-name">Item</span> <span class="token punctuation">&#123;</span>
        <span class="token property">id</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">wrapper</span>

        <span class="token property">width</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">64</span></span>
        <span class="token property">height</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">64</span></span>

        <span class="token property">visible</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">PathView<span class="token punctuation">.</span>onPath</span>

        <span class="token property">scale</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">PathView<span class="token punctuation">.</span>itemScale</span>
        <span class="token property">z</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">PathView<span class="token punctuation">.</span>itemZ</span>

        <span class="token property"><span class="token keyword">property</span> <span class="token property">variant</span> <span class="token property">rotX</span></span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">PathView<span class="token punctuation">.</span>itemAngle</span>
        <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token class-name">Rotation</span> <span class="token punctuation">&#123;</span> axis <span class="token punctuation">&#123;</span> <span class="token property">x</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">1</span></span><span class="token punctuation">;</span> <span class="token property">y</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">0</span></span><span class="token punctuation">;</span> <span class="token property">z</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">0</span> </span><span class="token punctuation">&#125;</span> angle<span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">wrapper<span class="token punctuation">.</span>rotX</span><span class="token punctuation">;</span> <span class="token class-name">origin</span> <span class="token punctuation">&#123;</span> <span class="token property">x</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">32</span></span><span class="token punctuation">;</span> <span class="token property">y</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">32</span></span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span> <span class="token punctuation">&#125;</span>

        <span class="token class-name">Rectangle</span> <span class="token punctuation">&#123;</span>
            <span class="token property">anchors.fill</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">parent</span>
            <span class="token property">color</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"lightGray"</span></span>
            <span class="token property">border.color</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"black"</span></span>
            <span class="token property">border.width</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">3</span></span>
        <span class="token punctuation">&#125;</span>

        <span class="token class-name">Text</span> <span class="token punctuation">&#123;</span>
            <span class="token property">anchors.centerIn</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">parent</span>
            <span class="token property">text</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">index</span>
            <span class="token property">font.pixelSize</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">30</span></span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>当在路径视图（PathView）上使用图像转换或者其它更加复杂的元素时，有一个性能优化的技巧是绑定图像元素（Image）的smooth属性与PathView.view.moving属性。这意味着图像在移动时可能不够完美，但是能够比较平滑的转换。当视图在移动时，对于平滑缩放的处理是没有意义的，因为用户根本看不见这个过程。</p>
<h3 id="6-5-2-XML模型（A-Model-from-XML）"><a href="#6-5-2-XML模型（A-Model-from-XML）" class="headerlink" title="6.5.2 XML模型（A Model from XML）"></a>6.5.2 XML模型（A Model from XML）</h3><p>由于XML是一种常见的数据格式，QML提供了XmlListModel元素来包装XML数据。这个元素能够获取本地或者网络上的XML数据，然后通过XPath解析这些数据。</p>
<p>下面这个例子展示了从RSS流中获取图片，源属性（source）引用了一个网络地址，这个数据会自动下载。</p>
<p><img src="http://qmlbook.org/_images/xmllistmodel-images.png"></p>
<p>当数据下载完成后，它会被加工作为模型的子项。查询属性（query）是一个XPath代理的基础查询，用来创建模型项。在这个例子中，这个路径是/rss/channel/item，所以，在一个模型子项创建后，每一个子项的标签，都包含了一个频道标签，包含一个RSS标签。</p>
<p>每一个模型项，一些规则需要被提取，由XmlRole元素来代理。每一个规则都需要一个名称，这样代理才能够通过属性绑定来访问。每个这样的属性的值都通过XPath查询来确定。例如标题属性（title）符合title/string()查询，返回内容中在之间的值。</p>
<p>图像源属性（imageSource）更加有趣，因为它不仅仅是从XML中提取字符串，也需要加载它。在流数据的支持下，每个子项包含了一个图片。使用XPath的函数substring-after与substring-before，可以提取本地的图片资源。这样imageSource属性就可以直接被作为一个Image元素的source属性使用。</p>
<pre class="line-numbers language-qml" data-language="qml"><code class="language-qml"><span class="token keyword">import</span> QtQuick 2.0
<span class="token keyword">import</span> QtQuick.XmlListModel 2.0

<span class="token class-name">Item</span> <span class="token punctuation">&#123;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">300</span></span>
    <span class="token property">height</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">480</span></span>

    <span class="token class-name">Component</span> <span class="token punctuation">&#123;</span>
        <span class="token property">id</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">imageDelegate</span>

        <span class="token class-name">Item</span> <span class="token punctuation">&#123;</span>
            <span class="token property">width</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">listView<span class="token punctuation">.</span>width</span>
            <span class="token property">height</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">400</span></span>

        <span class="token class-name">Column</span> <span class="token punctuation">&#123;</span>
                <span class="token class-name">Text</span> <span class="token punctuation">&#123;</span>
                    <span class="token property">text</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">title</span>
                <span class="token punctuation">&#125;</span>

                <span class="token class-name">Image</span> <span class="token punctuation">&#123;</span>
                    <span class="token property">source</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">imageSource</span>
                <span class="token punctuation">&#125;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token class-name">XmlListModel</span> <span class="token punctuation">&#123;</span>
        <span class="token property">id</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">imageModel</span>

        <span class="token property">source</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"http://feeds.nationalgeographic.com/ng/photography/photo-of-the-day/"</span></span>
        <span class="token property">query</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"/rss/channel/item"</span></span>

        <span class="token class-name">XmlRole</span> <span class="token punctuation">&#123;</span> <span class="token property">name</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"title"</span></span><span class="token punctuation">;</span> <span class="token property">query</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"title/string()"</span> </span><span class="token punctuation">&#125;</span>
        <span class="token class-name">XmlRole</span> <span class="token punctuation">&#123;</span> <span class="token property">name</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"imageSource"</span></span><span class="token punctuation">;</span> <span class="token property">query</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"substring-before(substring-after(description/string(), 'img src=\"'), '\"')"</span> </span><span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token class-name">ListView</span> <span class="token punctuation">&#123;</span>
        <span class="token property">id</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">listView</span>

        <span class="token property">anchors.fill</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">parent</span>

        <span class="token property">model</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">imageModel</span>
        <span class="token property">delegate</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">imageDelegate</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="6-5-3-链表分段（Lists-with-Sections）"><a href="#6-5-3-链表分段（Lists-with-Sections）" class="headerlink" title="6.5.3 链表分段（Lists with Sections）"></a>6.5.3 链表分段（Lists with Sections）</h3><p>有时，链表的数据需要划分段。例如使用首字母来划分联系人，或者音乐。使用链表视图可以把平面列表按类别划分。</p>
<p><img src="http://qmlbook.org/_images/listview-sections.png"></p>
<p>为了使用分段，section.property与section.criteria必须安装。section.property定义了哪些属性用于内容的划分。在这里，最重要的是知道每一段由哪些连续的元素构成，否则相同的属性名可能出现在几个不同的地方。</p>
<p>section.criteria能够被设置为ViewSection.FullString或者ViewSection.FirstCharacter。默认下使用第一个值，能够被用于模型中有清晰的分段，例如音乐专辑。第二个是使用一个属性的首字母来分段，这说明任何属性都可以被使用。通常的例子是用于联系人名单的姓。</p>
<p>当段被定义好后，每个子项能够使用绑定属性ListView.section，ListView.previousSection与ListView.nextSection来访问。使用这些属性，可以检测段的第一个与最后一个子项。</p>
<p>使用链表视图（ListView）的section.delegate属性可以给段指定代理组件。它能够创建段标题，并且可以在任意子项之前插入这个段代理。使用绑定属性section可以访问当前段的名称。</p>
<p>下面这个例子使用国际分类展示了分段的一些概念。国籍（nation）作为section.property，段代理组件（section.delegate）使用每个国家作为标题。在每个段中，spacemen模型中的名字使用spaceManDelegate组件来代理显示。</p>
<pre class="line-numbers language-qml" data-language="qml"><code class="language-qml"><span class="token keyword">import</span> QtQuick 2.0

<span class="token class-name">Rectangle</span> <span class="token punctuation">&#123;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">300</span></span>
    <span class="token property">height</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">290</span></span>

    <span class="token property">color</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"white"</span></span>

    <span class="token class-name">ListView</span> <span class="token punctuation">&#123;</span>
        <span class="token property">anchors.fill</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">parent</span>
        <span class="token property">anchors.margins</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">20</span></span>

        <span class="token property">clip</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token boolean">true</span></span>

        <span class="token property">model</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">spaceMen</span>

        <span class="token property">delegate</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">spaceManDelegate</span>

        <span class="token property">section.property</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"nation"</span></span>
        <span class="token property">section.delegate</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">sectionDelegate</span>
    <span class="token punctuation">&#125;</span>

    <span class="token class-name">Component</span> <span class="token punctuation">&#123;</span>
        <span class="token property">id</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">spaceManDelegate</span>

        <span class="token class-name">Item</span> <span class="token punctuation">&#123;</span>
            <span class="token property">width</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">260</span></span>
            <span class="token property">height</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">20</span></span>

            <span class="token class-name">Text</span> <span class="token punctuation">&#123;</span>
                <span class="token property">anchors.left</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">parent<span class="token punctuation">.</span>left</span>
                <span class="token property">anchors.verticalCenter</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">parent<span class="token punctuation">.</span>verticalCenter</span>
                <span class="token property">anchors.leftMargin</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">10</span></span>

                <span class="token property">font.pixelSize</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">12</span></span>

                <span class="token property">text</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">name</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token class-name">Component</span> <span class="token punctuation">&#123;</span>
        <span class="token property">id</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">sectionDelegate</span>

        <span class="token class-name">Rectangle</span> <span class="token punctuation">&#123;</span>
            <span class="token property">width</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">260</span></span>
            <span class="token property">height</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">20</span></span>

            <span class="token property">color</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"lightGray"</span></span>

            <span class="token class-name">Text</span> <span class="token punctuation">&#123;</span>
                <span class="token property">anchors.left</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">parent<span class="token punctuation">.</span>left</span>
                <span class="token property">anchors.verticalCenter</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">parent<span class="token punctuation">.</span>verticalCenter</span>
                <span class="token property">anchors.leftMargin</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">10</span></span>

                <span class="token property">font.pixelSize</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">12</span></span>
                <span class="token property">font.bold</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token boolean">true</span></span>

                <span class="token property">text</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">section</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>


    <span class="token class-name">ListModel</span> <span class="token punctuation">&#123;</span>
        <span class="token property">id</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">spaceMen</span>

        <span class="token class-name">ListElement</span> <span class="token punctuation">&#123;</span> <span class="token property">name</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"Abdul Ahad Mohmand"</span></span><span class="token punctuation">;</span> <span class="token property">nation</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"Afganistan"</span></span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
        <span class="token class-name">ListElement</span> <span class="token punctuation">&#123;</span> <span class="token property">name</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"Marcos Pontes"</span></span><span class="token punctuation">;</span> <span class="token property">nation</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"Brazil"</span></span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
        <span class="token class-name">ListElement</span> <span class="token punctuation">&#123;</span> <span class="token property">name</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"Alexandar Panayotov Alexandrov"</span></span><span class="token punctuation">;</span> <span class="token property">nation</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"Bulgaria"</span></span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
        <span class="token class-name">ListElement</span> <span class="token punctuation">&#123;</span> <span class="token property">name</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"Georgi Ivanov"</span></span><span class="token punctuation">;</span> <span class="token property">nation</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"Bulgaria"</span></span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
        <span class="token class-name">ListElement</span> <span class="token punctuation">&#123;</span> <span class="token property">name</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"Roberta Bondar"</span></span><span class="token punctuation">;</span> <span class="token property">nation</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"Canada"</span></span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
        <span class="token class-name">ListElement</span> <span class="token punctuation">&#123;</span> <span class="token property">name</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"Marc Garneau"</span></span><span class="token punctuation">;</span> <span class="token property">nation</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"Canada"</span></span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
        <span class="token class-name">ListElement</span> <span class="token punctuation">&#123;</span> <span class="token property">name</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"Chris Hadfield"</span></span><span class="token punctuation">;</span> <span class="token property">nation</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"Canada"</span></span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
        <span class="token class-name">ListElement</span> <span class="token punctuation">&#123;</span> <span class="token property">name</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"Guy Laliberte"</span></span><span class="token punctuation">;</span> <span class="token property">nation</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"Canada"</span></span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
        <span class="token class-name">ListElement</span> <span class="token punctuation">&#123;</span> <span class="token property">name</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"Steven MacLean"</span></span><span class="token punctuation">;</span> <span class="token property">nation</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"Canada"</span></span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
        <span class="token class-name">ListElement</span> <span class="token punctuation">&#123;</span> <span class="token property">name</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"Julie Payette"</span></span><span class="token punctuation">;</span> <span class="token property">nation</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"Canada"</span></span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
        <span class="token class-name">ListElement</span> <span class="token punctuation">&#123;</span> <span class="token property">name</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"Robert Thirsk"</span></span><span class="token punctuation">;</span> <span class="token property">nation</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"Canada"</span></span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
        <span class="token class-name">ListElement</span> <span class="token punctuation">&#123;</span> <span class="token property">name</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"Bjarni Tryggvason"</span></span><span class="token punctuation">;</span> <span class="token property">nation</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"Canada"</span></span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
        <span class="token class-name">ListElement</span> <span class="token punctuation">&#123;</span> <span class="token property">name</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"Dafydd Williams"</span></span><span class="token punctuation">;</span> <span class="token property">nation</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">"Canada"</span></span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="6-5-4-性能协调（Tunning-Performance）"><a href="#6-5-4-性能协调（Tunning-Performance）" class="headerlink" title="6.5.4 性能协调（Tunning Performance）"></a>6.5.4 性能协调（Tunning Performance）</h3><p>一个模型视图的性能很大程度上依赖于代理的创建。例如滚动下拉一个链表视图时，代理从外部加入到视图底部，并且从视图顶部移出。如果设置剪裁（clip）属性为false，并且代理项花了很多时间来初始化，用户会感觉到视图滚动体验很差。</p>
<p>为了优化这个问题，你可以在滚动时使用像素来调整。使用cacheBuffer属性，在上诉情况下的垂直滚动，它将会调整在链表视图的上下需要预先准备好多少像素的代理项，结合异步加载图像元素（Image），例如在它们进入视图之前加载。</p>
<p>创建更多的代理项将会牺牲一些流畅的体验，并且花更多的时间来初始化每个代理。这并不代表可以解决一些更加复杂的代理项的问题。在每次实例化代理时，它的内容都会被评估和编辑。这需要花费时间，如果它花费了太多的时间，它将会导致一个很差的滚动体验。在一个代理中包含太多的元素也会降低滚动的性能。</p>
<p>为了补救这个问题，我们推荐使用动态加载元素。当它们需要时，可以初始化这些附加的元素。例如，一个展开代理可能推迟它的详细内容的实例化，直到需要使用它时。每个代理中最好减少JavaScript的数量。将每个代理中复杂的JavaScript调用放在外面来实现。这将会减少每个代理在创建时编译JavaScript。</p>
<h2 id="总结（Summary）"><a href="#总结（Summary）" class="headerlink" title="总结（Summary）"></a>总结（Summary）</h2><p>在这个章节中，我们学习了模型，视图与代理。每个数据的入口是模型，视图通过可视化代理来实现数据的可视化。将数据从显示中分离出来。</p>
<p>一个模型可以是一个整数，提供给代理使用的索引值（index ）。如果JavaScript数组被作为一个模型，模型数据变量（modelData）代表了数组的数据的当前索引。对于更加复杂的情况，每个数据项需要提供多个值，使用链表模型（ListModel）与链表元素（ListElement）是一个更好的解决办法。</p>
<p>对于静态模型，一个Repeater可以被用作视图。它可以非常方便的使用行（Row），列（Column），栅格（Grid），或者流（Flow）来创建用户界面。对于动态或者大的数据模型，使用ListView或者GridView更加适合。它们会在需要时动态的创建代理，减少在场景下一次显示的元素的数量。</p>
<p>在视图中的代理可以与数据模型中的属性静态绑定，或者动态绑定。使用视图的onAdd与onRemove信号，可以动态播放的它们的显示与消失。</p>

      
       <hr><span style="font-style: italic;color: gray;"> 转载请注明来源，欢迎对文章中的引用来源进行考证，欢迎指出任何有错误或不够清晰的表达。可以在下面评论区评论，也可以邮件至 2291184112@qq.com </span>
    </div>
</article>


<p>
    <a  class="dashang" onclick="dashangToggle()">赏</a>
</p>




    <div id="comments"></div>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">

<script type="text/javascript">
    $.getScript('/js/gitalk.js', function () {
        var gitalk = new Gitalk({
            clientID: '8b43e31f650f5435483b',
            clientSecret: '064e9e8cea04c2872840ec2ef131b8455ef4fa86',
            repo: 'robinsea.github.io',
            owner: 'RobinSea',
            admin: ['robinsea'],
            id: decodeURI(location.pathname),
            distractionFreeMode: 'true',
            language: 'zh-CN',
            perPage: parseInt('10',10)
        })
        gitalk.render('comments')
    })
</script>







    </div>
    <div class="copyright">
        <p class="footer-entry">
    ©2016-2020 MyBlog
</p>
<p class="footer-entry">Built with <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/yelog/hexo-theme-3-hexo" target="_blank">3-hexo</a> theme</p>

    </div>
    <div class="full-toc">
        <button class="full" data-title="切换全屏 快捷键 s"><span class="min "></span></button>
<a class="" id="rocket" ></a>

    </div>
</div>

<div class="hide_box" onclick="dashangToggle()"></div>
<div class="shang_box">
    <a class="shang_close"  onclick="dashangToggle()">×</a>
    <div class="shang_tit">
        <p>喜欢就点赞,疼爱就打赏</p>
    </div>
    <div class="shang_payimg">
        <div class="pay_img">
            <img src="/img/alipay.jpg" class="alipay" title="扫码支持">
            <img src="/img/weixin.jpg" class="weixin" title="扫码支持">
        </div>
    </div>
    <div class="shang_payselect">
        <span><label><input type="radio" name="pay" checked value="alipay">支付宝</label></span><span><label><input type="radio" name="pay" value="weixin">微信</label></span>
    </div>
</div>


</body>
<script src="/js/jquery.pjax.js?v=1.1.0" ></script>

<script src="/js/script.js?v=1.1.0" ></script>
<script>
    var img_resize = 'default';
    function initArticle() {
        /*渲染对应的表格样式*/
        
            $("#post .pjax table").addClass("green_title");
        
        /*渲染打赏样式*/
        
        $("input[name=pay]").on("click", function () {
            if($("input[name=pay]:checked").val()=="weixin"){
                $(".shang_box .shang_payimg .pay_img").addClass("weixin_img");
            } else {
                $(".shang_box .shang_payimg .pay_img").removeClass("weixin_img");
            }
        })
        
        /*高亮代码块行号*/
        
        /*访问数量*/
        
        $.getScript("//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js");
        
        /*代码高亮，行号对齐*/
        $('.pre-numbering').css('line-height',$('.has-numbering').css('line-height'));
        
        
        /* 渲染*/
        function HTMLDecode(text) {
            var temp = document.createElement("div");
            temp.innerHTML = text;
            var output = temp.innerText || temp.textContent;
            temp = null;
            return output;
        }
        if (window.mermaid){
            window.mermaid = null
        }
        $.getScript("//cdn.jsdelivr.net/npm/mermaid@8.4.2/dist/mermaid.min.js", function () {
            var mermaidOptions = JSON.parse(HTMLDecode("{&#34;theme&#34;:&#34;default&#34;,&#34;startOnLoad&#34;:true,&#34;flowchart&#34;:{&#34;useMaxWidth&#34;:false,&#34;htmlLabels&#34;:true}}"))
            if (window.mermaid) {
                mermaid.initialize(mermaidOptions)
                mermaid.contentLoaded()
            }
        })
        
    }
    /*打赏页面隐藏与展示*/
    
    function dashangToggle() {
        $(".shang_box").fadeToggle();
        $(".hide_box").fadeToggle();
    }
    
</script>

<!--加入行号的高亮代码块样式-->

<!--自定义样式设置-->
<style>
    
    
    .nav {
        width: 542px;
    }
    .nav.fullscreen {
        margin-left: -542px;
    }
    .nav-left {
        width: 120px;
    }
    
    
    @media screen and (max-width: 1468px) {
        .nav {
            width: 492px;
        }
        .nav.fullscreen {
            margin-left: -492px;
        }
        .nav-left {
            width: 100px;
        }
    }
    
    
    @media screen and (max-width: 1024px) {
        .nav {
            width: 492px;
            margin-left: -492px
        }
        .nav.fullscreen {
            margin-left: 0;
        }
    }
    
    @media screen and (max-width: 426px) {
        .nav {
            width: 100%;
        }
        .nav-left {
            width: 100%;
        }
    }
    
    
    .nav-right .title-list nav a .post-title, .nav-right .title-list #local-search-result a .post-title {
        color: #383636;
    }
    
    
    .nav-right .title-list nav a .post-date, .nav-right .title-list #local-search-result a .post-date {
        color: #5e5e5f;
    }
    
    
    .nav-right nav a.hover, #local-search-result a.hover{
        background-color: #e2e0e0;
    }
    
    
    /*列表样式*/
    
    /* 背景图样式 */
    
    
    /*引用块样式*/
    
    /*文章列表背景图*/
    
    
</style>






</html>
